define("common/js/channel/common",["jquery","./../plugin/json2","./../plugin/jquery-cookie","../util/kmf-localstorage","./../plugin/template.3.0","./../mod/header/login_info","./../mod/env","./../mod/header/head_nav","../../tpl/messages.tpl","../../tpl/message_list.tpl","./../util/form","./../util/kmf-tips","./../util/kmf-alert","jqueryui","../../tpl/kmf-alert.tpl","./../util/dialog-login","../../tpl/login.tpl","../mod/login","./../util/kmf-warn","./../mod/feedback","../mod/createFeedback","../../tpl/feedback.tpl","../mod/goTop_closeFB","./../util/kmf-string","./../mod/resetFooter","../mod/openclass","../../tpl/openclass/all_channel.tpl","./kmf-da-reg","../mod/userdata/main","../mod/userdata/complete","../../tpl/copyright/private.tpl","../../tpl/userdata/modal.tpl","../mod/userdata/collect","../plugin/datepicker.min","../mod/userdata/locate","../mod/footer_weixin","../../tpl/footer_weixin.tpl","../../kmf_components/footer/main","../../kmf_components/footer/tpl/footer.tpl","../mod/topBanner/top-banner","../util/ali-file","../plugin/md5","../plugin/evercookie","./ab-test","./qa-access","./qa","../util/transform-time","../util/api","./qa-evaluate","../util/ws","../plugin/template.3.0","../../tpl/qa/history.tpl","../../tpl/qa/new.tpl","./detail","../../tpl/qa/feedback.tpl","./feedback","../../tpl/qa/statement-of-account.tpl","../../tpl/qa/qa-evaluate.tpl","../../tpl/qa/detail.tpl","../../tpl/qa/guide.tpl","../../tpl/qa/index.tpl","../mod/toefl-k"],function(a,b,c){function d(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}var e=a("jquery");a("./../plugin/json2"),a("./../plugin/jquery-cookie"),window.kmfLS=a("../util/kmf-localstorage"),window.template=a("./../plugin/template.3.0"),e(document).on("click",".js-close-activity-common",function(a){a.preventDefault(),e(document).find(".g-kmf-activity-common-banner").fadeOut(1500)}),a("./../mod/header/login_info"),a("./../mod/env"),a("./../mod/header/head_nav"),a("./../util/form"),a("./../util/kmf-tips"),a("./../util/kmf-alert");var f=(a("./../util/dialog-login"),a("./../util/kmf-warn"));a("./../mod/feedback"),a("./../util/kmf-string"),a("./../mod/resetFooter");var g=a("../mod/openclass");a("./kmf-da-reg"),a("../mod/userdata/main"),a("../mod/footer_weixin"),a("../../kmf_components/footer/main").init(".js-kmf-footer"),a("../mod/topBanner/top-banner"),a("../util/ali-file"),a("../plugin/md5"),a("../plugin/evercookie"),e(document).delegate(".js-kmf-tips",{mouseenter:function(){e(this).kmfTips("open")},mouseleave:function(){e(this).kmfTips("close")}}),e(".js-kmf-form li").formStyle(),e("body").delegate(".js-kmf-login","click",function(){d()?window.location.replace(kmfGlobalConf.prefix+"account.kmf.com/mobile/login?backurl="+encodeURIComponent(window.location.href)):window.open(kmfGlobalConf.prefix+"account.kmf.com/login?backurl="+encodeURIComponent(window.location.href),"__blank")}),window.kmfDaCookie();var h=new evercookie({history:!1,java:!1,domain:".kmf.com",baseurl:kmfGlobalConf.prefix+"utcs.kmf.com",phpuri:"/api/v1/cookie",pngPath:"",etagPath:"",cachePath:""});e.cookie("uuid")||h.get("uuid",function(a){var b=md5(""+Date.parse(new Date)+Math.floor(1e9*Math.random())).toString();a||h.set("uuid",b)}),a("./ab-test"),a("./qa-access"),a("../mod/toefl-k"),c.exports={warn:f,openclass:g}}),define("common/js/plugin/json2",[],function(){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return a<10?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;c<f;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;c<f;c+=1)"string"==typeof rep[c]&&(d=rep[c],(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i))&&g.push(quote(d)+(gap?": ":":")+e);return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;d<c;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return str("",{"":a})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}),define("common/js/plugin/jquery-cookie",["jquery"],function(a,b,c){var d=a("jquery");d.cookie=function(a,b,c){if(void 0===b){var e=null;if(document.cookie&&""!=document.cookie)for(var f=document.cookie.split(";"),g=0;g<f.length;g++){var h=d.trim(f[g]);if(h.substring(0,a.length+1)==a+"="){e=decodeURIComponent(h.substring(a.length+1));break}}return e}c=c||{},null===b&&(b="",c.expires=-1);var i="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var j;"number"==typeof c.expires?(j=new Date,j.setTime(j.getTime()+24*c.expires*60*60*1e3)):j=c.expires,i="; expires="+j.toUTCString()}var k=c.path?"; path="+c.path:"",l=c.domain?"; domain="+c.domain:"",m=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),i,k,l,m].join("")},d.removeCookie=function(a,b){return d.cookie(a,"",d.extend({},b,{expires:-1})),!d.cookie(a)}}),define("common/js/util/kmf-localstorage",[],function(a,b,c){var d=window.localStorage,e=function(a,b,c){var e,f,g,h,i=Date.now(),j=arguments.length;if(!d)return null;if(j>0&&(e=d.getItem(a)),1==j){if(null===e)return e;try{f=JSON.parse(e)}catch(a){}return f?f.expires&&f.expires-i>0||null==f.expires?f.value:(d.removeItem(a),null):e}j>1&&(h=void 0===typeof c?null:i+24*c*60*60*1e3,g={value:b,createTime:i,expires:h},null===b?d.removeItem(a):d.setItem(a,JSON.stringify(g)))};(function(){var a;d&&(a=Object.keys(d),a.forEach(function(a){e(a)}))})(),c.exports=e}),function(){function a(a){return a.replace(t,"").replace(u,",").replace(v,"").replace(w,"").replace(x,"").split(y)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=s[1]+b(a)+s[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return"$line="+ ++m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");n[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=s[1]+b+s[2]}return g&&(b="$line="+c+";"+b),r(a(b),function(a){if(a&&!p[a]){var b;b="print"===a?u:"include"===a?v:n[a]?"$utils."+a:o[a]?"$helpers."+a:"$data."+a,w+=a+"="+b+",",p[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,p={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},q="".trim,s=q?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],t=q?"$out+=text;return $out;":"$out.push(text);",u="function(){var text=''.concat.apply('',arguments);"+t+"}",v="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+t+"}",w="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),x=s[0],y="return new String("+s[3]+");";r(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?x+=e(b):(x+=f(b),c&&(x+=e(c)))});var z=w+x+y;g&&(z="try{"+z+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var A=new Function("$data","$filename",z);return A.prototype=n,A}catch(a){throw a.temp="function anonymous($data,$filename) {"+z+"}",a}}var d=function(a,b){return"string"==typeof b?q(b,{filename:a}):g(a,b)};d.version="3.0.0",d.config=function(a,b){e[a]=b};var e=d.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},f=d.cache={};d.render=function(a,b){return q(a,b)};var g=d.renderFile=function(a,b){var c=d.get(a)||p({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};d.get=function(a){var b;if(f[a])b=f[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=q(d,{filename:a})}}return b};var h=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?h(a.call(a)):""),a},i={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},j=function(a){return i[a]},k=function(a){return h(a).replace(/&(?![\w#]+;)|[<>"']/g,j)},l=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},m=function(a,b){var c,d;if(l(a))for(c=0,d=a.length;c<d;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},n=d.utils={$helpers:{},$include:g,$string:h,$escape:k,$each:m};d.helper=function(a,b){o[a]=b};var o=d.helpers=n.$helpers;d.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var p=function(a){return d.onerror(a),function(){return"{Template Error}"}},q=d.compile=function(a,b){function d(c){try{return new i(c,h)+""}catch(d){return b.debug?p(d)():(b.debug=!0,q(a,b)(c))}}b=b||{};for(var g in e)void 0===b[g]&&(b[g]=e[g]);var h=b.filename;try{var i=c(a,b)}catch(a){return a.filename=h||"anonymous",a.name="Syntax Error",p(a)}return d.prototype=i.prototype,d.toString=function(){return i.toString()},h&&b.cache&&(f[h]=d),d},r=n.$each,s="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",t=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,u=/[^\w$]+/g,v=new RegExp(["\\b"+s.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),w=/^\d[^,]*|,\d[^,]*/g,x=/^,+|,+$/g,y=/^$|,+/;e.openTag="{{",e.closeTag="}}";var z=function(a,b){var c=b.split(":"),d=c.shift(),e=c.join(":")||"";return e&&(e=", "+e),"$helpers."+d+"("+a+e+")"};e.parser=function(a,b){a=a.replace(/^\s/,"");var c=a.split(" "),e=c.shift(),f=c.join(" ");switch(e){case"if":a="if("+f+"){";break;case"else":c="if"===c.shift()?" if("+c.join(" ")+")":"",a="}else"+c+"{";break;case"/if":a="}";break;case"each":var g=c[0]||"$data",h=c[1]||"as",i=c[2]||"$value",j=c[3]||"$index",k=i+","+j;"as"!==h&&(g="[]"),a="$each("+g+",function("+k+"){";break;case"/each":a="});";break;case"echo":a="print("+f+");";break;case"print":case"include":a=e+"("+c.join(",")+");";break;default:if(/^\s*\|\s*[\w\$]/.test(f)){var l=!0;0===a.indexOf("#")&&(a=a.substr(1),l=!1);for(var m=0,n=a.split("|"),o=n.length,p=n[m++];m<o;m++)p=z(p,n[m]);a=(l?"=":"=#")+p}else a=d.helpers[e]?"=#"+e+"("+c.join(",")+");":"="+a}return a},"function"==typeof define?define("common/js/plugin/template.3.0",[],function(){return d}):"undefined"!=typeof exports?module.exports=d:this.template=d}(),define("common/js/mod/header/login_info",["jquery"],function(a,b,c){var d=a("jquery"),e=function(){var a=d("#GlobeLogin"),b={loginStatus:2};return a.length>0?b.loginStatus=d.trim(d("#GlobeLogin").val()):b.loginStatus,b};window.kmfGlobalUser=e(),c.exports=e}),define("common/js/mod/env",[],function(a,b,c){function d(a,b){for(var c in b)void 0===a[c]&&(a[c]=b[c])}window.kmfGlobalConf=window.kmfGlobalConf||{};var e={prefix:"//",env:"online",http:"http:",https:"https:"};d(window.kmfGlobalConf,e)}),define("common/js/mod/header/head_nav",["jquery"],function(a,b,c){var d=a("jquery");({loading:{},userData:{},msgData:{},category:[],init:function(){var a=this,b=d("#js-subject-about-navs"),c=d("#js-second-triangle"),e=d(".asidecol"),f=(d("#js-header-userinfo"),d("#js-sys-message")),a=(f.find(".sub-message"),this);this.$message=f;for(var g=0;g<b.find("li").length;g++){var h=b.find("li").eq(g);if(h.hasClass("hasSecond")){var i=h.offset().left+h.width()/2-6+"px";d(".site-gg .subject-about-navs li.active").index();c.css("left",i)}}e.on("mouseenter",".username",function(b){a.subUserInfo.call(a),b.stopPropagation()}),this.getMsgCount(),d(".user-msg > a").off("mouseenter").on("mouseenter",function(b){d(this).find(".message-count").hide(),a.getMsg.call(a),b.stopPropagation()}),e.on("click",".sub-message-tab-btn",function(){a.getSingleMsg.call(a,d(this))}),this.markReaded()},subUserInfo:function(){var a="/app/ajaxuserinfo",b=d("#js-header-userinfo .sub-userinfo"),c=this,e="user";if(kmfGlobalUser&&1==kmfGlobalUser.loginStatus){if(c.loading[e]||c.userData[a])return;c.loading[e]=!0,d.post(a,function(f){""!=d.trim(f)&&(b.html(f).removeClass("loading"),c.userData[a]=f),c.loading[e]=!1})}},getMsgCount:function(){var a=window.kmfGlobalConf.prefix+"api.kmf.com/api-msg/msg/categories",b=d("#js-sys-message"),c=d(".message-count"),e="count-overflow",f=this;b.size()&&kmfGlobalUser&&1==kmfGlobalUser.loginStatus&&d.ajax({type:"get",url:a,dataType:"json",headers:{Authorization:"Bearer "+d.cookie("authkey")},success:function(a){var b=0;200==a.status?(f.category=a.result,b=a.result[0].unread+a.result[1].unread,b<100&&b>0?c.html(b).show().removeClass(e):c.html("").addClass(e).hide()):c.hide()}})},subMsgInfo:function(){var a=d("#js-sys-message"),b=a.find(".sub-message"),c=window.kmfGlobalConf.prefix+"msg.kmf.com/msg/ajaxmsg",e="msg",f=this;if(a.length&&kmfGlobalUser&&1==kmfGlobalUser.loginStatus){if(f.loading[e]||f.userData[c])return;f.loading[e]=!0,d.ajax({type:"post",url:c,dataType:"html",xhrFields:{withCredentials:!0},headers:null,success:function(a){""!=d.trim(a)&&(b.html(a).removeClass("loading"),f.userData[c]=a),f.loading[e]=!1}})}},getMsg:function(){var b=d("#js-sys-message"),c=b.find(".sub-message"),e=window.kmfGlobalConf.prefix+"api.kmf.com/api-msg/msg/messages",f=this,g=a("common/tpl/messages.tpl"),h=a("common/tpl/message_list.tpl"),i=template.compile(g),j=template.compile(h);b.length&&(c.length||(c=d("#js-sys-message.sub-message")),d.ajax({type:"get",url:e,data:{category_id:1002,page_size:10},headers:{Authorization:"Bearer "+d.cookie("authkey")},success:function(a){if(200==a.status){var b=a.result,e={1002:{unreadNum:f.category[1].unread},1001:{unreadNum:f.category[0].unread}};c.html(i({data:e})).removeClass("loading"),d(".sub-message-container").html(j({data:{messageList:b}})),d(".sub-message-tab-btn").eq(0).find(".sub-message-count").length&&d(".sub-message-tab-btn").eq(0).find(".sub-message-count").hide(),d.ajax({type:"put",url:window.kmfGlobalConf.prefix+"api.kmf.com/api-msg/msg/status",data:{category_id:1002,message_ids:"all"},headers:{Authorization:"Bearer "+d.cookie("authkey")},success:function(a){a.status}})}}}))},getSingleMsg:function(b){var c=window.kmfGlobalConf.prefix+"api.kmf.com/api-msg/msg/messages",e=d("#js-sys-message").find(".sub-message-container"),f=this,g=a("common/tpl/message_list.tpl"),h=template.compile(g);b.addClass("active").siblings(".sub-message-tab-btn").removeClass("active");var i=b.data("id");d.ajax({type:"get",url:c,data:{category_id:i,page_size:10},headers:{Authorization:"Bearer "+d.cookie("authkey")},success:function(a){if(200==a.status){var c=a.result,g=0;c.forEach(function(a){0==a.status&&g++}),f.category[0].unread=0,f.category[1].unread=0;var j={messageList:c};e.html(h({data:j})),b.find(".sub-message-count").hide(),d.ajax({type:"put",url:window.kmfGlobalConf.prefix+"api.kmf.com/api-msg/msg/status",data:{category_id:i,message_ids:"all"},headers:{Authorization:"Bearer "+d.cookie("authkey")},success:function(a){a.status}})}}})},markReaded:function(){var a=window.kmfGlobalConf.prefix+"msg.kmf.com/msg/markread",b=d("#js-sys-message"),c=this,e="mark",f="g-g9",g=".message-count",h=b.find(g);b.on("click",".js-mark-readed",function(){var g=d(this),i=b.find(".sub-message li");c.loading[e]||g.hasClass(f)||(c.loading[e]=!0,d.ajax({type:"post",url:a,dataType:"json",xhrFields:{withCredentials:!0},headers:null,success:function(a){1==a.status&&(i.removeClass("isnew"),g.addClass(f),h.hide()),c.loading[e]=!1}}))})}}).init()}),define("common/tpl/messages.tpl",[],'<div class="sub-message-tab">\n    <a href="javascript:void(0);" class="sub-message-tab-btn admin-message active" data-id="1002">\n            {{if data[\'1002\'].unreadNum != 0}}\n                <span class="sub-message-count">{{data[\'1002\'].unreadNum}}</span>\n            {{/if}}\n    </a>\n    <a href="javascript:void(0);" class="sub-message-tab-btn class-message" data-id="1001">\n            {{if data[\'1001\'].unreadNum != 0}}\n                <span class="sub-message-count">{{data[\'1001\'].unreadNum}}</span>\n            {{/if}}\n    </a>\n</div>\n<div class="sub-message-container">\n</div>'),define("common/tpl/message_list.tpl",[],'{{if data.messageList.length != 0}}\n<ul class="sub-message-list">\n        {{each data.messageList}}\n            {{if $value[\'status\'] == 1 }}\n                <li class="sub-message-item" style="color: #ccc;">\n                    {{#$value[\'web_content\']}}\n                </li>\n            {{else}}\n                <li class="sub-message-item">\n                    {{#$value[\'web_content\']}}\n                </li>\n            {{/if}}\n        {{/each}}\n        \n</ul>\n{{else if data.messageList.length == 0}}\n<div class="sub-message-empty">\n    <p>这里没有未读消息哦~</p>\n</div>\n{{/if}}\n\x3c!--空状态--\x3e\n<div class="sub-message-all">\n    <a href="http://msg.kmf.com/msg" target="_blank">查看全部</a>\n</div>'),define("common/js/util/form",["jquery"],function(a,b,c){var d=a("jquery"),e=function(a){var b={selected:"selected",disable:"disable",sel_disable:"select-disable",warn:"warn",radio:"radio",check:"check"},c=d.extend({},b,a);return this.each(function(){var a=d(this),b=a.find("input");1==b.prop("checked")&&1!=b.prop("disabled")&&a.addClass(c.selected),1!=b.prop("checked")&&1==b.prop("disabled")&&a.addClass(c.disable),1==b.prop("checked")&&1==b.prop("disabled")&&a.addClass(c.sel_disable),1!=b.prop("disabled")&&a.parent("ul").hasClass(c.check)&&a.click(function(){1==b.prop("disabled")||d(this).hasClass(c.disable)||d(this).parent().hasClass(c.disable)||(d(this).hasClass(c.warn)&&d(this).removeClass(c.warn),b.prop("checked")?(d(this).removeClass(c.selected),b.prop("checked",!1)):(d(this).addClass(c.selected),b.prop("checked",!0)),"function"==typeof c.callBack&&c.callBack(d(this)))}),1!=b.prop("disabled")&&a.parent("ul").hasClass(c.radio)&&a.click(function(){1==b.prop("disabled")||d(this).hasClass(c.disable)||d(this).parent().hasClass(c.disable)||(a.addClass(c.selected),a.siblings().removeClass(c.selected),a.siblings().each(function(a){d(this).find("input").prop("checked",!1)}),a.find("input").prop("checked",!0),"function"==typeof c.callBack&&c.callBack(d(this)))})}),this};d.fn.formStyle=e}),define("common/js/util/kmf-tips",["jquery"],function(a,b,c){var d=a("jquery"),e=function(a){var b=a('<div class="g-kmf-tips"><div class="tips-content"></div><div class="arrow arrow-up"></div></div>'),c=b.find(".tips-content"),d=b.find(".arrow"),e={down:"arrow-down",up:"arrow-up"};return b.hide(),function(f){var g,h,i,j,k=a.trim(this.data("msg")),l="g-kmf-tips",m=this.data("tipsclass"),n=this.data("dir"),o=this.offset().top,p=this.offset().left,q=this.outerWidth(),r=this.outerHeight(),s=a(window).scrollTop(),t=6;if(void 0===k||""==k)return void b.hide();k=k.replace(/\<(\/?script)/g,"&lt;$1"),k=k.replace(/(script)\>/g,"$1&gt;"),c.html(k),b.removeClass().addClass(l),m&&b.addClass(m),a("body").append(b),g=b.outerWidth(),h=b.outerHeight(),i=o-h-t,j=p+q/2-g/2,j<0&&(j=0),i<0&&(i=0),n?"down"==n?(i=o+r+t,d.addClass(e.down),d.removeClass(e.up)):(d.addClass(e.up),d.removeClass(e.down)):s>i-h?(i=o+r+t,d.addClass(e.down),d.removeClass(e.up)):(d.addClass(e.up),d.removeClass(e.down)),b.css({top:i,left:j}),"close"==f?b.hide():b.show()}}(d);d.fn.extend({kmfTips:e})}),define("common/js/util/kmf-alert",["jqueryui"],function(a,b,c){var d=a("jqueryui"),e=d("<div></div>"),f=function(b){var c,f,g,h=a("common/tpl/kmf-alert.tpl"),i=template.compile(h);f={type:"alert",title:"提示",width:450,height:"auto",message:"确定要做此操作吗？",showButton:!0,confirm:{text:"确定",url:"javascript:void(0)",callBack:null,isStay:!1},cancel:{text:"取消",url:"javascript:void(0)",callBack:null,isStay:!1},dialogClass:"g-kmf-alert",alertClass:"",draggable:!1,closeBack:function(){}},g=d.extend({},f,b),"object"==typeof b.confirm&&(g.confirm=d.extend({},f.confirm,b.confirm)),"object"==typeof b.cancel&&(g.cancel=d.extend({},f.cancel,b.cancel)),"string"==typeof g.message&&(g.message=g.message.replace(/<(\/?script)>/,"&lt;$1&gt;")),c=i(g),e.html(c),""!=g.alertClass?e.addClass(g.alertClass):e.removeClass();var j=e.dialog({position:["center","center"],width:g.width,height:g.height,title:g.title,autoOpen:!1,closeText:"关闭",resizable:!1,draggable:g.draggable,dialogClass:g.dialogClass,modal:!0,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},close:g.closeBack,create:function(){d(window).scroll(function(){j.dialog({position:["center","center"]})})}});return j.undelegate(),j.delegate(".btn-alert-confirm","click",function(){"function"==typeof g.confirm.callBack&&g.confirm.callBack(),g.confirm.isStay||j.dialog("close")}),j.delegate(".btn-alert-cancel","click",function(){"function"==typeof g.cancel.callBack&&g.cancel.callBack(),g.cancel.isStay||j.dialog("close")}),j};window.alert=function(a){var b;return"string"!=typeof a&&"number"!=typeof a||(b=f({message:a})),"object"==typeof a&&(b=f(a)),b.dialog("open"),b},window.confirm=function(a){var b;return"string"!=typeof a&&"number"!=typeof a||(b=f({type:"confirm",message:a})),"object"==typeof a&&(d.extend(a,{type:"confirm"}),b=f(a)),b.dialog("open"),b}}),define("common/tpl/kmf-alert.tpl",[],'<div class="alert-msg">{{#message}}</div>\n{{if showButton}}\n<p class="alert-buttons">\n\t<a href="{{confirm.url}}"{{if confirm.target}} target="{{confirm.target}}"{{/if}} class="g-anim btn-alert-confirm">{{confirm.text}}</a>\n\t{{if type=="confirm"}}\n\t<a href="{{cancel.url}}" class="g-anim btn-alert-cancel">{{cancel.text}}</a>\n\t{{/if}}\n</p>\n{{/if}}\n'),define("common/js/util/dialog-login",["jqueryui","common/js/mod/login","jquery"],function(a,b,c){return function(b){var c=a("jqueryui"),d=a("common/tpl/login.tpl"),e=template.compile(d),f=(c("#product").val()||c("#GlobeSite").val(),{}),g=(new Function,window.location.href);c.ajaxSetup({async:!1}),c.get(kmfGlobalConf.prefix+"api.kmf.com/api-passport/oauth/sign_in/wechat",{callback:g},function(a){200==a.status&&(f.wx=a.result.auth_url)}),c.get(kmfGlobalConf.prefix+"api.kmf.com/api-passport/oauth/sign_in/sina",{callback:g},function(a){200==a.status&&(f.weibo=a.result.auth_url)}),c.get(kmfGlobalConf.prefix+"api.kmf.com/api-passport/oauth/sign_in/qq",{callback:g},function(a){200==a.status&&(f.qq=a.result.auth_url)});var h={site:"act",prefix:kmfGlobalConf.prefix,connectUrls:f},i=e(h),j=a("common/js/mod/login"),k="g-kmf-login",l=c(i).dialog({position:["center","center"],width:764,title:"用户登录",autoOpen:!1,closeText:"关闭",resizable:!1,draggable:!1,dialogClass:k,closeOnEscape:!1,closeText:"hide",modal:!0,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:500},create:function(){c(window).scroll(function(){l.dialog({position:["center","center"]})})},resizable:!1});return l.setClose=function(a){var b=".ui-dialog-titlebar-close";l.parents(b).find(b),"off"==a?l.dialog("option","dialogClass","g-kmf-login close-disabled"):l.dialog("option","dialogClass",k)},c("#LoginPopupPassword,#LoginPopupName").on("focus",function(){l.find(".te-warn").html("")}),l.undelegate(".fo-inp","keyup"),l.delegate(".fo-inp","keyup",function(a){13==a.keyCode&&j.login(b)}),c(document).undelegate("#LoginSubmit","click"),c(document).delegate("#LoginSubmit","click",function(){j.login(b)}),l}}),define("common/tpl/login.tpl",[],'<div class="po-login g-clearfix">\n    <div class="left">\n        <div class="fo-form">\n        \t<form id="js-kmf-login-form">\n\t            <div class="item">\n\t                <label class="title">用户名/手机号/Email邮箱地址：</label>\n\t                <input type="text"  class="fo-inp" id="LoginPopupName" required />\n\t            </div>\n\t            <div class="item">\n\t                <label class="title">登录密码：</label>\n\t                <input type="password" class="fo-inp" id="LoginPopupPassword" minlength="6" required />\n\t            </div>\n\t            <div class="item g-clearfix">\n\t                <ul class="check g-kmf-form js-kmf-form g-floatleft">\n\t                \t<li class="normal"><span class="g-formbg g-checkbox"><input type="checkbox" name="remember" checked="checked" id="LoginPopupRemember" value="1" /></span>下次自动登录</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t{{ if site == \'sat\' || site == \'act\' }}\n\t                \t<a href="{{prefix}}account.kmf.com/account/findpass" class="login-lost g-floatright">忘记登录密码了？</a>\t\n\t\t\t\t\t{{ else }}\n\t\t\t\t\t\t<a href="{{prefix}}passport.kmf.com/user/forgot" class="login-lost g-floatright">忘记登录密码了？</a>\t\n\t\t\t\t\t{{ /if }}\n\t            </div>\n\t            <a href="javascript:void(0)" class="g-btn-normal" id="LoginSubmit">马上登录</a>\n\t            <p class="te-warn"></p>\n        \t</form>\n        </div>\n\t</div>\n    <div class="right">\n\t\t<p>还没有考满分账号？</p>\n\t\t{{ if site == \'sat\' || site == \'act\' }}\n\t\t\t<a href="{{ prefix }}account.kmf.com/register/mobile" class="g-btn-normal btn-register">快速注册考满分账号</a>\t\n\t\t{{ else }}\n\t\t\t<a href="/account/register" class="g-btn-normal btn-register">快速注册考满分账号</a>\t\t\n\t\t{{ /if }}\n        <p>使用其它账号直接登录</p>\n        <div class="login-connect ym-clearfix">\n\t\t\t{{ if site == \'sat\' || site == \'act\'}}\n\t\t\t\t{{ each connectUrls}}\n\t\t\t\t\t<a href="{{ $value }}" class="{{ $index }}"></a>\n\t\t\t\t{{ /each }}\n\t\t\t{{ else }}\n\t\t\t\t{{each platform}}\n\t\t\t\t\t{{if $value == \'weixin\'}}\n\t\t\t\t\t\t<a href="{{platUrl}}?plat={{$value}}&backurl={{backUrl}}" class="wx"></a>\n\t\t\t\t\t{{else}}\n\t\t\t\t\t\t<a href="{{platUrl}}?plat={{$value}}&backurl={{backUrl}}" class="{{$value}}"></a>\n\t\t\t\t\t{{/if}}\n\t\t\t\t{{/each}}\n\t\t\t{{ /if }}\n\t\t\t\n\t\t\t\n        </div> \n        <div class="partner">\n        \t<p class="partner-title">合作培训机构账号激活</p>\n        \t<p>\n        \t\t<a href="/meijia/register?op=login" class="meijia"></a>\n        \t</p>\n        </div>\n    </div>\n</div>'),define("common/js/mod/login",["jquery"],function(a,b,c){var d=a("jquery"),e=!1,f=kmfGlobalConf.prefix+"api.kmf.com/api-passport/oauth/sign_in/account";b.login=function(a){var b=d("#LoginSubmit"),c=b.siblings(".te-warn"),g=d("#LoginPopupName"),h=d("#LoginPopupPassword"),i="g-btn-disabled";d.ajaxSetup({contentType:"application/json; charset=utf-8"});var j={nickname:d.trim(g.val()),username:d.trim(g.val()),password:d.trim(h.val())};if(""!=j.nickname&&""!=j.password){if(e)return!1;j=JSON.stringify(j),e=!0,b.addClass(i).text("登录中..."),d.post(f,j,function(f){200==f.status||1==f.status?(c.html(""),f.result&&d.cookie("authkey",f.result.auth_token,{path:"/",domain:"kmf.com"}),"function"==typeof a?a():window.location.reload()):(c.html(f.message),b.removeClass(i).text("马上登录")),e=!1},"json")}else c.html("用户名和密码都不得为空！");return!1}}),define("common/js/util/kmf-warn",[],function(a,b,c){var d={init:function(a){var b={url:"/app/pcwarning",top:0,timeout:15e3},c=this;$.extend(b,a),""!=b.url&&$.post(b.url,function(a){""!=$.trim(a)&&c.creatLayer(a,b)})},creatLayer:function(a,b){var c,d,e=this;e.$layer=$('<div class="g-kmf-warn"></div>'),e.$layer.hide().html(a).appendTo("body"),c=e.$layer.find(".warn-close"),d=e.getHeight(),e.$layer.css({top:-d}),e.play.call(e,b.top,b.timeout),c.on("click",function(){e.close.call(e)})},timmer:null,play:function(a,b){var c=this;c.$layer.show().animate({top:a},500,function(){c.timmer&&(clearTimeout(c.timmer),c.timmer=null),c.timmer=setTimeout(function(){c.close.call(c)},b)})},getHeight:function(){return this.$layer.outerHeight()},close:function(){return this.$layer.stop().slideUp(300),this.timmer&&(clearTimeout(this.timmer),this.timmer=null),this.callback.call(this),this},callback:function(){var a,b=this.$layer.find("input[name=cookie_name]").val(),c=this.$layer.find("input[name=cookie_value]").val(),d=this.$layer.find("input[name=cookie_time]").val(),e=this.$layer.find("input[name=cookie_type]").val(),f=$.cookie(b)?JSON.parse($.cookie(b)):[];"json"==e&&(f.push(c),c=JSON.stringify(f)),a=new Date(parseInt(d)),$.cookie(b,c,{expires:a,path:"/"})}};c.exports=d}),define("common/js/mod/feedback",["jquery","common/js/mod/createFeedback","common/js/mod/goTop_closeFB"],function(a,b,c){var d=a("jquery"),e=a("common/js/mod/createFeedback"),f=d.cookie("feedback_show"),g=d("#onlineConsult").val(),h=d("#GlobeSite")[0];if(!f&&1==g&&h){var i=h.value.toLowerCase();"ielts"==i||"gmat"==i?e({wx:!1,channel:4001}):"gre"==i?e({channel:2001}):"toefl"==i&&e({channel:3001})}a("common/js/mod/goTop_closeFB")}),define("common/js/mod/createFeedback",["jquery"],function(a,b,c){a("jquery");return function(b){var c=b||{},d={};d.wx=0!=c.wx,d.qq=0!=c.qq,d.fb=0!=c.fb,d.channel=!!b.channel&&b.channel;var e=a("common/tpl/feedback.tpl"),f=template.compile(e);f(d)}}),define("common/tpl/feedback.tpl",[],'<div class="g-kmf-feedback-online BizQQWPA" data-location="online_feedback_right" data-desc="在线互动咨询" data-imgid="1" data-wordid="0">\n    <i class="close-feedback-button" id="js-close-feedback" title="关闭">×</i>\n    <a href="javascript:;" target="_self">\n        <span class="online-btn">咨询<br>课程</span>\n        <div class="show-time">\n            <strong class="ico-targ"></strong>\n            <p class="list-p-1">立刻点击互动</p>\n            <p class="list-p-2">让你的备考更轻松</p>\n        </div>\n    </a>\n</div>\n<div class="g-kmf-feedback" id="js-feedback">\n\t<a class="feedback-show"><span>吐槽<br>反馈</span></a>\n\t{{if wx}}\n\t<a href="javascript:;" class="qrcode">\n\t\t<b class="ico"></b><span>微信<br>反馈</span>\n\t\t<div class="code">\n\t\t\t<strong>微信扫一扫</strong>\n\t\t\t<img src="http://code.kaomanfen.com/dist/toefl/images/footer_weixin.jpg" alt="">\n\t\t\t<b class="triangle"></b>\n\t\t\t<strong>吐槽秒回复</strong>\n\t\t</div>\n\t</a>\n\t{{/if}}\n\t{{if qq}}\n\t<a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=eb9e81c007ae01dc24b45dbbb37f1f6e6b734c15d4ec7dcca3da410a06ed9348" class="qrciqc">\n\t\t<b class="ico"></b>\n\t\t<span>QQ<br>反馈</span>\n\t\t<div class="code">\n\t\t\t<strong>加入QQ群<br>尽情吐槽</strong>\n\t\t\t<b class="triangle"></b>\n\t\t</div>\n\t</a>\n\t{{/if}}\n\t{{if channel}}\n\t<a target="_blank" href="http://feedback.kmf.com/help/feedback?channel={{channel}}"  class="qrback">\n\t\t<b class="ico"></b>\n\t\t<span>站内<br>反馈</span>\n\t\t<div class="code">\n\t\t\t<strong>直接反馈<br>方便快捷</strong>\n\t\t\t<b class="triangle"></b>\n\t\t</div>\n\t</a>\n\t{{/if}}\n\t{{if top}}\n\t<a href="javascript:;" class="gotop">\n\t\t<b class="ico"></b>\n\t\t<span>返回<br>顶部</span>\n\t</a>\n\t{{/if}}\n</div>'),define("common/js/mod/goTop_closeFB",["jquery"],function(a,b,c){function d(a,b){function c(){f||(clearInterval(d),b&&b(!1),e(window).off("scroll",c)),f=!1}var d=null,f=!0;e(window).on("scroll",c),d=setInterval(function(){var g=document.documentElement.scrollTop||document.body.scrollTop,h=(a-g)/4;h=h>0?Math.ceil(h):Math.floor(h),g+=h,f=!0,document.documentElement.scrollTop=g,document.body.scrollTop=g,g==a&&(clearInterval(d),b&&b(!0),e(window).off("scroll",c))},30)}var e=a("jquery");e(".gotop").on("click",function(){d(0)}),e("#js-close-feedback").on("click",function(){e(".BizQQWPA").remove(),e("#js-feedback").remove(),e.cookie("feedback_show","1",{expires:1,path:"/",domain:"kmf.com"})}),e(".BizQQWPA").on("click",function(){_MEIQIA("showPanel")})}),define("common/js/util/kmf-string",[],function(){function a(){return!!this.match(/[^\x00-\x80]/g)}function b(){var a=this.match(/[^\x00-\x80]/g);return this.length+(a?a.length:0)}function c(a,b){var c,d=this.byteLength(),e=(this.length,0),f=0,g="",b=b||"...";if(!(d>a))return this.toString();for(;f<a;)c=this.charAt(e),c.isZh()?f+=2:f++,f<a+1&&(g+=c),e++;return g+=b}String.prototype.isZh=a,String.prototype.byteLength=b,String.prototype.cutString=c}),define("common/js/mod/resetFooter",["jquery"],function(a,b,c){function d(a){g+f<h(window).height()?i.addClass(j):i.removeClass(j),a&&i.css({visibility:"visible"})}var e,f,g,h=a("jquery"),i=h("#js-kmf-footer"),j="fixed";i.length<1||(e=i.offset(),f=i.height(),g=e.top,d(!0),h(window).resize(d))}),define("common/js/mod/openclass",["jquery"],function(a,b,c){var d,e=a("jquery");d={toefl:{channel:"channelInit",home:"homeInit",detail:"detailInit"},ielts:{channel:"channelInit",home:"homeInit",detail:"detailInit"},gmat:{channel:"channelInit",home:"homeInit",detail:"detailInit"},gre:{channel:"channelInit",home:"homeInit",detail:"detailInit"}};var f={status:{},init:function(a,b){var c,f,g=e("#g-kmf-openclass"),h=this;"string"==typeof a&&(b=a),this.$dom="object"==typeof a?a:g,this.getUrl=b||"/app/ajaxnewpublicdetailv2",this.threshold=600,this.limitTime=1800,this.closeUrl="/app/ajaxpublicclassclose",this.maxLen=50,this.$dom.length>0&&(this.proLine=f=this.$dom.data("proline"),this.localType=c=this.$dom.data("type")||"channel",d[f]&&d[f][c]&&this.getData(function(a){h[d[f][c]](a)}))},getData:function(a){var b=this;e.post(this.getUrl,{site:b.proLine},function(c){1==c.status&&(b.localData=c,"function"==typeof a&&a.call(b,c))},"jsonp")},repost:function(a,b){var c=this;setTimeout(function(){"function"==typeof b&&c.getData.call(c,b)},a)},countDown:function(a,b,c){var d,e=this.localData.result.left_time,f=this;d=setInterval(function(){var g,h,i;if(--e==a)return"function"==typeof c&&c.call(f,h,i),clearInterval(d),void(d=null);g=new Date(1e3*e),h=("0"+g.getUTCMinutes()).slice(-2),i=("0"+g.getUTCSeconds()).slice(-2),"function"==typeof b&&b.call(f,e,h,i)},1e3)}};e.extend(f,{channelInit:function(a){this.channelRender()},channelRender:function(){var b,c=a("common/tpl/openclass/all_channel.tpl"),d=template.compile(c),e=this.localData,f=e.result,g="";f.proLine=this.proLine,this.$dom.html(""),1==f.showStatus?(g=d(f),this.$dom.html(g),b=this.limitTime-(f.nowTime-f.courseInfo.startTime)):b=f.courseInfo.startTime-f.nowTime-this.threshold,b*=1e3}}),c.exports=f}),define("common/tpl/openclass/all_channel.tpl",[],'<div class="g-open-class-channel openclass-{{proLine}} g-clearfix">\n \t<div class="open-class-aside"></div>\n \t<div class="open-class-main">\n \t\t<p class="open-class-status">\n \t\t\t<span class="status">\n\t\t\t\t公开课{{courseInfo.liveStatus}}中\n \t\t\t</span>\n \t\t</p>\n \t\t<p class="open-class-title">\n\t\t\t<span class="course-chapter">{{#courseInfo.title}}</span>\n\t\t\t{{if courseInfo.subjectCn &&　courseInfo.subjectCn != ""}}\n \t\t\t<span class="course-type">[{{courseInfo.subjectCn}}]</span>\n \t\t\t{{/if}}\n \t\t</p>\n \t\t<p class="teacher-name">主讲：{{courseInfo.teacherName}}</p>\n \t\t<a href="{{courseInfo.liveUrl}}" target="_blank" class="btn-enter"><span class="link-enter">进入直播间</span></a>\n \t</div>\n </div>'),function(a){window.define&&window.define.cmd?define("common/js/channel/kmf-da-reg",[],a):a()}(function(){function a(a){var c=window.location.href,d=window.location.search;a||(a=1),d.indexOf("KMF_DA_REG")>0&&b("monitor_url",c,{expires:a,path:"/",domain:"kmf.com"})}var b=function(a,b,c){if(void 0===b){var d=null;if(document.cookie&&""!=document.cookie)for(var e=document.cookie.split(";"),f=0;f<e.length;f++){var g=$.trim(e[f]);if(g.substring(0,a.length+1)==a+"="){d=decodeURIComponent(g.substring(a.length+1));break}}return d}c=c||{},null===b&&(b="",c.expires=-1);var h="";if(c.expires&&("number"==typeof c.expires||c.expires.toUTCString)){var i;"number"==typeof c.expires?(i=new Date,i.setTime(i.getTime()+24*c.expires*60*60*1e3)):i=c.expires,h="; expires="+i.toUTCString()}var j=c.path?"; path="+c.path:"",k=c.domain?"; domain="+c.domain:"",l=c.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),h,j,k,l].join("")};return window.kmfDaCookie=a}),define("common/js/mod/userdata/main",["common/js/mod/userdata/complete","common/js/mod/userdata/collect","common/js/plugin/datepicker.min","common/js/mod/userdata/locate"],function(a,b,c){a("common/js/mod/userdata/complete"),a("common/js/mod/userdata/collect"),a("common/js/mod/userdata/locate")}),define("common/js/mod/userdata/complete",[],function(a,b,c){$(document).on("click",".js-private-checkbox",function(){var a=$(".js-private-agree"),b=$(this);b.toggleClass("on"),b.hasClass("on")?a.removeClass("disabled"):a.addClass("disabled")}),{init:function(){var a="//"+window.location.host.split(".")[0],b=window.location.pathname,c=a.split("-");this.formValidate(),this.formSubmit(),1==c.length?c[0]:2==c.length&&c[1],a!=window.kmfGlobalConf.prefix+"passport"&&"/service/privacy"!=b&&"/service/disclaimer"!=b&&this.isLogin()?(!$.cookie("private")||$.cookie("private")&&$.cookie("private")!=$.cookie("authkey"))&&this.showPrivate():($.removeCookie("complete",{domain:"kmf.com"}),$.removeCookie("private",{domain:"kmf.com"}))},isLogin:function(){return 1==$("#GlobeLogin").val()},showPrivate:function(){var b=a("common/tpl/copyright/private.tpl"),c=this;$.ajax({type:"get",url:window.kmfGlobalConf.prefix+"api.kmf.com/api-passport/user/info/privacy",headers:{Authorization:"Bearer "+$.cookie("authkey")},success:function(a){200==a.status?($.cookie("private",$.cookie("authkey"),{expires:1,domain:"kmf.com"}),(!$.cookie("complete")||$.cookie("complete")&&$.cookie("complete")!=$.cookie("authkey"))&&c.shouldComplete()):$("body").append(b)}}),$(document).on("click",".js-private-agree",function(){var a=$(this);return $.ajax({type:"post",url:window.kmfGlobalConf.prefix+"api.kmf.com/api-passport/user/info/privacy",headers:{Authorization:"Bearer "+$.cookie("authkey")},success:function(b){200==b.status?(a.parents(".private-modal").remove(),(!$.cookie("complete")||$.cookie("complete")&&$.cookie("complete")!=$.cookie("authkey"))&&c.shouldComplete()):alert("设置失败")}}),!1})},shouldComplete:function(){var a,b=this,c="//"+window.location.host.split(".")[0],d=window.location.pathname,e=c.split("-");1==e.length?a=e[0]:2==e.length&&(a=e[1]),c!=window.kmfGlobalConf.prefix+"passport"&&"/service/privacy"!=d&&"/service/disclaimer"!=d&&$.ajax({type:"post",url:window.kmfGlobalConf.prefix+"udc.kmf.com/api/user/subject",xhrFields:{withCredentials:!0},data:{subject:a},success:function(a){0===a.result.isset?b.showModal(a.result.user,a.result.grade):$.cookie("complete",$.cookie("authkey"),{expires:1,domain:"kmf.com"})}})},showModal:function(b,c){var d=a("common/tpl/userdata/modal.tpl"),e={user:b,grade:c},f=template.compile(d);$("body").append(f(e))},formValidate:function(){$(document).on("change","input[type=checkbox], input[type=radio]",function(){var a=$(".js-complete-btn"),b=$("input[name*=subject_ids]:checked").length,c=$("input[name=identity]:checked").length;if($(".js-job-student input[type=radio]:checked").length){var d=$("select[name=grade] option:selected").val();$("select[name=grade]").on("change",function(){d=$(this).val(),b&&c&&0!=d?a.removeClass("disabled"):a.addClass("disabled")}),b&&c&&0!=d?a.removeClass("disabled"):a.addClass("disabled")}else b&&c?a.removeClass("disabled"):a.addClass("disabled")})},formSubmit:function(){$(document).on("click",".js-complete-btn",function(){var a=$(this),b=a.parents("form");return $.ajax({type:"post",url:window.kmfGlobalConf.prefix+"udc.kmf.com/api/user/save",data:b.serialize(),xhrFields:{withCredentials:!0},success:function(a){1==a.status&&window.location.reload()}}),!1})}}.init()}),define("common/tpl/copyright/private.tpl",[],'<div class="private-modal">\n        <div class="private-modal_box">\n            \x3c!-- <a href="#" class="private-modal_close"></a> --\x3e\n            <h3>隐私条款上线</h3>\n            <p>\n                    考满分十分重视您的隐私，为了更好地保障您的隐私安全，我们根据最新法规制定了《考满分隐私条款》。\n            </p>\n            <div class="private-detail">\n                <h3>考满分隐私条款</h3>\n                <h4>1.信息收集及保存</h4>\n               <p>\n                    1）为了向您提供更好的服务，我们会在您自愿选择服务或提供信息的情况下系统自动存储注册信息，如您注册账号时所提供的姓名、手机号码、电子邮箱、账号名称等个人信息。因此请您在注册时及时、详尽、准确地提供个人资料，所有您原始键入的资料将会被作为注册资料，请您保证注册信息的真实性及完整性，如果因注册信息不真实而引起的问题，由您自行承担相应的后果；\n               </p>\n                <p>\n                        2）我们还可能会记录您在使用我们的服务或产品时所提供、形成或留存的各项信息；\n                </p>\n                <p>\n                        3）在您使用我们的服务，或访问我们的网页/APP等其它服务内容时，我们自动接收并将记录您的浏览器和计算机上的信息，包括但不限于您的IP地址、浏览器的类型、使用的语言、访问日期和时间、软硬件特征信息及您需求的网页记录等数据。\n                </p>\n            </div>\n            <div class="private-checkbox">\n                <label for="agree" class="checkbox js-private-checkbox">我已阅读并同意上述内容</label>\n                <input type="checkbox" id="agree">\n            </div>\n            <button class="g-btn-normal js-private-agree disabled">下一步</button>\n        </div>\n    </div>'),define("common/tpl/userdata/modal.tpl",[],'<div class="kmf-userdata-modal">\n    <div class="kmf-userdata-modal_box">\n            <div class="kmf-userdata-box_form js-userdata-complete-form">\n                    <form action="">\n                        <div class="kmf-userdata-box_form__title">\n                            <h3>请补全注册信息</h3>\n                        </div>\n                        <span>补全信息，可享有考满分完整在线练习、公开课、托福在线备考Plan+计划等备考服务。</span>\n                        <h2>目标考试（多选）</h2>\n                        <div class="kmf-userdata-form_group">\n                            <label class="kmf-userdata-checkbox kmf-common-checkbox">TOEFL托福<input type="checkbox" name="subject_ids[]" value="1"></label>\n                            <label class="kmf-userdata-checkbox kmf-common-checkbox">IELTS雅思<input type="checkbox" name="subject_ids[]" value="2"></label>\n                            <br>\n                            <label class="kmf-userdata-checkbox kmf-common-checkbox">GRE<input type="checkbox" name="subject_ids[]" value="4"></label>>\n                            <label class="kmf-userdata-checkbox kmf-common-checkbox">GMAT<input type="checkbox" name="subject_ids[]" value="3"></label>\n                            <label class="kmf-userdata-checkbox kmf-common-checkbox">SAT<input type="checkbox" name="subject_ids[]" value="5"></label>\n                            <label class="kmf-userdata-checkbox kmf-common-checkbox">ACT<input type="checkbox" name="subject_ids[]" value="6"></label>\n                        </div>\n                        <h2>当前职业</h2>\n                        <div class="kmf-userdata-form_group current-job">\n                            {{if user}}\n                               {{if user.identity == 1}}\n                                    <label class="kmf-userdata-radio kmf-common-radio js-job-student on" >学生<input type="radio" name="identity" value="1" checked></label>\n                               {{else}}\n                                    <label class="kmf-userdata-radio kmf-common-radio js-job-student" >学生<input type="radio" name="identity" value="1"></label>\n                               {{/if}}\n                               {{if user.identity == 2}}\n                                    <label class="kmf-userdata-radio kmf-common-radio mid on" >上班族<input type="radio" name="identity" value="2" checked></label>\n                               {{else}}\n                                    <label class="kmf-userdata-radio kmf-common-radio mid" >上班族<input type="radio" name="identity" value="2"></label>\n                               {{/if}}\n                               {{if user.identity == 3}}\n                                    <label class="kmf-userdata-radio kmf-common-radio last on">自由职业<input type="radio" name="identity" value="3" checked></label>\n                               {{else}}\n                                    <label class="kmf-userdata-radio kmf-common-radio last">自由职业<input type="radio" name="identity" value="3"></label>\n                               {{/if}}\n                               {{if user.grade }}\n                                <select name="grade" id="class" style="{{if user.identity == 1}} display: inline-block; {{else}} display: none; {{/if}}">\n                                    {{each grade}}\n                                        {{if user.grade == $index}}\n                                            <option value="{{$index}}" selected>{{$value}}</option>\n                                        {{else}}\n                                            <option value="{{$index}}">{{$value}}</option>\n                                        {{/if}}\n                                    {{/each}}\n                                </select>\n                                {{/if}}\n                            {{/if}}\n                            {{if !user}}\n                                <label class="kmf-userdata-radio kmf-common-radio js-job-student">学生<input type="radio" name="identity" value="1"></label>\n                                <label class="kmf-userdata-radio kmf-common-radio mid">上班族<input type="radio" name="identity" value="2"></label>\n                                <label class="kmf-userdata-radio kmf-common-radio last">自由职业<input type="radio" name="identity" value="3"></label>\n                                <div class="kmf-userdata-selectbox">\n                                    <select name="grade" id="class">\n                                        {{each grade}}\n                                            <option value="{{$index}}">{{$value}}</option>\n                                        {{/each}}\n                                    </select>\n                                </div>\n                            {{/if}}    \n                        </div>\n                        <a href="javascript:;" class="g-btn-normal disabled js-complete-btn" type="button">完成</a>\n                        \x3c!-- <p class="agree-private">完成后即同意《 <a href="http://www.kmf.com/service/copyright" target="_blank">隐私条款</a> 》</p> --\x3e\n                    </form>\n                </div>\n    </div>\n</div>'),define("common/js/mod/userdata/collect",["common/js/plugin/datepicker.min"],function(a,b,c){function d(a){$(document).on("click",a,function(){var a=$(this),b=a.children("input[type=checkbox]");b.length?b.is(":checked")?a.addClass("on"):a.removeClass("on"):$(this).toggleClass("on")})}function e(a){$(document).on("click",a,function(){$(this);f($(this)),$(this).addClass("on").siblings(a).removeClass("on")})}function f(a){var b=a.siblings(".kmf-userdata-selectbox");a.hasClass("js-job-student")?b.show().css("display","inline-block"):b.hide()}a("common/js/plugin/datepicker.min");var g={70:{reading:28,listening:16,speaking:15,writing:21},80:{reading:22,listening:18,speaking:17,writing:23},90:{reading:25,listening:21,speaking:20,writing:24},100:{reading:27,listening:25,speaking:21,writing:27},110:{reading:30,listening:28,speaking:23,writing:29}},h={600:{verbal:25,quant:47},650:{verbal:30,quant:49},680:{verbal:34,quant:49},700:{verbal:36,quant:50},740:{verbal:41,quant:50}},i=[[470,480,490,500,500,510,520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670],[480,490,500,500,510,520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670],[490,500,500,510,520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680],[500,500,510,520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690],[500,510,520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690],[510,520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700],[520,530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710],[530,530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720],[530,540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720],[540,550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730],[550,560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740],[560,560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750],[560,570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750],[570,580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760],[580,580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770],[580,590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780],[590,600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780,780],[600,610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780,780,790],[610,610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780,780,790,800],[610,620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780,780,790,800,800],[620,630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780,780,790,800,800,800],[630,640,640,650,660,670,670,680,690,690,700,710,720,720,730,740,750,750,760,770,780,780,790,800,800,800,800]],j={315:{verbal:150,quant:165,writing:3},320:{verbal:155,quant:165,writing:3},325:{verbal:155,quant:170,writing:3},330:{verbal:160,quant:170,writing:3},335:{verbal:165,quant:170,writing:3}};d(".kmf-common-checkbox"),e(".kmf-common-radio");var k={gradeArr:[],booleans:{isExam:!1,isReg:!1,isTarget:!1,preExam:!1,classTotal:!1},init:function(){this.bindEvents(),this.formValidate(),this.formSubmit(),this.initGrade(),this.initGradeArr(),this.gradeCalculate(),this.initDate()},bindEvents:function(){var a=$(".kmf-info-collect_form"),b=this;a.on("click","label",function(){setTimeout(function(){b.formValidate.call(b)},0)}),a.on("change","select",function(){setTimeout(function(){b.formValidate.call(b)},0)}),$(".js-exam-true").on("click",function(){$(this).parents(".kmf-collect-form_line").find(".js-pre-examgrade").show()}),$(document).on("click",".js-exam-false",function(){$(this).parents(".kmf-collect-form_line").find(".js-pre-examgrade").hide()}),$(document).on("click",".js-reg-true",function(){var a=$(".js-collect-date");$(".js-next-examtime").show(),$(".js-next-examtime span").html("下次考试时间"),b.booleans.date=!1,a.datepicker("destroy"),a.datepicker({format:"yyyy/mm/dd",startDate:(new Date).getDate(),autoHide:!0,trigger:".collect-date-icon"}),a.on("pick.datepicker",function(a){$(".js-pre-examgrade select");b.booleans.date=!0,b.formValidate.call(b),a.stopPropagation()}),a.val("")}),$(document).on("click",".js-reg-false",function(){var a=$(".js-collect-date");$(".js-next-examtime").show(),$(".js-next-examtime span").html("预计考试时间"),b.booleans.date=!1,a.datepicker("destroy"),a.datepicker({date:"",format:"yyyy/mm",startDate:(new Date).getDate(),autoHide:!0,trigger:".collect-date-icon"}),a.on("pick.datepicker",function(a){$(".js-pre-examgrade select");b.booleans.date=!0,b.formValidate.call(b),a.stopPropagation()}),a.val("")}),$(document).on("click",".js-target-true",function(){$(".js-item-target").show()}),$(document).on("click",".js-target-false",function(){$(".js-item-target").hide()})},formValidate:function(a){var b,c=$(".is-exam-radio:checked").length,d=$(".pre-grade-radio:checked").length,e=$(".is-reg-radio:checked").length,f=$(".has-target-radio:checked").length,g=$(".js-exam-ready"),h=$(".js-pre-examgrade select"),i=$(".js-gre-target");$(".js-collect-date").length&&(b=$(".js-collect-date").val().length),h.length?($(".js-pre-examgrade").is(":visible"),this.booleans.isExam=!!c,this.booleans.isReg=!!e,b&&(this.booleans.date=!0),this.booleans.isTarget=!!f,this.booleans.isExam&&this.booleans.isReg&&this.booleans.date&&this.booleans.isTarget?g.removeClass("disabled"):g.addClass("disabled")):i.length?(this.booleans.isExam=!!c,this.booleans.isReg=!!e,b&&(this.booleans.date=!0),this.booleans.isTarget=!!f,this.booleans.preExam=!!d,0==i.find("option:selected").val()?this.booleans.totalSelect=!1:this.booleans.totalSelect=!0,$(".js-pre-examgrade").is(":visible")&&$(".js-gre-grades").is(":visible")?this.booleans.isExam&&this.booleans.isReg&&this.booleans.preExam&&this.booleans.date&&this.booleans.isTarget&&this.booleans.totalSelect?g.removeClass("disabled"):g.addClass("disabled"):$(".js-pre-examgrade").is(":visible")&&!$(".js-gre-grades").is(":visible")?this.booleans.isExam&&this.booleans.isReg&&this.booleans.date&&this.booleans.isTarget&&this.booleans.preExam?g.removeClass("disabled"):g.addClass("disabled"):!$(".js-pre-examgrade").is(":visible")&&$(".js-gre-grades").is(":visible")?this.booleans.isExam&&this.booleans.isReg&&this.booleans.date&&this.booleans.isTarget&&this.booleans.totalSelect?g.removeClass("disabled"):g.addClass("disabled"):this.booleans.isExam&&this.booleans.isReg&&this.booleans.date&&this.booleans.isTarget?g.removeClass("disabled"):g.addClass("disabled")):$(".js-pre-examgrade").is(":visible")?(this.booleans.isExam=!!c,this.booleans.isReg=!!e,this.booleans.preExam=!!d,b&&(this.booleans.date=!0),this.booleans.isTarget=!!f,this.booleans.isExam&&this.booleans.isReg&&this.booleans.preExam&&this.booleans.date&&this.booleans.isTarget?g.removeClass("disabled"):g.addClass("disabled")):(this.booleans.isExam=!!c,this.booleans.isReg=!!e,b&&(this.booleans.date=!0),this.booleans.isTarget=!!f,this.booleans.isExam&&this.booleans.isReg&&this.booleans.date&&this.booleans.isTarget?g.removeClass("disabled"):g.addClass("disabled"))},formSubmit:function(){var a=$(".kmf-info-collect_form"),b=a.find("form");a.find(".js-exam-ready").on("click",function(a){b.submit()})},initGradeArr:function(){var a=$(".class-grade"),b=this;this.gradeArr=[],a.each(function(){var a=$(this).val();$(this).hasClass("js-gre-writing")||b.gradeArr.push(a)})},gradeCalculate:function(){var a=$(".js-ielts-target"),b=$(".js-toefl-target"),c=$(".js-gmat-target"),d=$(".js-gre-target"),e=$(".js-ielts-class-grade"),f=$(".js-toefl-class-grade"),k=$(".js-gmat-class-grade"),l=$(".js-gre-class-grade"),m=this;a.on("change",function(){var a=$(this),b=a.val();b&&e.val(b)}),b.on("change",function(){m.defaultGrade.call(this,g)}),c.on("change",function(){m.defaultGrade.call(this,h)}),$(document).on("change",".js-gre-target",function(){m.defaultGrade.call(this,j)}),b.trigger("change"),c.trigger("change"),d.trigger("change"),e.on("change",function(){var b=$(this),c=e.index(b),d=b.val(),f=0;m.gradeArr[c]=d,f=m.ieltstargetCalculate(m.gradeArr),a.val(f)}),f.on("change",function(){var a=$(this),c=f.index(a),d=a.val(),e=0;switch(m.gradeArr[c]=d,e=m.totalCalculate(m.gradeArr),!0){case e>=110:m.switchTarget(b,110);break;case e<110&&e>=100:m.switchTarget(b,100);break;case e<100&&e>=90:m.switchTarget(b,90);break;case e<90&&e>=80:m.switchTarget(b,80);break;case e<80&&e>=70:m.switchTarget(b,70)}}),k.on("change",function(){var a=$(this),b=(k.index(a),a.val(),[]),d=($(".js-exam-ready"),0);switch(k.each(function(){b.push($(this).val())}),b[0]-25>=0&&b[1]-30>=0&&(d=i[b[1]-30][b[0]-25]),!0){case d<600:m.switchTarget(c,599);break;case d>=600&&d<650:m.switchTarget(c,600);break;case d>=650&&d<680:m.switchTarget(c,650);break;case d>=680&&d<700:m.switchTarget(c,680);break;case d>=700&&d<740:m.switchTarget(c,700);break;case d>=740:m.switchTarget(c,740)}}),l.on("change",function(){var a=$(this),b=l.index(a),c=a.val(),e=0;switch(m.gradeArr[b]=c,e=m.totalCalculate(m.gradeArr),!0){case e<315:m.switchTarget(d,0);break;case e>=315&&e<320:m.switchTarget(d,315);break;case e>=320&&e<325:m.switchTarget(d,320);break;case e>=325&&e<330:m.switchTarget(d,325);break;case e>=330&&e<335:m.switchTarget(d,330);break;case e>=335:m.switchTarget(d,335)}})},ieltstargetCalculate:function(a){var b=0,c=0,d=0;return a.forEach(function(a,c){b+=parseFloat(a)}),c=b/4,d=c-Math.floor(c),c=d>0&&d<=.5?Math.floor(c)+.5:Math.ceil(c)},totalCalculate:function(a){var b=0;return a.forEach(function(a,c){b+=parseInt(a)}),b},switchTarget:function(a,b){a.val(b)},initDate:function(){$(".js-collect-date").datepicker({format:"yyyy/mm/dd",startDate:(new Date).getDate(),autoHide:!0,trigger:".collect-date-icon"})},dateChange:function(){var a=this,b=$(".js-select-year"),c=$(".js-select-month"),d=$(".js-select-day"),e=new Date,f=e.getFullYear(),g=e.getMonth()+1,h=e.getDate();b.on("change",function(){$(this).val()!=f?(c.html(a.genetateOpt(1,12,1)),d.html(a.genetateOpt(1,31,1))):(c.html(a.genetateOpt(g,12,1)),d.html(a.genetateOpt(h,date[g].days,1)))}),c.on("change",function(){var c=$(this).val(),e=date[c].days;b.val()!=f?d.html(a.genetateOpt(1,e,1)):c!=g?d.html(a.genetateOpt(1,e,1)):d.html(a.genetateOpt(h,e,1)),d.is(":visible")||d.val(date[c].days)})},genetateOpt:function(a,b,c,d){for(var e="",f=a;f<=b;f+=c)e+=f==d?"<option value='"+f+"' selected>"+f+"</option>":"<option value="+f+">"+f+"</option>";return e},initGrade:function(){$(".js-toefl-grades"),$(".js-gmat-grades"),$(".js-gre-grades")},defaultGrade:function(a){var b=$(this),c=b.val(),d=null;if(0!=c){d=a[c];for(var e in d)$(".js-grade-"+e).val(d[e]);k.initGradeArr()}},resetChecked:function(a){a.removeClass("on"),a.each(function(){$("#"+$(this).attr("for")).prop("checked",!1)})}};k.init()}),function(a,b){"function"==typeof define&&define.cmd?define("common/js/plugin/datepicker.min",["jquery"],function(a,c,d){var e=a("jquery");b(e)}):"object"==typeof exports?module.exports=b:b(jQuery)}(0,function(a){"use strict";function b(a){return z.call(a).slice(8,-1).toLowerCase()}function c(a){return"string"==typeof a}function d(a){return"number"==typeof a&&!A(a)}function e(a){return void 0===a}function f(a){return"date"===b(a)}function g(a,b){for(var c=arguments.length,d=Array(c>2?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];return function(){for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return a.apply(b,d.concat(e))}}function h(a){return'[data-view="'+a+'"]'}function i(a){return a%4==0&&a%100!=0||a%400==0}function j(a,b){return[31,i(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]}function k(a,b,c){return Math.min(c,j(a,b))}function l(b){var c=String(b).toLowerCase(),d=c.match(B);if(!d||0===d.length)throw new Error("Invalid date format.");return b={source:c,parts:d},a.each(d,function(a,c){switch(c){case"dd":case"d":b.hasDay=!0;break;case"mm":case"m":b.hasMonth=!0;break;case"yyyy":case"yy":b.hasYear=!0}}),b}function m(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}a=a&&a.hasOwnProperty("default")?a.default:a;var n={autoShow:!1,autoHide:!1,autoPick:!1,inline:!1,container:null,trigger:null,language:"",format:"mm/dd/yyyy",date:null,startDate:null,endDate:null,startView:0,weekStart:0,yearFirst:!1,yearSuffix:"",days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],itemTag:"li",mutedClass:"muted",pickedClass:"picked",disabledClass:"disabled",highlightedClass:"highlighted",template:'<div class="datepicker-container"><div class="datepicker-panel" data-view="years picker"><ul><li data-view="years prev">&lsaquo;</li><li data-view="years current"></li><li data-view="years next">&rsaquo;</li></ul><ul data-view="years"></ul></div><div class="datepicker-panel" data-view="months picker"><ul><li data-view="year prev">&lsaquo;</li><li data-view="year current"></li><li data-view="year next">&rsaquo;</li></ul><ul data-view="months"></ul></div><div class="datepicker-panel" data-view="days picker"><ul><li data-view="month prev">&lsaquo;</li><li data-view="month current"></li><li data-view="month next">&rsaquo;</li></ul><ul data-view="week"></ul><ul data-view="days"></ul></div></div>',offset:10,zIndex:1e3,filter:null,show:null,hide:null,pick:null},o="datepicker",p="click."+o,q="focus."+o,r="hide."+o,s="keyup."+o,t="pick."+o,u="resize."+o,v="show."+o,w=o+"-hide",x={},y={DAYS:0,MONTHS:1,YEARS:2},z=Object.prototype.toString,A=Number.isNaN||window.isNaN,B=/(y|m|d)+/g,C=window,D=C.document,E=a(window),F=a(D),G=/\d+/g,H={show:function(){this.built||this.build(),this.shown||this.trigger(v).isDefaultPrevented()||(this.shown=!0,this.$picker.removeClass(w).on(p,a.proxy(this.click,this)),this.showView(this.options.startView),this.inline||(E.on(u,this.onResize=g(this.place,this)),F.on(p,this.onGlobalClick=g(this.globalClick,this)),F.on(s,this.onGlobalKeyup=g(this.globalKeyup,this)),this.place()))},hide:function(){this.shown&&(this.trigger(r).isDefaultPrevented()||(this.shown=!1,this.$picker.addClass(w).off(p,this.click),this.inline||(E.off(u,this.onResize),F.off(p,this.onGlobalClick),F.off(s,this.onGlobalKeyup))))},toggle:function(){this.shown?this.hide():this.show()},update:function(){var a=this.getValue();a!==this.oldValue&&(this.setDate(a,!0),this.oldValue=a)},pick:function(a){var b=this.$element,c=this.date;this.trigger(t,{view:a||"",date:c}).isDefaultPrevented()||(c=this.formatDate(this.date),this.setValue(c),this.isInput&&(b.trigger("input"),b.trigger("change")))},reset:function(){this.setDate(this.initialDate,!0),this.setValue(this.initialValue),this.shown&&this.showView(this.options.startView)},getMonthName:function(b,c){var f=this.options,g=f.monthsShort,h=f.months;return a.isNumeric(b)?b=Number(b):e(c)&&(c=b),!0===c&&(h=g),h[d(b)?b:this.date.getMonth()]},getDayName:function(b,c,f){var g=this.options,h=g.days;return a.isNumeric(b)?b=Number(b):(e(f)&&(f=c),e(c)&&(c=b)),f?h=g.daysMin:c&&(h=g.daysShort),h[d(b)?b:this.date.getDay()]},getDate:function(a){var b=this.date;return a?this.formatDate(b):new Date(b)},setDate:function(b,d){var e=this.options.filter;if(f(b)||c(b)){if(b=this.parseDate(b),a.isFunction(e)&&!1===e.call(this.$element,b))return;this.date=b,this.viewDate=new Date(b),d||this.pick(),this.built&&this.render()}},setStartDate:function(a){(f(a)||c(a))&&(this.startDate=this.parseDate(a),this.built&&this.render())},setEndDate:function(a){(f(a)||c(a))&&(this.endDate=this.parseDate(a),this.built&&this.render())},parseDate:function(b){var d=this.format,e=[];if(f(b))return new Date(b.getFullYear(),b.getMonth(),b.getDate());c(b)&&(e=b.match(G)||[]),b=new Date;var g=d.parts.length,h=b.getFullYear(),i=b.getDate(),j=b.getMonth();return e.length===g&&a.each(e,function(a,b){var c=parseInt(b,10)||1;switch(d.parts[a]){case"dd":case"d":i=c;break;case"mm":case"m":j=c-1;break;case"yy":h=2e3+c;break;case"yyyy":h=c}}),new Date(h,j,i)},formatDate:function(b){var c=this.format,d="";if(f(b)){var e=b.getFullYear(),g={d:b.getDate(),m:b.getMonth()+1,yy:e.toString().substring(2),yyyy:e};g.dd=(g.d<10?"0":"")+g.d,g.mm=(g.m<10?"0":"")+g.m,d=c.source,a.each(c.parts,function(a,b){d=d.replace(b,g[b])})}return d},destroy:function(){this.unbind(),this.unbuild(),this.$element.removeData(o)}},I={click:function(b){var c=a(b.target),d=this.options,e=this.viewDate,f=this.format;if(b.stopPropagation(),b.preventDefault(),!c.hasClass("disabled")){var g=c.data("view"),h=e.getFullYear(),i=e.getMonth(),j=e.getDate();switch(g){case"years prev":case"years next":h="years prev"===g?h-10:h+10,this.viewDate=new Date(h,i,k(h,i,j)),this.renderYears();break;case"year prev":case"year next":h="year prev"===g?h-1:h+1,this.viewDate=new Date(h,i,k(h,i,j)),this.renderMonths();break;case"year current":f.hasYear&&this.showView(y.YEARS);break;case"year picked":f.hasMonth?this.showView(y.MONTHS):(c.addClass(d.pickedClass).siblings().removeClass(d.pickedClass),this.hideView()),this.pick("year");break;case"year":h=parseInt(c.text(),10),this.date=new Date(h,i,k(h,i,j)),f.hasMonth?(this.viewDate=new Date(this.date),this.showView(y.MONTHS)):(c.addClass(d.pickedClass).siblings().removeClass(d.pickedClass),this.hideView()),this.pick("year");break;case"month prev":case"month next":i="month prev"===g?i-1:i+1,i<0?(h-=1,i+=12):i>11&&(h+=1,i-=12),this.viewDate=new Date(h,i,k(h,i,j)),this.renderDays();break;case"month current":f.hasMonth&&this.showView(y.MONTHS);break;case"month picked":f.hasDay?this.showView(y.DAYS):(c.addClass(d.pickedClass).siblings().removeClass(d.pickedClass),this.hideView()),this.pick("month");break;case"month":i=a.inArray(c.text(),d.monthsShort),this.date=new Date(h,i,k(h,i,j)),f.hasDay?(this.viewDate=new Date(h,i,k(h,i,j)),this.showView(y.DAYS)):(c.addClass(d.pickedClass).siblings().removeClass(d.pickedClass),this.hideView()),this.pick("month");break;case"day prev":case"day next":case"day":"day prev"===g?i-=1:"day next"===g&&(i+=1),j=parseInt(c.text(),10),this.date=new Date(h,i,j),this.viewDate=new Date(h,i,j),this.renderDays(),"day"===g&&this.hideView(),this.pick("day");break;case"day picked":this.hideView(),this.pick("day")}}},globalClick:function(a){for(var b=a.target,c=this.element,d=this.$trigger,e=d[0],f=!0;b!==document;){if(b===e||b===c){f=!1;break}b=b.parentNode}f&&this.hide()},keyup:function(){this.update()},globalKeyup:function(a){var b=a.target,c=a.key,d=a.keyCode;this.isInput&&b!==this.element&&this.shown&&("Tab"===c||9===d)&&this.hide()}},J={render:function(){this.renderYears(),this.renderMonths(),this.renderDays()},renderWeek:function(){var b=this,c=[],d=this.options,e=d.weekStart,f=d.daysMin;e=parseInt(e,10)%7,f=f.slice(e).concat(f.slice(0,e)),a.each(f,function(a,d){c.push(b.createItem({text:d}))}),this.$week.html(c.join(""))},renderYears:function(){var a=this.options,b=this.startDate,c=this.endDate,d=a.disabledClass,e=a.filter,f=a.yearSuffix,g=this.viewDate.getFullYear(),h=new Date,i=h.getFullYear(),j=this.date.getFullYear(),k=-5,l=6,m=[],n=!1,o=!1,p=void 0;for(p=k;p<=l;p+=1){var q=new Date(g+p,1,1),r=!1;b&&(r=q.getFullYear()<b.getFullYear(),p===k&&(n=r)),!r&&c&&(r=q.getFullYear()>c.getFullYear(),p===l&&(o=r)),!r&&e&&(r=!1===e.call(this.$element,q));var s=g+p===j,t=s?"year picked":"year";m.push(this.createItem({picked:s,disabled:r,muted:p===k||p===l,text:g+p,view:r?"year disabled":t,highlighted:q.getFullYear()===i}))}this.$yearsPrev.toggleClass(d,n),this.$yearsNext.toggleClass(d,o),this.$yearsCurrent.toggleClass(d,!0).html(g+k+f+" - "+(g+l)+f),this.$years.html(m.join(""))},renderMonths:function(){var b=this.options,c=this.startDate,d=this.endDate,e=this.viewDate,f=b.disabledClass||"",g=b.monthsShort,h=a.isFunction(b.filter)&&b.filter,i=e.getFullYear(),j=new Date,k=j.getFullYear(),l=j.getMonth(),m=this.date.getFullYear(),n=this.date.getMonth(),o=[],p=!1,q=!1,r=void 0;for(r=0;r<=11;r+=1){var s=new Date(i,r,1),t=!1;c&&(p=s.getFullYear()===c.getFullYear(),t=p&&s.getMonth()<c.getMonth()),!t&&d&&(q=s.getFullYear()===d.getFullYear(),t=q&&s.getMonth()>d.getMonth()),!t&&h&&(t=!1===h.call(this.$element,s));var u=i===m&&r===n,v=u?"month picked":"month";o.push(this.createItem({disabled:t,picked:u,highlighted:i===k&&s.getMonth()===l,index:r,text:g[r],view:t?"month disabled":v}))}this.$yearPrev.toggleClass(f,p),this.$yearNext.toggleClass(f,q),this.$yearCurrent.toggleClass(f,p&&q).html(i+b.yearSuffix||""),this.$months.html(o.join(""))},renderDays:function(){var a=this.$element,b=this.options,c=this.startDate,d=this.endDate,e=this.viewDate,f=this.date,g=b.disabledClass,h=b.filter,i=b.monthsShort,k=b.weekStart,l=b.yearSuffix,m=e.getFullYear(),n=e.getMonth(),o=new Date,p=o.getFullYear(),q=o.getMonth(),r=o.getDate(),s=f.getFullYear(),t=f.getMonth(),u=f.getDate(),v=void 0,w=void 0,x=void 0,y=[],z=m,A=n,B=!1;0===n?(z-=1,A=11):A-=1,v=j(z,A);var C=new Date(m,n,1);for(x=C.getDay()-parseInt(k,10)%7,x<=0&&(x+=7),c&&(B=C.getTime()<=c.getTime()),w=v-(x-1);w<=v;w+=1){var D=new Date(z,A,w),E=!1;c&&(E=D.getTime()<c.getTime()),!E&&h&&(E=!1===h.call(a,D)),y.push(this.createItem({disabled:E,highlighted:z===p&&A===q&&D.getDate()===r,muted:!0,picked:z===s&&A===t&&w===u,text:w,view:"day prev"}))}var F=[],G=m,H=n,I=!1;11===n?(G+=1,H=0):H+=1,v=j(m,n),x=42-(y.length+v);var J=new Date(m,n,v);for(d&&(I=J.getTime()>=d.getTime()),w=1;w<=x;w+=1){var K=new Date(G,H,w),L=G===s&&H===t&&w===u,M=!1;d&&(M=K.getTime()>d.getTime()),!M&&h&&(M=!1===h.call(a,K)),F.push(this.createItem({disabled:M,picked:L,highlighted:G===p&&H===q&&K.getDate()===r,muted:!0,text:w,view:"day next"}))}var N=[];for(w=1;w<=v;w+=1){var O=new Date(m,n,w),P=!1;c&&(P=O.getTime()<c.getTime()),!P&&d&&(P=O.getTime()>d.getTime()),!P&&h&&(P=!1===h.call(a,O));var Q=m===s&&n===t&&w===u,R=Q?"day picked":"day";N.push(this.createItem({disabled:P,picked:Q,highlighted:m===p&&n===q&&O.getDate()===r,text:w,view:P?"day disabled":R}))}this.$monthPrev.toggleClass(g,B),this.$monthNext.toggleClass(g,I),this.$monthCurrent.toggleClass(g,B&&I).html(b.yearFirst?m+l+" "+i[n]:i[n]+" "+m+l),this.$days.html(y.join("")+N.join("")+F.join(""))}},K=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),L=window,M=L.document,N=a(M),O=o+"-top-left",P=o+"-top-right",Q=o+"-bottom-left",R=o+"-bottom-right",S=[O,P,Q,R].join(" "),T=function(){function b(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};m(this,b),this.$element=a(c),this.element=c,this.options=a.extend({},n,x[d.language],d),this.built=!1,this.shown=!1,this.isInput=!1,this.inline=!1,this.initialValue="",this.initialDate=null,this.startDate=null,this.endDate=null,this.init()}return K(b,[{key:"init",value:function(){var b=this.$element,c=this.options,d=c.startDate,e=c.endDate,f=c.date;this.$trigger=a(c.trigger),this.isInput=b.is("input")||b.is("textarea"),this.inline=c.inline&&(c.container||!this.isInput),this.format=l(c.format);var g=this.getValue();this.initialValue=g,this.oldValue=g,f=this.parseDate(f||g),d&&(d=this.parseDate(d),f.getTime()<d.getTime()&&(f=new Date(d)),this.startDate=d),e&&(e=this.parseDate(e),d&&e.getTime()<d.getTime()&&(e=new Date(d)),f.getTime()>e.getTime()&&(f=new Date(e)),this.endDate=e),this.date=f,this.viewDate=new Date(f),this.initialDate=new Date(this.date),this.bind(),(c.autoShow||this.inline)&&this.show(),c.autoPick&&this.pick()}},{key:"build",value:function(){if(!this.built){this.built=!0;var b=this.$element,c=this.options,d=a(c.template);this.$picker=d,this.$week=d.find(h("week")),this.$yearsPicker=d.find(h("years picker")),this.$yearsPrev=d.find(h("years prev")),this.$yearsNext=d.find(h("years next")),this.$yearsCurrent=d.find(h("years current")),this.$years=d.find(h("years")),this.$monthsPicker=d.find(h("months picker")),this.$yearPrev=d.find(h("year prev")),this.$yearNext=d.find(h("year next")),this.$yearCurrent=d.find(h("year current")),this.$months=d.find(h("months")),this.$daysPicker=d.find(h("days picker")),this.$monthPrev=d.find(h("month prev")),this.$monthNext=d.find(h("month next")),this.$monthCurrent=d.find(h("month current")),this.$days=d.find(h("days")),this.inline?a(c.container||b).append(d.addClass(o+"-inline")):(a(M.body).append(d.addClass(o+"-dropdown")),d.addClass(w)),this.renderWeek()}}},{key:"unbuild",value:function(){this.built&&(this.built=!1,this.$picker.remove())}},{key:"bind",value:function(){var b=this.options,c=this.$element;a.isFunction(b.show)&&c.on(v,b.show),a.isFunction(b.hide)&&c.on(r,b.hide),a.isFunction(b.pick)&&c.on(t,b.pick),this.isInput&&c.on(s,a.proxy(this.keyup,this)),this.inline||(b.trigger?this.$trigger.on(p,a.proxy(this.toggle,this)):this.isInput?c.on(q,a.proxy(this.show,this)):c.on(p,a.proxy(this.show,this)))}},{key:"unbind",value:function(){var b=this.$element,c=this.options;a.isFunction(c.show)&&b.off(v,c.show),a.isFunction(c.hide)&&b.off(r,c.hide),a.isFunction(c.pick)&&b.off(t,c.pick),this.isInput&&b.off(s,this.keyup),this.inline||(c.trigger?this.$trigger.off(p,this.toggle):this.isInput?b.off(q,this.show):b.off(p,this.show))}},{key:"showView",value:function(a){var b=this.$yearsPicker,c=this.$monthsPicker,d=this.$daysPicker,e=this.format;if(e.hasYear||e.hasMonth||e.hasDay)switch(Number(a)){case y.YEARS:c.addClass(w),d.addClass(w),e.hasYear?(this.renderYears(),b.removeClass(w),this.place()):this.showView(y.DAYS);break;case y.MONTHS:b.addClass(w),d.addClass(w),e.hasMonth?(this.renderMonths(),c.removeClass(w),this.place()):this.showView(y.YEARS);break;default:b.addClass(w),c.addClass(w),e.hasDay?(this.renderDays(),d.removeClass(w),this.place()):this.showView(y.MONTHS)}}},{key:"hideView",value:function(){!this.inline&&this.options.autoHide&&this.hide()}},{key:"place",value:function(){if(!this.inline){var a=this.$element,b=this.options,c=this.$picker,d=N.outerWidth(),e=N.outerHeight(),f=a.outerWidth(),g=a.outerHeight(),h=c.width(),i=c.height(),j=a.offset(),k=j.left,l=j.top,m=parseFloat(b.offset),n=O;A(m)&&(m=10),l>i&&l+g+i>e?(l-=i+m,n=Q):l+=g+m,k+h>d&&(k+=f-h,n=n.replace("left","right")),c.removeClass(S).addClass(n).css({top:l,left:k,zIndex:parseInt(b.zIndex,10)})}}},{key:"trigger",value:function(b,c){var d=a.Event(b,c);return this.$element.trigger(d),d}},{key:"createItem",value:function(b){var c=this.options,d=c.itemTag,e={text:"",view:"",muted:!1,picked:!1,disabled:!1,highlighted:!1},f=[];return a.extend(e,b),e.muted&&f.push(c.mutedClass),e.highlighted&&f.push(c.highlightedClass),e.picked&&f.push(c.pickedClass),e.disabled&&f.push(c.disabledClass),"<"+d+' class="'+f.join(" ")+'" data-view="'+e.view+'">'+e.text+"</"+d+">"}},{key:"getValue",value:function(){var a=this.$element;return this.isInput?a.val():a.text()}},{key:"setValue",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=this.$element;this.isInput?b.val(a):b.text(a)}}],[{key:"setDefaults",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.extend(n,x[b.language],b)}}]),b}();a.extend(T.prototype,J,I,H);var U=a.fn.datepicker;a.fn.datepicker=function(b){for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=void 0;return this.each(function(){var c=a(this),e=c.data("datepicker");if(!e){if(/destroy/.test(b))return;var g=a.extend({},c.data(),a.isPlainObject(b)&&b);e=new T(this,g),c.data("datepicker",e)}if("string"==typeof b){var h=e[b];a.isFunction(h)&&(f=h.apply(e,d))}}),void 0!==f?f:this},a.fn.datepicker.Constructor=T,a.fn.datepicker.languages=x,a.fn.datepicker.setDefaults=T.setDefaults,a.fn.datepicker.noConflict=function(){return a.fn.datepicker=U,this}}),define("common/js/mod/userdata/locate",[],function(a,b,c){var d="//"+window.location.host.split(".")[0],e=parseInt($("#GlobeLogin").val()),f={toefl:1,ielts:2,gmat:3,gre:4,sat:5,act:6};d!=window.kmfGlobalConf.prefix+"ielts"&&d!=window.kmfGlobalConf.prefix+"gmat"&&d!=window.kmfGlobalConf.prefix+"grev3"||!e||$.post("/ajax/doorsill",function(a){var b,b=a.result.url;1!=a.status&&200!=a.status||(0==a.result.collect&&window.location.pathname!=b?window.location.href=b:$.cookie("doorsill",1,{expires:1}))},"json"),d==window.kmfGlobalConf.prefix+"ieltsv2"&&e&&$.post("/ajax/doorsill",function(a){var b=a.result.url;1!=a.status&&200!=a.status||(0==a.result.collect&&window.location.pathname!=b?window.location.href=b:$.cookie("doorsill",1,{expires:1}))},"json"),d!=window.kmfGlobalConf.prefix+"grev2"&&d!=window.kmfGlobalConf.prefix+"gre"||!e||$.get("/api/v1/user/doorsill/check",function(a){var b,b=a.result.url;200==a.status&&(0==a.result.collect&&"/doorsill"!=window.location.pathname?window.location.href=b:$.cookie("doorsill",1,{expires:1}))}),d!=window.kmfGlobalConf.prefix+"toefl"&&d!=window.kmfGlobalConf.prefix+"toeflv3"||!e||$.cookie($.cookie("authkey")+"doorsill")||$.ajax({type:"post",url:window.kmfGlobalConf.prefix+"udc.kmf.com/api/status/list",xhrFields:{withCredentials:!0},data:{subject:f.toefl},success:function(a){a.result.total<=0&&"/user/examinfo"!=window.location.pathname?window.location.href="/user/examinfo":$.cookie($.cookie("authkey")+"doorsill",1,{expires:1})}})}),define("common/js/mod/footer_weixin",[],function(a,b,c){var d=a("common/tpl/footer_weixin.tpl"),e=$(d);$(document).on("mouseover",".weixin",function(a){var b=$(this);b.append(e),e.show(),e.find(".js-footer-weixin-tabs > a").on("click",function(){var a=$(".js-weixin-body"),b=$(this),c=b.index();return b.addClass("on").siblings("a").removeClass("on"),a.eq(c).show().siblings(".js-weixin-body").hide(),!1}),b.on("mouseleave",function(a){e.remove(),a.stopPropagation()}),a.stopPropagation()})}),define("common/tpl/footer_weixin.tpl",[],'<div class="kmf-footer-weixin">\n    <div class="kmf-footer-weixin_tabs js-footer-weixin-tabs">\n        <a href="#" class="on">留学备考</a>\n        <a href="#">留学生活</a>\n    </div>\n    <div class="kmf-footer-weixin_body">\n        <div class="kmf-footer-weixin_inner js-weixin-body">\n            <div class="kmf-footer-weixin_qr">\n            </div>\n            <div class="kmf-footer-weixin_msg">\n                给你最实用备考干货\n                陪你一路分手成功\n            </div>\n        </div>\n        <div class="kmf-footer-weixin_inner js-weixin-body life">\n            <div class="kmf-footer-weixin_qr life">\n            </div>\n            <div class="kmf-footer-weixin_msg">\n                全方位留学生活指南，只和有趣有腔调的人在一起 \n            </div>\n        </div>\n    </div>\n</div>'),define("common/kmf_components/footer/main",[],function(a,b,c){var d={data:{canRender:!1,site:void 0,globalConf:null,feedback:{DEFAULT:8001,TOEFL:3001,IELTS:4001,GRE:2001,GMAT:1001,KE:8001}},init:function(a){var b=this;this.$footer=$(a),this.$footer.each(function(){var a=$(this);b.initData(a),b.loadTpl(a)})},initData:function(a){var b=a;$(this);b.length&&(this.data.canRender=!0,this.data.site=b.data("site").toUpperCase(),this.data.globalConf=window.kmfGlobalConf)},loadTpl:function(b){var c=this.data.canRender,d=(this.data.site,b),e=a("common/kmf_components/footer/tpl/footer.tpl"),f=template.compile(e);c&&d.html(f(this.data))}};c.exports=d}),define("common/kmf_components/footer/tpl/footer.tpl",[],'<div class="g-kmf-footer">\n    <div class="kmf-footer-top">\n        <div class="footer-top clearfix">\n                {{ if !!!site }}\n                    <div class="footer-top-column">\n                            <h2>覆盖考试</h2>\n                            <ul>\n                                <li>\n                                    <a href="{{globalConf.prefix}}toefl.kmf.com" target="_blank">TOEFL\n                                        <sup>®</sup>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}gre.kmf.com" target="_blank">GRE\n                                        <sup>®</sup>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}ielts.kmf.com" target="_blank">IELTS</a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}gmat.kmf.com" target="_blank">GMAT</a>\n                                </li>\n                            </ul>\n                    </div>\n                {{/if}}\n                {{ if site && site != \'KE\' }}\n                <div class="footer-top-column">\n                    <h2>关于{{ site }}{{if site == \'TOEFL\' || site == \'GRE\'}} <sup>®</sup> {{/if}}</h2>\n                    {{ if site == \'TOEFL\' }}\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}toefl.kmf.com/learn/detail/1.html" target="_blank">考试介绍</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}toefl.kmf.com/learn/detail/2.html" target="_blank">考试题型</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}toefl.kmf.com/learn/detail/304.html" target="_blank">评分标准</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}toefl.kmf.com/learn/detail/10.html" target="_blank">如何备考</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'IELTS\' }}\n                        <ul>\n                            <li>\n                                <a href="javascript:;">考试介绍</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">考试题型</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">评分标准</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">如何备考</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'GRE\' }}\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}gre.kmf.com/learn/detail/89.html" target="_blank">考试介绍</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gre.kmf.com/learn/detail/105.html" target="_blank">考试题型</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gre.kmf.com/learn/detail/12.html" target="_blank">报名流程</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gre.kmf.com/learn/detail/67.html" target="_blank">如何备考</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'GMAT\' }}\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}gmat.kmf.com/learn/guide/0/0/3261.html" target="_blank">考试介绍</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gmat.kmf.com/learn/guide/0/0/3334.html" target="_blank">报名与改期</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gmat.kmf.com/learn/guide/0/0/3337.html" target="_blank">备考资料介绍</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gmat.kmf.com/learn/guide/all" target="_blank">如何备考</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'SAT\' }}\n                        <ul>\n                            <li>\n                                <a href="javascript:;">考试介绍</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">考试题型</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">评分标准</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">如何备考</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'ACT\'}}\n                        <ul>\n                            <li>\n                                <a href="javascript:;">考试介绍</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">考试题型</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">评分标准</a>\n                            </li>\n                            <li>\n                                <a href="javascript:;">如何备考</a>\n                            </li>\n                        </ul>\n                    {{ /if }}\n                </div>\n                {{ /if }}\n            {{ if !!!site || site == \'KE\'}}\n                <div class="footer-top-column">\n                    <h2>我们的课程</h2>\n                    <ul>\n                        <li>\n                            <a href="{{globalConf.prefix}}course.kmf.com?from=toefl" target="_blank">TOEFL课程</a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}course.kmf.com?from=ielts" target="_blank">IELTS课程</a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}course.kmf.com?from=gre" target="_blank">GRE课程</a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}course.kmf.com?from=gmat" target="_blank">GMAT课程</a>\n                        </li>\n                    </ul>\n                </div>\n            {{ /if }}\n            {{ if site && site != \'KE\' }}\n                <div class="footer-top-column">\n                    {{ if site == \'TOEFL\' }}\n                        <h2>TOEFL课程</h2>\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/?from=toefl" target="_blank">课程总览</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/toefl/aio" target="_blank">托福全程班</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/toefl/sprint" target="_blank">托福冲分班</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/toefl/one_on_one" target="_blank">托福一对一</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'GRE\' }}\n                         <h2>GRE课程</h2>\n                         <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/?from=gre" target="_blank">课程总览</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/?from=gre" target="_blank">All in One课程</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/gre/one_on_one" target="_blank">VIP 1对1</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'IELTS\' }}\n                        <h2>IELTS课程</h2>\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/?from=ielts" target="_blank">课程总览\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/ielts/more_than_6.5" target="_blank">All in One课程</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'GMAT\' }}\n                        <h2>GMAT课程</h2>\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/?from=gmat" target="_blank">课程总览</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/gmat/aio" target="_blank">All in One课程</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/gmat/sprint" target="_blank">10人班课程</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}course.kmf.com/gmat/one_on_one" target="_blank">VIP 1对1</a>\n                            </li>\n                        </ul>\n                    {{ else if site == \'SAT\' || site == \'ACT\' }}\n                        <h2>其他考试</h2>\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}toefl.kmf.com" target="_blank">TOEFL<sup>®</sup></a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gre.kmf.com" target="_blank">GRE<sup>®</sup></a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}ielts.kmf.com" target="_blank">IELTS</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}gmat.kmf.com" target="_blank">GMAT</a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}act.kmf.com" target="_blank">ACT</a>\n                            </li>\n                        </ul>                        \n                    {{ /if }}\n                </div>\n            {{ /if }}\n            \n                {{ if !!!site }}\n                <div class="footer-top-column">\n                    <h2>我们的App</h2>\n                    <ul>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toefl" target="_blank">托福考满分\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode toefl">\n                                    </div>\n                                    <p>托福考满分</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=grekmf" target="_blank">GRE考满分\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode grekmf">\n                                    </div>\n                                    <p>GRE考满分</p>\n                                </div>\n                            </a>\n                            \n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gre" target="_blank">GRE3000词\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode gre">\n                                    </div>\n                                    <p>GRE3000词</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ielts" target="_blank">雅思考满分\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode ielts">\n                                    </div>\n                                    <p>雅思考满分</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gmat" target="_blank">GMAT考满分\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode gmat">\n                                    </div>\n                                    <p>GMAT考满分</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords" target="_blank">考满分词汇\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode words">\n                                    </div>\n                                    <p>考满分词汇</p>\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ke" target="_blank">考满分课程\n                                <div class="site-qrcode-pop">\n                                    <div class="site-qrcode class">\n                                    </div>\n                                    <p>考满分课程</p>\n                                </div>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n                {{ /if }}\n                {{ if site }}\n                <div class="footer-top-column">\n                    {{ if site != \'SAT\' && site != \'ACT\' }}\n                        <h2>App下载</h2>\n                        {{ if site == \'TOEFL\' }}\n                            <ul>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toefl">托福考满分\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode toefl">\n                                            </div>\n                                            <p>托福考满分</p>\n                                        </div>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords">考满分词汇\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode words">\n                                            </div>\n                                            <p>考满分词汇</p>\n                                        </div>\n                                    </a>\n                                </li>\n                            </ul>\n                        {{ else if site == \'GRE\' }}\n                            <ul>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gre">GRE3000词\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode gre">\n                                            </div>\n                                            <p>GRE3000词</p>\n                                        </div>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=grekmf">GRE考满分\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode grekmf">\n                                            </div>\n                                            <p>GRE考满分</p>\n                                        </div>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords">考满分词汇\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode words">\n                                            </div>\n                                            <p>考满分词汇</p>\n                                        </div>\n                                    </a>\n                                </li>\n                            </ul>\n                        {{ else if site == \'IELTS\' }}\n                            <ul>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ielts">雅思考满分\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode ielts">\n                                            </div>\n                                            <p>雅思考满分</p>\n                                        </div>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords">考满分词汇\n                                        <div class="site-qrcode-pop">\n                                            <div class="site-qrcode words">\n                                            </div>\n                                            <p>考满分词汇</p>\n                                        </div>\n                                    </a>\n                                </li>\n                            </ul>\n                        {{ else if site == \'GMAT\' }}\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gmat">GMAT考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode gmat">\n                                        </div>\n                                        <p>GMAT考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords">考满分词汇\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode words">\n                                        </div>\n                                        <p>考满分词汇</p>\n                                    </div>\n                                </a>\n                            </li>\n                        </ul>\n                        {{ else if site == \'KE\' }}\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toefl">托福考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode toefl">\n                                        </div>\n                                        <p>托福考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=grekmf">GRE考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode grekmf">\n                                        </div>\n                                        <p>GRE考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gre">GRE3000词\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode gre">\n                                        </div>\n                                        <p>GRE3000词</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ielts">雅思考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode ielts">\n                                        </div>\n                                        <p>雅思考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gmat">GMAT考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode gmat">\n                                        </div>\n                                        <p>GMAT考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords">考满分词汇\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode words">\n                                        </div>\n                                        <p>考满分词汇</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ke">考满分课程\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode class">\n                                        </div>\n                                        <p>考满分课程</p>\n                                    </div>\n                                </a>\n                            </li>\n                        </ul>\n                        {{/if}}\n                    {{ else if site == \'SAT\' || site == \'ACT\' }}\n                        <h2>我们的App</h2>\n                        <ul>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toefl">托福考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode toefl">\n                                        </div>\n                                        <p>托福考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=grekmf">GRE考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode grekmf">\n                                        </div>\n                                        <p>GRE考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gre">GRE3000词\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode gre">\n                                        </div>\n                                        <p>GRE3000词</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ielts">雅思考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode ielts">\n                                        </div>\n                                        <p>雅思考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=gmat">GMAT考满分\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode gmat">\n                                        </div>\n                                        <p>GMAT考满分</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=toeflwords">考满分词汇\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode words">\n                                        </div>\n                                        <p>考满分词汇</p>\n                                    </div>\n                                </a>\n                            </li>\n                            <li>\n                                <a href="{{globalConf.prefix}}www.kmf.com/static/appcenter?website=ke">考满分课程\n                                    <div class="site-qrcode-pop">\n                                        <div class="site-qrcode class">\n                                        </div>\n                                        <p>考满分课程</p>\n                                    </div>\n                                </a>\n                            </li>\n                        </ul>\n                    \n                    {{ /if }}\n                </div>\n                {{ /if }}\n            \n                {{ if !!!site || site}}\n                <div class="footer-top-column">\n                    <h2>关注我们</h2>\n                    <ul>\n                        <li>\n                            <a href="javascript:;">微信\n                                <div class="wx-popup">\n                                    <div class="wx-popup-item">\n                                        <div class="wx-qrcode exam"></div>\n                                        <p>留学备考</p>\n                                    </div>\n                                    \x3c!-- <div class="wx-popup-item">\n                                        <div class="wx-qrcode live"></div>\n                                        <p>留学生活</p>\n                                    </div> --\x3e\n                                </div>\n                            </a>\n                        </li>\n                        <li>\n                            <a href="http://weibo.com/u/5190253085" target="_blank">微博</a>\n                        </li>\n                        <li>\n                            \x3c!-- <a href="https://twitter.com/bj_kmf" target="_blank">Twitter</a> --\x3e\n                        </li>\n                    </ul>\n                </div>\n                {{ /if }}\n            {{ if !site || site }}\n                <div class="footer-top-column">\n                    <h2>联系我们</h2>\n                    <ul>\n                        <li>\n                            {{if !site}}\n                                <a href="{{globalConf.prefix}}feedback.kmf.com/help/feedback?channel={{feedback.DEFAULT}}" target="_blank">反馈建议</a>\n                            {{ else if site }}\n                                <a href="{{globalConf.prefix}}feedback.kmf.com/help/feedback?channel={{feedback[site]}}" target="_blank">反馈建议</a>\n                            {{/if}}\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}www.kmf.com/ke/complaint" target="_blank">投诉举报</a>\n                        </li>\n                        <li>\n                            <a href="#" class="no-event">4000-500-390</a>\n                        </li>\n                        <li>\n                            <a href="mailto:kmf-fb@100tal.com">kmf-fb@100tal.com</a>\n                        </li>\n                    </ul>\n                </div>\n            {{ /if }}\n            {{ if site == \'KE\' }}\n                <div class="footer-top-column">\n                    <a href="javascript:;" class="footer-ask newBizQQWPA"> <i></i> 我要提问</a>\n                </div>\n            {{ /if }}\n        </div>\n    </div>\n    <div class="kmf-footer-bottom">\n        <div class="footer-bottom clearfix">\n            <div class="footer-nav-copyright">\n                    <ul class="sites-nav clearfix">\n                        <li>\n                            <a href="#" class="no-event">考满分线上备考：</a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}toefl.kmf.com" target="_blank">TOEFL<sup>®</sup></a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}gre.kmf.com" target="_blank">GRE<sup>®</sup></a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}ielts.kmf.com" target="_blank">IELTS</a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}gmat.kmf.com" target="_blank">GMAT</a>\n                        </li>\n                        <li>\n                            <a href="{{globalConf.prefix}}course.kmf.com" target="_blank">课程</a>\n                        </li>\n                    </ul>\n                \x3c!-- {{ if site == \'TOEFL\' }}\n                    <p class="footer-copyrights">\n                        ETS and TOEFL iBT are registered trademarks of Educational Testing Service (ETS) throughout the world.\n                    </p>\n                {{ else if site == \'GRE\' }}\n                    <p class="footer-copyrights">GRE® is a registered trademark of Educational Testing Service (ETS). This website is not endorsed or approved by ETS.</p>\n                {{ /if }} --\x3e\n                <p class="footer-copyrights">\n                    ETS, TOEFL iBT and GRE are registered trademarks of Educational Testing Service (ETS) throughout the world.\n                </p>\n                {{ if site == \'TOEFL\' }}\n                <p class="footer-copyrights">\n                    SpeechRater & E-rater are the trademarks of Educational Testing Service (ETS) and used by TAL under license.\n                </p>\n                {{/if}}\n                <p class="footer-copyrights">\n                    ©2012-2016 kmf.com，盈禾优仕 京ICP备12012942号 京ICP证160944号\n                </p>\n                <p class="footer-copyrights">\n                    Copyright©2017 考满分 kmf.com 北京盈禾优仕科技有限责任公司 版权所有\n                </p>\n               \n                <div class="footer-seurity clearfix">\n                    <a href="https://credit.cecdc.com/CX20161012026812050156.html"  class="footer-seurity-item cx" target="_blank"></a>\n                    <a href="https://ss.knet.cn/verifyseal.dll?sn=e16101411010564884x4pt000000&ct=df&a=1&pa=0.5596133682399824" class="footer-seurity-item kx" target="_blank"></a>\n                    <a href="http://www.315online.com.cn/member/315160008.html" class="footer-seurity-item bz" target="_blank"></a>\n                    <a href="https://v.yunaq.com/certificate?domain=www.kmf.com&from=label&code=90030" class="footer-seurity-item aq" target="_blank"></a>\n                </div>\n                <ul class="www-navs clearfix">\n                    <li>\n                        <a href="//src.100tal.com/" target="_blank">漏洞提交</a>\n                    </li>\n                    <li>\n                        <a href="{{globalConf.prefix}}help.kmf.com/" target="_blank">帮助中心</a>\n                    </li>\n                    <li>\n                        <a href="{{globalConf.prefix}}www.kmf.com/service/aboutus/" target="_blank">关于我们</a>\n                    </li>\n                    <li>\n                        <a href="https://www.lagou.com/gongsi/1824.html" target="_blank">加入我们</a>\n                    </li>\n                    <li>\n                        <a href="{{globalConf.prefix}}www.kmf.com/service/copyright/" target="_blank">版权声明</a>\n                    </li>\n                    <li>\n                        <a href="{{globalConf.prefix}}www.kmf.com/service/link/" target="_blank">反盗链声明</a>\n                    </li>\n                    <li>\n                        <a href="{{globalConf.prefix}}www.kmf.com/service/disclaimer/" target="_blank">免责声明</a>\n                    </li>\n                </ul>\n            </div>\n            <div class="footer-slogan">\n                <div class="footer-logo">\n\n                </div>\n                \x3c!-- <p>\n                    考满分是专注于出国考试在线科学备考的留学生品牌。已经服务了超过100万学生，累积学员备考记录超过10亿条，是出国留学考试领域新锐培训机构。\n                </p> --\x3e\n            </div>\n        </div>\n    </div>\n</div>'),define("common/js/mod/topBanner/top-banner",[],function(a,b,c){var d=location.href.split("?")[0].substring(location.href.indexOf("//")),e=window.kmfGlobalConf.prefix;[e+"www.kmf.com/",e+"toefl.kmf.com/home",e+"toefl.kmf.com/",e+"toefl.kmf.com/practice",e+"toefl.kmf.com/practice/listening",e+"toefl.kmf.com/listen/order",e+"toefl.kmf.com/listen/conversation",e+"toefl.kmf.com/listen/conversation",e+"toefl.kmf.com/practice/reading",e+"toefl.kmf.com/read/order",e+"toefl.kmf.com/reading/catelist",e+"toefl.kmf.com/read/theme",e+"toefl.kmf.com/read/sentence",e+"toefl.kmf.com/read/vocabulary",e+"toefl.kmf.com/practice/speaking",e+"toefl.kmf.com/speak/tpoorder/0",e+"toefl.kmf.com/speak/tpotheme/0",e+"toefl.kmf.com/speak/gold/1/1",e+"toefl.kmf.com/practice/writing",e+"toefl.kmf.com/writing/tpolist",e+"toefl.kmf.com/write/independent185list",e+"toefl.kmf.com/writing/expressionlist",e+"toefl.kmf.com/practice/vocabulary",e+"toefl.kmf.com/vocab/list?t=18",e+"toefl.kmf.com/vocab/list?t=19",e+"toefl.kmf.com/vocab/list?t=20",e+"toefl.kmf.com/vocab/list?t=21",e+"toefl.kmf.com/vocab/words",e+"toefl.kmf.com/tpo-exam",e+"toefl.kmf.com/testcenter",e+"toefl.kmf.com/profile/mocklog",e+"toefl.kmf.com/profile/listenpractice",e+"toefl.kmf.com/profile/drilling",e+"toefl.kmf.com/record/speakrecord",e+"toefl.kmf.com/record/writerecord",e+"toefl.kmf.com/record/favlist",e+"toefl.kmf.com/record/favall",e+"toefl.kmf.com/record/note",e+"toefl.kmf.com/profile/learnerrorlog",e+"toefl.kmf.com/profile/words",e+"toefl.kmf.com/profile/userexamrecord",e+"toefl.kmf.com/profile/read",e+"ielts.kmf.com/home",e+"ielts.kmf.com/",e+"ielts.kmf.com/practice",e+"ielts.kmf.com/listening/vocab",e+"ielts.kmf.com/writing/ylkwrite",e+"ielts.kmf.com/speaking/ylkspeak",e+"ielts.kmf.com/beikao",e+"ielts.kmf.com/beikao/index?cate=reading",e+"ielts.kmf.com/beikao/index?cate=speaking",e+"ielts.kmf.com/beikao/index?cate=writing",e+"ielts.kmf.com/resource",e+"ielts.kmf.com/resource/cambridge-4",e+"ielts.kmf.com/resource/cambridge-5",e+"ielts.kmf.com/resource/cambridge-6",e+"ielts.kmf.com/resource/cambridge-7",e+"ielts.kmf.com/resource/cambridge-8",e+"ielts.kmf.com/resource/cambridge-9",e+"ielts.kmf.com/resource/cambridge-10",e+"ielts.kmf.com/resource/cambridge-11",e+"ielts.kmf.com/resource/cambridge-12",e+"ielts.kmf.com/resource/pastyearpaper-2016",e+"ielts.kmf.com/resource/pastyearpaper-2017",e+"ielts.kmf.com/resource/og",e+"ielts.kmf.com/jijing",e+"ielts.kmf.com/profile/listen",e+"ielts.kmf.com/profile/listenvocab",e+"ielts.kmf.com/profile/listenlearning",e+"ielts.kmf.com/profile/readvocab",e+"ielts.kmf.com/profile/readlearning",e+"ielts.kmf.com/profile/writesentence",e+"ielts.kmf.com/profile/writelog",e+"ielts.kmf.com/profile/speakvocab",e+"ielts.kmf.com/profile/speaklearning",e+"ielts.kmf.com/profile/mock",e+"ielts.kmf.com/profile/collectword",e+"ielts.kmf.com/profile/collectsentence",e+"ielts.kmf.com/profile/collectquestion",e+"ielts.kmf.com/profile/collectarticle",e+"ielts.kmf.com/profile/exam",e+"ielts.kmf.com/mock/list",e+"gre.kmf.com/home",e+"gre.kmf.com/",e+"gre.kmf.com/learn",e+"gre.kmf.com/learn/beikao",e+"gre.kmf.com/learn/Verbal",e+"gre.kmf.com/learn/AWA",e+"gre.kmf.com/learn/Quant",e+"gre.kmf.com/practisenew",e+"gre.kmf.com/exam",e+"gre.kmf.com/vocab",e+"gre.kmf.com/question",e+"gre.kmf.com/profile/learnlog",e+"gre.kmf.com/profile/favorite?type=question",e+"gre.kmf.com/profile/favorite?type=knowledge",e+"gre.kmf.com/profile/sfavorite",e+"gre.kmf.com/profile/learnlog",e+"gre.kmf.com/profile/learnerrorlog",e+"gre.kmf.com/profile/workbook",e+"gre.kmf.com/profile/mock",e+"gre.kmf.com/profile/notelog",e+"gre.kmf.com/profile/notelog?t=0",e+"gre.kmf.com/profile/notelog?s=0",e+"gre.kmf.com/profile/remark",e+"gre.kmf.com/profile/sectencelog",e+"gre.kmf.com/profile/sectencelog?sub=sen",e+"gre.kmf.com/profile/sectencelog?sub=sheet",e+"gre.kmf.com/profile/favoriteword",e+"gre.kmf.com/profile/wordrecord",e+"gre.kmf.com/profile/contribution",e+"gre.kmf.com/profile/contribution?type=createquestion",e+"gre.kmf.com/profile/contribution?type=createexplain",e+"gre.kmf.com/profile/contribution?type=reporterror",e+"gre.kmf.com/profile/userexamrecord",e+"gmat.kmf.com/home",e+"gmat.kmf.com/",e+"gmat.kmf.com/learn/guide/all",e+"gmat.kmf.com/practice",e+"gmat.kmf.com/practice/sc",e+"gmat.kmf.com/practice/cr",e+"gmat.kmf.com/practice/rc",e+"gmat.kmf.com/practice/ps",e+"gmat.kmf.com/practice/ds",e+"gmat.kmf.com/practice/ir",e+"gmat.kmf.com/exam",e+"gmat.kmf.com/jijing",e+"gmat.kmf.com/question",e+"gmat.kmf.com/profile/userdc",e+"gmat.kmf.com/profile/workbooklog",e+"gmat.kmf.com/profile/learnlog",e+"gmat.kmf.com/profile/optionlog",e+"gmat.kmf.com/profile/mocklog",e+"gmat.kmf.com/profile/favorite",e+"gmat.kmf.com/profile/wrong",e+"gmat.kmf.com/profile/notes",e+"gmat.kmf.com/profile/comment",e+"gmat.kmf.com/profile/explain",e+"gmat.kmf.com/profile/exam",e+"sat.kmf.com/home",e+"sat.kmf.com/",e+"sat.kmf.com/practice",e+"sat.kmf.com/exam",e+"sat.kmf.com/question/index.html",e+"sat.kmf.com/profile/workbook",e+"sat.kmf.com/profile/exam",e+"act.kmf.com/",e+"act.kmf.com/home",e+"act.kmf.com/practice",e+"act.kmf.com/question/index.html",e+"act.kmf.com/profile/workbook",e+"act.kmf.com/exam",e+"ke.kmf.com/open",e+"ke.kmf.com/",e+"ke.kmf.com/open/ielts",e+"ke.kmf.com/open/toefl",e+"ke.kmf.com/open/gmat",e+"ke.kmf.com/open/gre",e+"ke.kmf.com/lesson",e+"ke.kmf.com/lesson/index",e+"ke.kmf.com/lesson/toefl",e+"ke.kmf.com/lesson/toeflaio",e+"ke.kmf.com/lesson/toeflvip",e+"ke.kmf.com/kmf/toefl/winter/index.html",e+"ke.kmf.com/lesson/toeflcurricula",e+"ke.kmf.com/lesson/toefldatum",e+"ke.kmf.com/lesson/ieltsaio",e+"ke.kmf.com/lesson/ieltscurricula",e+"ke.kmf.com/lesson/ieltsdatum",e+"ke.kmf.com/lesson/gre",e+"ke.kmf.com/lesson/greaio",e+"ke.kmf.com/lesson/gre1v1",e+"ke.kmf.com/lesson/grecurricula",e+"ke.kmf.com/lesson/gredatum",e+"ke.kmf.com/lesson/gmat",e+"ke.kmf.com/lesson/gmataio",e+"ke.kmf.com/lesson/gmatvip",e+"ke.kmf.com/lesson/gmat1v1",e+"ke.kmf.com/lesson/gmatcurricula",e+"ke.kmf.com/lesson/gmatdatum",e+"ke.kmf.com/lesson/teacher",e+"ke.kmf.com/lesson/case",e+"www.kmf.com/static/appcenter",e+"www.kmf.com/static/appcenter?website=toefl",e+"www.kmf.com/static/appcenter?website=ielts",e+"www.kmf.com/static/appcenter?website=grekmf",e+"www.kmf.com/static/appcenter?website=gre",e+"www.kmf.com/static/appcenter?website=gmat",e+"www.kmf.com/static/appcenter?website=toeflwords",e+"www.kmf.com/static/appcenter?website=ke",e+"msg.kmf.com/msg"].indexOf(d)>-1&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}),define("common/js/util/ali-file",["jquery"],function(a,b,c){function d(a,b){this.options=e.extend(!0,{},e.fn.aliFile.defaults,b),this.$ele=a,this.aliOptions={},this.files=[],this.data=[],this.init()}var e=a("jquery");if(function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="",d=32*a.length;for(b=0;b<d;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;var d=8*a.length;for(b=0;b<d;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}window.md5=t}(),window.kmfGlobalConf)var f=window.kmfGlobalConf.prefix;else var f="test"==window.location.host.split(".")[0].split("-")[0]?"//test-":"//";var g={getAliOptions:function(a){return e.ajax({method:"GET",url:f+"api.kmf.com/kdfs/sts/js",data:{space:a.space,subject:a.subject,action:"post"},headers:{Authorization:"Bearer "+a.authkey,"k-product-line":a.product_line}})}};d.prototype.init=function(){!this.options.blob&&this.initFileInput(),this.getAliOptions(),!this.options.blob&&this.triggerFileSelect(),!this.options.blob&&this.processFiles(),!this.options.blob&&this.eventsBinding()},d.prototype.initLayout=function(){var a=this;e(this.options.selectors.uploadButton).on("click",function(b){var c=e(a.options.tpl.mask),d=e(a.options.tpl.maskContainer),f=e(a.options.tpl.selectButton),g=e(a.options.tpl.container);return c.append(d.append(f).append(g)).appendTo("body"),a.handleUploadedFiles(),b.preventDefault(),!1})},d.prototype.initFileInput=function(){this.options.multiple?this.$ele.attr("multiple",!0):this.$ele.attr("multiple",!1)},d.prototype.handleUploadedFiles=function(){var a=this;e(this.options.selectors.itemsContainer).find(this.options.selectors.itemSelector).length;this.options.uploadedFiles.length&&this.options.uploadedFiles.forEach(function(b,c){a.data[c]=b.url,b.uploaded=!0,e(a.options.selectors.hiddenInput).length&&e(a.options.selectors.hiddenInput).val(JSON.stringify(a.data)),a.files[c]=b,a.renderFileItem(b)})},d.prototype.getAliOptions=function(){var a=this;g.getAliOptions(this.options).done(function(b){200==b.status&&(a.options.maxSize=b.custom_limit.content_length_range.max,a.options.types=b.custom_limit.type,a.options.url=b.host,a.aliOptions.policy=b.policy,a.aliOptions.OSSAccessKeyId=b.accessid,a.aliOptions.callback=b.callback,a.aliOptions.signature=b.signature,a.aliOptions["x-oss-security-token"]=b.security_token,a.options.blob&&a.processFiles())}).fail(function(a){console.log(a)})},d.prototype.triggerFileSelect=function(){var a=this;this.$triggerButton=e(this.options.selectors.triggerButton),this.$triggerButton.on("click",function(b){return a.$ele.trigger("click"),b.preventDefault(),!1})},d.prototype.processFiles=function(){var a=this;this.options.blob?(this.options.blobData.name=this.options.blobName,this.initFormData(this.options.blobData),this.doUpload()):this.$ele.on("change",function(b){for(var c=b.target.files,d=e(a.options.selectors.globalAlert),f=e(a.options.selectors.itemsContainer).find(a.options.selectors.itemSelector).length,g=0;g<c.length;g++){var h={};a.validateFileType(c[g])?h.typeError={valid:!0}:h.typeError={valid:!1,msg:"请选择正确的文件类型"},a.validateFileSize(c[g])?h.sizeError={valid:!1,msg:"文件大小超过限制"}:h.sizeError={valid:!0},h.name=c[g].name,h.size=c[g].size,h.file=c[g],h.uploaded=!1,h.index=f,a.files[f++]=h,a.renderFileItem(h)}if(a.validateFileLength(a.files))return void d.html("文件个数超过限制").show();d.hide(),a.uploadFiles()})},d.prototype.validateFileType=function(a){var b=a.name.substr(a.name.lastIndexOf(".")+1);return new RegExp(this.options.types.join("|"),"gi").test(b)},d.prototype.validateFileSize=function(a){return a.size>this.options.maxSize},d.prototype.validateFileLength=function(a){a.length;return a.length>this.options.maxLength},d.prototype.renderFileItem=function(a){var b,c=this.options.tpl.item,d="",f=this;if(/\.(jpe?g|png|gif)$/i.test(a.name))if(a.url){var g=e(this.options.selectors.itemsContainer).find(this.options.selectors.itemSelector).length;d=c.replace(/{{thumbnail}}/g,a.url).replace(/{{name}}/g,a.name),b=e(d),b.data("index",g),b.find(this.options.selectors.progressBar).css("width","100%"),e(this.options.selectors.itemsContainer).append(b)}else{var h=new FileReader;h.addEventListener("load",function(){var g=e(f.options.selectors.itemsContainer).find(f.options.selectors.itemSelector).length;d=a.typeError.valid?a.sizeError.valid?c.replace(/{{thumbnail}}/g,h.result).replace(/{{name}}/g,a.name):c.replace(/{{thumbnail}}/g,h.result).replace(/{{name}}/g,a.name).replace(/{{errMsg}}/g,a.sizeError.msg):c.replace(/{{thumbnail}}/g,h.result).replace(/{{name}}/g,a.name).replace(/{{errMsg}}/g,a.typeError.msg),b=e(d),a.itemTpl=b,b.data("index",g),e(f.options.selectors.itemsContainer).append(b),a.typeError.valid&&a.sizeError.valid?b.removeClass("error"):b.addClass("error")}),h.readAsDataURL(a.file)}else{var g=e(this.options.selectors.itemsContainer).find(this.options.selectors.itemSelector).length;d=a.typeError&&!a.typeError.valid?c.replace(/{{thumbnail}}/,"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDYwIDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2MCA2MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiPgo8Zz4KCTxwYXRoIGQ9Ik00NSwyNUgyMGMtMC41NTIsMC0xLDAuNDQ3LTEsMXMwLjQ0OCwxLDEsMWgyNWMwLjU1MiwwLDEtMC40NDcsMS0xUzQ1LjU1MiwyNSw0NSwyNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yMCwxOWgxMGMwLjU1MiwwLDEtMC40NDcsMS0xcy0wLjQ0OC0xLTEtMUgyMGMtMC41NTIsMC0xLDAuNDQ3LTEsMVMxOS40NDgsMTksMjAsMTl6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsMzNIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsMzMsNDUsMzN6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsNDFIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsNDEsNDUsNDF6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsNDlIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsNDksNDUsNDl6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDksMTQuNTg2VjBINnY1NWg1djVoNDNWMTkuNTg2TDQ5LDE0LjU4NnogTTQwLDguNDE0bDksOUw1MC41ODYsMTlINDBWOC40MTR6IE04LDUzVjJoMzl2MTAuNTg2TDM5LjQxNCw1SDExdjQ4SDh6ICAgIE0xMyw1OHYtM1Y3aDI1djE0aDE0djM3SDEzeiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=").replace(/{{name}}/g,a.name).replace(/{{errMsg}}/g,a.typeError.msg):a.sizeError&&!a.sizeError.valid?c.replace(/{{thumbnail}}/,"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDYwIDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2MCA2MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiPgo8Zz4KCTxwYXRoIGQ9Ik00NSwyNUgyMGMtMC41NTIsMC0xLDAuNDQ3LTEsMXMwLjQ0OCwxLDEsMWgyNWMwLjU1MiwwLDEtMC40NDcsMS0xUzQ1LjU1MiwyNSw0NSwyNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yMCwxOWgxMGMwLjU1MiwwLDEtMC40NDcsMS0xcy0wLjQ0OC0xLTEtMUgyMGMtMC41NTIsMC0xLDAuNDQ3LTEsMVMxOS40NDgsMTksMjAsMTl6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsMzNIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsMzMsNDUsMzN6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsNDFIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsNDEsNDUsNDF6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsNDlIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsNDksNDUsNDl6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDksMTQuNTg2VjBINnY1NWg1djVoNDNWMTkuNTg2TDQ5LDE0LjU4NnogTTQwLDguNDE0bDksOUw1MC41ODYsMTlINDBWOC40MTR6IE04LDUzVjJoMzl2MTAuNTg2TDM5LjQxNCw1SDExdjQ4SDh6ICAgIE0xMyw1OHYtM1Y3aDI1djE0aDE0djM3SDEzeiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=").replace(/{{name}}/g,a.name).replace(/{{errMsg}}/g,a.sizeError.msg):c.replace(/{{thumbnail}}/,"data:image/svg+xml;utf8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDYwIDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA2MCA2MDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIyNHB4IiBoZWlnaHQ9IjI0cHgiPgo8Zz4KCTxwYXRoIGQ9Ik00NSwyNUgyMGMtMC41NTIsMC0xLDAuNDQ3LTEsMXMwLjQ0OCwxLDEsMWgyNWMwLjU1MiwwLDEtMC40NDcsMS0xUzQ1LjU1MiwyNSw0NSwyNXoiIGZpbGw9IiMwMDAwMDAiLz4KCTxwYXRoIGQ9Ik0yMCwxOWgxMGMwLjU1MiwwLDEtMC40NDcsMS0xcy0wLjQ0OC0xLTEtMUgyMGMtMC41NTIsMC0xLDAuNDQ3LTEsMVMxOS40NDgsMTksMjAsMTl6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsMzNIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsMzMsNDUsMzN6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsNDFIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsNDEsNDUsNDF6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDUsNDlIMjBjLTAuNTUyLDAtMSwwLjQ0Ny0xLDFzMC40NDgsMSwxLDFoMjVjMC41NTIsMCwxLTAuNDQ3LDEtMVM0NS41NTIsNDksNDUsNDl6IiBmaWxsPSIjMDAwMDAwIi8+Cgk8cGF0aCBkPSJNNDksMTQuNTg2VjBINnY1NWg1djVoNDNWMTkuNTg2TDQ5LDE0LjU4NnogTTQwLDguNDE0bDksOUw1MC41ODYsMTlINDBWOC40MTR6IE04LDUzVjJoMzl2MTAuNTg2TDM5LjQxNCw1SDExdjQ4SDh6ICAgIE0xMyw1OHYtM1Y3aDI1djE0aDE0djM3SDEzeiIgZmlsbD0iIzAwMDAwMCIvPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo=").replace(/{{name}}/g,a.name),b=e(d),b.data("index",g),a.itemTpl=b,e(this.options.selectors.itemsContainer).append(b),a.typeError&&!a.typeError.valid||a.sizeError&&!a.sizeError.valid?b.addClass("error"):b.removeClass("error")}},d.prototype.uploadFiles=function(){for(var a=(e(this.options.selectors.itemsContainer).find(this.options.selectors.itemSelector).length,0);a<this.files.length;a++){var b=this.files[a];b.uploaded||(this.initFormData(b),b.typeError.valid&&b.sizeError.valid&&this.doUpload(b))}},d.prototype.initFormData=function(a){var b=a.name.split(".").pop(),c=md5(a.name+a.size).toString(),d=this.options.subject+"/"+c.substr(0,2)+"/"+c.substr(2,2)+"/"+c+"."+b;this.formData=new FormData,this.formData.append("key",d),this.formData.append("x:source_name",a.name),this.formData.append("x:product_line",this.options.product_line),this.formData.append("x:dir_id",0),this.formData.append("x:auth",this.options.authkey);for(var e in this.aliOptions)this.formData.append(e,this.aliOptions[e]);this.options.blob?this.formData.append(this.options.fileName,a):this.formData.append(this.options.fileName,a.file)},d.prototype.doUpload=function(a){var b=this;e.ajax({method:"POST",url:this.options.url,processData:!1,contentType:!1,crossDomain:!0,data:this.formData,xhr:function(){var c=new XMLHttpRequest;return c.upload&&(c.upload.onprogress=function(c){a?(a.itemTpl.find(b.options.selectors.progressBar).css("width",c.loaded/c.total*100+"%"),a.itemTpl.find(b.options.selectors.progressText).html(c.loaded/c.total*100+"%")):e.isFunction(b.options.progress)&&b.options.progress(c)}),c}}).done(function(c){var d;200==c.status&&(1!=b.options.maxLength||b.options.blob?b.options.maxLength>1&&!b.options.blob&&(d="url"==b.options.dataType?"http:"+c.result.domain+"/"+c.result.full_url:c.result.file,b.data[a.index]=d,e(b.options.selectors.hiddenInput).length&&e(b.options.selectors.hiddenInput).val(JSON.stringify(b.data))):(d="url"==b.options.dataType?"http:"+c.result.domain+"/"+c.result.full_url:c.result.file,e(b.options.selectors.hiddenInput).length&&e(b.options.selectors.hiddenInput).val(d)),e.isFunction(b.options.success)&&b.options.success(c,a))}).fail(function(c){e.isFunction(b.options.error)&&b.options.error(c,a)})},d.prototype.eventsBinding=function(){var a=e(this.options.selectors.uploadMask),b=this;a.on("click",this.options.selectors.deleteButton,function(){var a=e(this),c=a.parents(b.options.selectors.itemSelector),d=c.data("index");c.remove(),b.data.splice(d,1),b.files.splice(d,1),e(b.options.selectors.hiddenInput).val(JSON.stringify(b.data)),b.files.length<=b.options.maxLength&&e(b.options.selectors.globalAlert).is(":visible")&&e(b.options.selectors.globalAlert).hide(),e.isFunction(b.options.fileRemove)&&b.options.fileRemove(c)}),a.on("click",this.options.selectors.closeButton,function(){e(b.options.selectors.uploadMask).remove()})},window.$.fn.aliFile=function(a){if(this.length)return this.each(function(){new d(e(this),a)});new d(null,a)},e.fn.aliFile.defaults={space:"kmf-image",subject:"test",authkey:"",product_line:"test",blob:!1,selectors:{triggerButton:".upload-launch",itemsContainer:".file-items",itemSelector:".file-items__item",deleteButton:".file-items__delete",fileName:".file-items__name",fileThumb:".file-items__thumb",progressBar:".file-items__progress_percent",progressText:".file-items__progress_text",errorContainer:".file-items__error",errorText:".file-items__error_text",globalAlert:".file-upload-alert",hiddenInput:".file-upload-hidden"},tpl:{selectButton:'<div class="upload-launch">Select Files</div>',container:'<div class="file-upload-container"><div class="file-upload-alert error"></div><div class="file-items"></div></div>',item:'<div class="file-items__item"><div class="file-items__error"><span class="file-items__error_text">{{errMsg}}</span><a href="#" class="file-items__delete"></a></div><div class="file-items__left"><div class="file-items__progress"><span class="file-items__progress_percent"><strong class="file-items__progress_text"></strong></span></div><div class="file-items__name">{{name}}</div></div><div class="file-items__right"><a href="#" class="file-items__delete"></a><div class="file-items__thumb"><img src="{{thumbnail}}" alt="{{name}}"></div></div></div>'},maxSize:0,maxLength:1,typeLimits:[],fileName:"file",progress:null,success:null,error:null,fileRemove:null,multiple:!0,uploadedFiles:[],dataType:"url"}}),define("common/js/plugin/md5",[],function(){!function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b);return(a>>16)+(b>>16)+(c>>16)<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[14+(c+64>>>9<<4)]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="",d=32*a.length;for(b=0;b<d;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;var d=8*a.length;for(b=0;b<d;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;c<16;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}window.md5=t}()}),define("common/js/plugin/evercookie",[],function(a,b,c){window.swfobject=function(){function a(){if(!R){try{var a=K.getElementsByTagName("body")[0].appendChild(q("span"));a.parentNode.removeChild(a)}catch(a){return}R=!0;for(var b=N.length,c=0;c<b;c++)N[c]()}}function b(a){R?a():N[N.length]=a}function c(a){if(typeof J.addEventListener!=C)J.addEventListener("load",a,!1);else if(typeof K.addEventListener!=C)K.addEventListener("load",a,!1);else if(typeof J.attachEvent!=C)r(J,"onload",a);else if("function"==typeof J.onload){var b=J.onload;J.onload=function(){b(),a()}}else J.onload=a}function d(){M?e():f()}function e(){var a=K.getElementsByTagName("body")[0],b=q(D);b.setAttribute("type",G);var c=a.appendChild(b);if(c){var d=0;!function(){if(typeof c.GetVariable!=C){var e=c.GetVariable("$version");e&&(e=e.split(" ")[1].split(","),U.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)])}else if(d<10)return d++,void setTimeout(arguments.callee,10);a.removeChild(b),c=null,f()}()}else f()}function f(){var a=O.length;if(a>0)for(var b=0;b<a;b++){var c=O[b].id,d=O[b].callbackFn,e={success:!1,id:c};if(U.pv[0]>0){var f=p(c);if(f)if(!s(O[b].swfVersion)||U.wk&&U.wk<312)if(O[b].expressInstall&&h()){var k={};k.data=O[b].expressInstall,k.width=f.getAttribute("width")||"0",k.height=f.getAttribute("height")||"0",f.getAttribute("class")&&(k.styleclass=f.getAttribute("class")),f.getAttribute("align")&&(k.align=f.getAttribute("align"));for(var l={},m=f.getElementsByTagName("param"),n=m.length,o=0;o<n;o++)"movie"!=m[o].getAttribute("name").toLowerCase()&&(l[m[o].getAttribute("name")]=m[o].getAttribute("value"));i(k,l,c,d)}else j(f),d&&d(e);else u(c,!0),d&&(e.success=!0,e.ref=g(c),d(e))}else if(u(c,!0),d){var q=g(c);q&&typeof q.SetVariable!=C&&(e.success=!0,e.ref=q),d(e)}}}function g(a){var b=null,c=p(a);if(c&&"OBJECT"==c.nodeName)if(typeof c.SetVariable!=C)b=c;else{var d=c.getElementsByTagName(D)[0];d&&(b=d)}return b}function h(){return!S&&s("6.0.65")&&(U.win||U.mac)&&!(U.wk&&U.wk<312)}function i(a,b,c,d){S=!0,y=d||null,z={success:!1,id:c};var e=p(c);if(e){"OBJECT"==e.nodeName?(w=k(e),x=null):(w=e,x=c),a.id=H,(typeof a.width==C||!/%$/.test(a.width)&&parseInt(a.width,10)<310)&&(a.width="310"),(typeof a.height==C||!/%$/.test(a.height)&&parseInt(a.height,10)<137)&&(a.height="137"),K.title=K.title.slice(0,47)+" - Flash Player Installation";var f=U.ie&&U.win?"ActiveX":"PlugIn",g="MMredirectURL="+J.location.toString().replace(/&/g,"%26")+"&MMplayerType="+f+"&MMdoctitle="+K.title;if(typeof b.flashvars!=C?b.flashvars+="&"+g:b.flashvars=g,U.ie&&U.win&&4!=e.readyState){var h=q("div");c+="SWFObjectNew",h.setAttribute("id",c),e.parentNode.insertBefore(h,e),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}l(a,b,c)}}function j(a){if(U.ie&&U.win&&4!=a.readyState){var b=q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(k(a),b),a.style.display="none",function(){4==a.readyState?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(k(a),a)}function k(a){var b=q("div");if(U.win&&U.ie)b.innerHTML=a.innerHTML;else{var c=a.getElementsByTagName(D)[0];if(c){var d=c.childNodes;if(d)for(var e=d.length,f=0;f<e;f++)1==d[f].nodeType&&"PARAM"==d[f].nodeName||8==d[f].nodeType||b.appendChild(d[f].cloneNode(!0))}}return b}function l(a,b,c){var d,e=p(c);if(U.wk&&U.wk<312)return d;if(e)if(typeof a.id==C&&(a.id=c),U.ie&&U.win){var f="";for(var g in a)a[g]!=Object.prototype[g]&&("data"==g.toLowerCase()?b.movie=a[g]:"styleclass"==g.toLowerCase()?f+=' class="'+a[g]+'"':"classid"!=g.toLowerCase()&&(f+=" "+g+'="'+a[g]+'"'));var h="";for(var i in b)b[i]!=Object.prototype[i]&&(h+='<param name="'+i+'" value="'+b[i]+'" />');e.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>",P[P.length]=a.id,d=p(a.id)}else{var j=q(D);j.setAttribute("type",G);for(var k in a)a[k]!=Object.prototype[k]&&("styleclass"==k.toLowerCase()?j.setAttribute("class",a[k]):"classid"!=k.toLowerCase()&&j.setAttribute(k,a[k]));for(var l in b)b[l]!=Object.prototype[l]&&"movie"!=l.toLowerCase()&&m(j,l,b[l]);e.parentNode.replaceChild(j,e),d=j}return d}function m(a,b,c){var d=q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function n(a){var b=p(a);b&&"OBJECT"==b.nodeName&&(U.ie&&U.win?(b.style.display="none",function(){4==b.readyState?o(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function o(a){var b=p(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}function p(a){var b=null;try{b=K.getElementById(a)}catch(a){}return b}function q(a){return K.createElement(a)}function r(a,b,c){a.attachEvent(b,c),Q[Q.length]=[a,b,c]}function s(a){var b=U.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]}function t(a,b,c,d){if(!U.ie||!U.mac){var e=K.getElementsByTagName("head")[0];if(e){var f=c&&"string"==typeof c?c:"screen";if(d&&(A=null,B=null),!A||B!=f){var g=q("style");g.setAttribute("type","text/css"),g.setAttribute("media",f),A=e.appendChild(g),U.ie&&U.win&&typeof K.styleSheets!=C&&K.styleSheets.length>0&&(A=K.styleSheets[K.styleSheets.length-1]),B=f}U.ie&&U.win?A&&typeof A.addRule==D&&A.addRule(a,b):A&&typeof K.createTextNode!=C&&A.appendChild(K.createTextNode(a+" {"+b+"}"))}}}function u(a,b){if(T){var c=b?"visible":"hidden";R&&p(a)?p(a).style.visibility=c:t("#"+a,"visibility:"+c)}}function v(a){return null!=/[\\\"<>\.;]/.exec(a)&&typeof encodeURIComponent!=C?encodeURIComponent(a):a}var w,x,y,z,A,B,C="undefined",D="object",E="Shockwave Flash",F="ShockwaveFlash.ShockwaveFlash",G="application/x-shockwave-flash",H="SWFObjectExprInst",I="onreadystatechange",J=window,K=document,L=navigator,M=!1,N=[d],O=[],P=[],Q=[],R=!1,S=!1,T=!0,U=function(){var a=typeof K.getElementById!=C&&typeof K.getElementsByTagName!=C&&typeof K.createElement!=C,b=L.userAgent.toLowerCase(),c=L.platform.toLowerCase(),d=/win/.test(c?c:b),e=/mac/.test(c?c:b),f=!!/webkit/.test(b)&&parseFloat(b.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),g=!1,h=[0,0,0],i=null;if(typeof L.plugins!=C&&typeof L.plugins[E]==D)!(i=L.plugins[E].description)||typeof L.mimeTypes!=C&&L.mimeTypes[G]&&!L.mimeTypes[G].enabledPlugin||(M=!0,g=!1,i=i.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),h[0]=parseInt(i.replace(/^(.*)\..*$/,"$1"),10),h[1]=parseInt(i.replace(/^.*\.(.*)\s.*$/,"$1"),10),h[2]=/[a-zA-Z]/.test(i)?parseInt(i.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof J.ActiveXObject!=C)try{var j=new ActiveXObject(F);j&&(i=j.GetVariable("$version"))&&(g=!0,i=i.split(" ")[1].split(","),h=[parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10)])}catch(a){}return{w3:a,pv:h,wk:f,ie:g,win:d,mac:e}}();(function(){U.w3&&((typeof K.readyState!=C&&"complete"==K.readyState||typeof K.readyState==C&&(K.getElementsByTagName("body")[0]||K.body))&&a(),R||(typeof K.addEventListener!=C&&K.addEventListener("DOMContentLoaded",a,!1),U.ie&&U.win&&(K.attachEvent(I,function(){"complete"==K.readyState&&(K.detachEvent(I,arguments.callee),a())}),J==top&&function(){if(!R){try{K.documentElement.doScroll("left")}catch(a){return void setTimeout(arguments.callee,0)}a()}}()),U.wk&&function(){if(!R)/loaded|complete/.test(K.readyState)?a():setTimeout(arguments.callee,0)}(),c(a)))})(),function(){U.ie&&U.win&&window.attachEvent("onunload",function(){for(var a=Q.length,b=0;b<a;b++)Q[b][0].detachEvent(Q[b][1],Q[b][2]);for(var c=P.length,d=0;d<c;d++)n(P[d]);for(var e in U)U[e]=null;U=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(U.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,O[O.length]=e,u(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(U.w3)return g(a)},embedSWF:function(a,c,d,e,f,g,j,k,m,n){var o={success:!1,id:c};U.w3&&!(U.wk&&U.wk<312)&&a&&c&&d&&e&&f?(u(c,!1),b(function(){d+="",e+="";var b={};if(m&&typeof m===D)for(var p in m)b[p]=m[p];b.data=a,b.width=d,b.height=e;var q={};if(k&&typeof k===D)for(var r in k)q[r]=k[r];if(j&&typeof j===D)for(var t in j)typeof q.flashvars!=C?q.flashvars+="&"+t+"="+j[t]:q.flashvars=t+"="+j[t];if(s(f)){var v=l(b,q,c);b.id==c&&u(c,!0),o.success=!0,o.ref=v}else{if(g&&h())return b.data=g,void i(b,q,c,n);u(c,!0)}n&&n(o)})):n&&n(o)},switchOffAutoHideShow:function(){T=!1},ua:U,getFlashPlayerVersion:function(){return{major:U.pv[0],minor:U.pv[1],release:U.pv[2]}},hasFlashPlayerVersion:s,createSWF:function(a,b,c){return U.w3?l(a,b,c):void 0},showExpressInstall:function(a,b,c,d){U.w3&&h()&&i(a,b,c,d)},removeSWF:function(a){U.w3&&n(a)},createCSS:function(a,b,c,d){U.w3&&t(a,b,c,d)},addDomLoadEvent:b,addLoadEvent:c,getQueryParamValue:function(a){var b=K.location.search||K.location.hash;if(b){if(/\?/.test(b)&&(b=b.split("?")[1]),null==a)return v(b);for(var c=b.split("&"),d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return v(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(S){var a=p(H);a&&w&&(a.parentNode.replaceChild(w,a),x&&(u(x,!0),U.ie&&U.win&&(w.style.display="block")),y&&y(z)),S=!1}}}}();try{!function(a){"use strict";function b(a){var b=new i;b.style.visibility="hidden",b.style.position="absolute",b.src=a}function c(a,b,c){if(a.indexOf("&"+b+"=")>-1||0===a.indexOf(b+"=")){var d,e=a.indexOf("&"+b+"=");return-1===e&&(e=a.indexOf(b+"=")),d=a.indexOf("&",e+1),-1!==d?a.substr(0,e)+a.substr(d+(e?0:1))+"&"+b+"="+c:a.substr(0,e)+"&"+b+"="+c}return a+"&"+b+"="+c}function d(){return"indexedDB"in a||!!(a.indexedDB=a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB)}function e(a){n=a;var b=h.getElementById("myswf");b&&b.parentNode&&b.parentNode.removeChild(b)}function f(a){function b(a,b,c){var d=h.createElement("img");return d.src=b+"#"+parseInt(32e3*Math.random()),d.onload=function(){f[a]=!0,(g-=1)<=0&&(i=!1,c(f))},d.onerror=function(){f[a]=!1,(g-=1)<=0&&(i=!1,c(f))},d}function c(a,b){return a.toString().length<b?c("0"+a,b):a}function d(a){for(var b=0,c=a.length,d=0;d<c;++d)b=(b<<1)+(a[d]?1:0);return b}function e(a,b){var d=[],e=parseInt(a,10).toString(2);e=c(e,32);for(var f=32-b;f<32;++f)d.push("1"==e[f]);return d}var f=[],g=0,i=!1;return{bools_to_int:d,is_working:function(){return i},get_hsts_value:function(c){if(i)return!1;i=!0,f=[],g=a.length;for(var d=0;d<a.length;++d){f.push(void 0);b(d,a[d],c)}return!0},set_hsts_value:function(c,d){if(i)return!1;i=!0,f=[],g=a.length;for(var e=0;e<a.length;++e)f.push(void 0),c[e]?b(e,a[e]+"?SET=1",d):b(e,a[e]+"?DEL=1",d);return!0},set_hsts_as_int:function(b,c){var b=e(b,a.length);return this.set_hsts_value(b,c)},get_hsts_as_int:function(a){return this.get_hsts_value(function(b){a(d(b))})}}}function g(e){e=e||{};var g={};for(var r in p){var s=e[r];g[r]=void 0!==s?s:p[r]}"function"==typeof g.domain&&(g.domain=g.domain(a));var t=g.history,u=g.java,v=g.tests,w=g.baseurl,x=g.asseturi,y=g.phpuri,z=g.domain,A=g.swfFileName,B=g.xapFileName,C=g.jnlpFileName,D=g.hsts,E=this;this._ec={},D&&(g.hsts_domains.length<=8&&console.log("HSTS cookie with "+g.hsts_domains.length+" can only save values up to "+Math.pow(2,g.hsts_domains.length)-1),this.hsts_cookie=f(g.hsts_domains)),this.get=function(a,b,c){E._evercookie(a,b,void 0,void 0,c)},this.set=function(a,b){E._evercookie(a,function(){},b)},this._evercookie=function(b,c,e,f,i){if(void 0===E._evercookie&&(E=this),void 0===f&&(f=0),0===f&&(g.db&&E.evercookie_database_storage(b,e),g.idb&&E.evercookie_indexdb_storage(b,e),g.pngCookieName&&E.evercookie_png(b,e),g.etagCookieName&&E.evercookie_etag(b,e),g.cacheCookieName&&E.evercookie_cache(b,e),g.lso&&E.evercookie_lso(b,e),g.silverlight&&E.evercookie_silverlight(b,e),g.authPath&&E.evercookie_auth(b,e),g.java&&u&&E.evercookie_java(b,e),E._ec.userData=E.evercookie_userdata(b,e),E._ec.cookieData=E.evercookie_cookie(b,e),E._ec.localData=E.evercookie_local_storage(b,e),E._ec.globalData=E.evercookie_global_storage(b,e),E._ec.sessionData=E.evercookie_session_storage(b,e),E._ec.windowData=E.evercookie_window(b,e),t&&(E._ec.historyData=E.evercookie_history(b,e)),D&&(E._ec.hstsData=void 0,void 0===e?E.hsts_cookie.get_hsts_as_int(function(a){E._ec.hstsData=a}):E.hsts_cookie.set_hsts_as_int(e,function(a){E._ec.hstsData=E.hsts_cookie.bools_to_int(a)}))),void 0!==e)(void 0===n||void 0===o||void 0===E._ec.hstsData||E.hsts_cookie.is_working())&&f++<v&&setTimeout(function(){E._evercookie(b,c,e,f,i)},300);else if((g.db&&a.openDatabase&&void 0===E._ec.dbData||g.idb&&d()&&(void 0===E._ec.idbData||""===E._ec.idbData)||g.lso&&void 0===n||g.etagCookieName&&void 0===E._ec.etagData||g.cacheCookieName&&void 0===E._ec.cacheData||g.java&&void 0===E._ec.javaData||g.hsts&&(void 0===E._ec.hstsData||E.hsts_cookie.is_working())||g.pngCookieName&&h.createElement("canvas").getContext&&(void 0===E._ec.pngData||""===E._ec.pngData)||g.silverlight&&void 0===o)&&f++<v)setTimeout(function(){E._evercookie(b,c,e,f,i)},300);else{E._ec.lsoData=E.getFromStr(b,n),n=void 0,E._ec.slData=E.getFromStr(b,o),o=void 0;var j,k,l=E._ec,m=[],p=0;E._ec={};for(k in l)l[k]&&"null"!==l[k]&&"undefined"!==l[k]&&(m[l[k]]=void 0===m[l[k]]?1:m[l[k]]+1);for(k in m)m[k]>p&&(p=m[k],j=k);this.working=!1,void 0===j||void 0!==i&&1===i||E.set(b,j),"function"==typeof c&&c(j,l)}},this.evercookie_window=function(b,d){try{if(void 0===d)return this.getFromStr(b,a.name);a.name=c(a.name,b,d)}catch(a){}},this.evercookie_userdata=function(a,b){try{var c=this.createElem("div","userdata_el",1);if(c.addBehavior){if(c.style.behavior="url(#default#userData)",void 0===b)return c.load(a),c.getAttribute(a);c.setAttribute(a,b),c.save(a)}}catch(a){}},this.ajax=function(a){var b,c,d,e,f,g;for(b={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},d=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],f=0,g=d.length;f<g;f++){e=d[f];try{e=e();break}catch(a){}}e.onreadystatechange=function(){4===e.readyState&&a.success(e.responseText)},e.open("get",a.url,!0);for(c in b)e.setRequestHeader(c,b[c]);e.send()},this.evercookie_cache=function(a,b){if(void 0!==b)h.cookie=g.cacheCookieName+"="+b+"; path=/; domain="+z,E.ajax({url:w+y+g.cachePath+"?name="+a+"&cookie="+g.cacheCookieName,success:function(a){}});else{var c=this.getFromStr(g.cacheCookieName,h.cookie);E._ec.cacheData=void 0,h.cookie=g.cacheCookieName+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+z,E.ajax({url:w+y+g.cachePath+"?name="+a+"&cookie="+g.cacheCookieName,success:function(a){h.cookie=g.cacheCookieName+"="+c+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; domain="+z,E._ec.cacheData=a}})}},this.evercookie_auth=function(a,c){void 0!==c?b("//"+c+"@"+location.host+w+y+g.authPath+"?name="+a):E.ajax({url:w+y+g.authPath+"?name="+a,success:function(a){E._ec.authData=a}})},this.evercookie_etag=function(a,b){if(void 0!==b)h.cookie=g.etagCookieName+"="+b+"; path=/; domain="+z,E.ajax({url:w+y+g.etagPath+"?name="+a+"&cookie="+g.etagCookieName,success:function(a){}});else{var c=this.getFromStr(g.etagCookieName,h.cookie);E._ec.etagData=void 0,h.cookie=g.etagCookieName+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+z,E.ajax({url:w+y+g.etagPath+"?name="+a+"&cookie="+g.etagCookieName,success:function(a){h.cookie=g.etagCookieName+"="+c+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; domain="+z,E._ec.etagData=a}})}},this.evercookie_java=function(a,b){function c(c){var d=h.getElementById(c);void 0!==b?d.set(a,b):E._ec.javaData=d.get(a)}var d=h.getElementById("ecAppletContainer");"undefined"!=typeof dtjava&&(null!==d&&void 0!==d&&d.length||(d=h.createElement("div"),d.setAttribute("id","ecAppletContainer"),d.style.position="absolute",d.style.top="-3000px",d.style.left="-3000px",d.style.width="1px",d.style.height="1px",h.body.appendChild(d)),"undefined"==typeof ecApplet?dtjava.embed({id:"ecApplet",url:w+x+C,width:"1px",height:"1px",placeholder:"ecAppletContainer"},{},{onJavascriptReady:c}):c("ecApplet"))},this.evercookie_lso=function(a,b){var c=h.getElementById("swfcontainer"),d={},e={},f={};null!==c&&void 0!==c&&c.length||(c=h.createElement("div"),c.setAttribute("id","swfcontainer"),h.body.appendChild(c)),void 0!==b&&(d.everdata=a+"="+b),e.swliveconnect="true",f.id="myswf",f.name="myswf",k.embedSWF(w+x+A,"swfcontainer","1","1","9.0.0",!1,d,e,f)},this.evercookie_png=function(a,b){var c,d,e,f=h.createElement("canvas");f.style.visibility="hidden",f.style.position="absolute",f.width=200,f.height=1,f&&f.getContext&&(c=new i,c.style.visibility="hidden",c.style.position="absolute",void 0!==b?h.cookie=g.pngCookieName+"="+b+"; path=/; domain="+z:(E._ec.pngData=void 0,d=f.getContext("2d"),e=this.getFromStr(g.pngCookieName,h.cookie),h.cookie=g.pngCookieName+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+z,c.onload=function(){h.cookie=g.pngCookieName+"="+e+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; domain="+z,E._ec.pngData="",d.drawImage(c,0,0);var a,b,f=d.getImageData(0,0,200,1),i=f.data;for(a=0,b=i.length;a<b&&0!==i[a]&&(E._ec.pngData+=String.fromCharCode(i[a]),0!==i[a+1])&&(E._ec.pngData+=String.fromCharCode(i[a+1]),0!==i[a+2]);a+=4)E._ec.pngData+=String.fromCharCode(i[a+2])}),c.src=w+y+g.pngPath+"?name="+a+"&cookie="+g.pngCookieName,c.crossOrigin="Anonymous")},this.evercookie_local_storage=function(a,b){try{if(l){if(void 0===b)return l.getItem(a);l.setItem(a,b)}}catch(a){}},this.evercookie_database_storage=function(b,c){try{if(a.openDatabase){var d=a.openDatabase("sqlite_evercookie","","evercookie",1048576);void 0!==c?d.transaction(function(a){a.executeSql("CREATE TABLE IF NOT EXISTS cache(id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, name TEXT NOT NULL, value TEXT NOT NULL, UNIQUE (name))",[],function(a,b){},function(a,b){}),a.executeSql("INSERT OR REPLACE INTO cache(name, value) VALUES(?, ?)",[b,c],function(a,b){},function(a,b){})}):d.transaction(function(a){a.executeSql("SELECT value FROM cache WHERE name=?",[b],function(a,b){b.rows.length>=1?E._ec.dbData=b.rows.item(0).value:E._ec.dbData=""},function(a,b){})})}}catch(a){}},this.evercookie_indexdb_storage=function(b,c){try{if("indexedDB"in a||(indexedDB=a.indexedDB||a.mozIndexedDB||a.webkitIndexedDB||a.msIndexedDB,IDBTransaction=a.IDBTransaction||a.webkitIDBTransaction||a.msIDBTransaction,IDBKeyRange=a.IDBKeyRange||a.webkitIDBKeyRange||a.msIDBKeyRange),indexedDB){var d=1,e=indexedDB.open("idb_evercookie",d);e.onerror=function(a){},e.onupgradeneeded=function(a){var b=a.target.result;b.createObjectStore("evercookie",{keyPath:"name",unique:!1})},e.onsuccess=void 0!==c?function(a){var d=a.target.result;if(d.objectStoreNames.contains("evercookie")){var e=d.transaction(["evercookie"],"readwrite"),f=e.objectStore("evercookie");f.put({name:b,value:c})}d.close()}:function(a){var c=a.target.result;if(c.objectStoreNames.contains("evercookie")){var d=c.transaction(["evercookie"]),e=d.objectStore("evercookie"),f=e.get(b);f.onsuccess=function(a){void 0===f.result?E._ec.idbData=void 0:E._ec.idbData=f.result.value}}else E._ec.idbData=void 0;c.close()}}}catch(a){}},this.evercookie_session_storage=function(a,b){try{if(m){if(void 0===b)return m.getItem(a);m.setItem(a,b)}}catch(a){}},this.evercookie_global_storage=function(a,b){if(j){var c=this.getHost();try{if(void 0===b)return j[c][a];j[c][a]=b}catch(a){}}},this.evercookie_silverlight=function(a,b){var c,d=w+x+B,e="4.0.50401.0",f="";void 0!==b&&(f='<param name="initParams" value="'+a+"="+b+'" />'),c='<object style="position:absolute;left:-500px;top:-500px" data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="mysilverlight" width="0" height="0">'+f+'<param name="source" value="'+d+'"/><param name="onLoad" value="onSilverlightLoad"/><param name="onError" value="onSilverlightError"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="minRuntimeVersion" value="'+e+'"/><param name="autoUpgrade" value="false"/><a href="http://go.microsoft.com/fwlink/?LinkID=149156&v='+e+'" style="display:none">Get Microsoft Silverlight</a></object>';try{"undefined"==typeof jQuery?h.body.appendChild(c):$("body").append(c)}catch(a){}},this.encode=function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=this._utf8_encode(a);j<a.length;)b=a.charCodeAt(j++),c=a.charCodeAt(j++),d=a.charCodeAt(j++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),i=i+q.charAt(e)+q.charAt(f)+q.charAt(g)+q.charAt(h);return i},this.decode=function(a){var b,c,d,e,f,g,h,i="",j=0;for(a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");j<a.length;)e=q.indexOf(a.charAt(j++)),f=q.indexOf(a.charAt(j++)),g=q.indexOf(a.charAt(j++)),h=q.indexOf(a.charAt(j++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,i+=String.fromCharCode(b),64!==g&&(i+=String.fromCharCode(c)),64!==h&&(i+=String.fromCharCode(d));return i=this._utf8_decode(i)},this._utf8_encode=function(a){a=a.replace(/\r\n/g,"\n");for(var b,c="",d=0,e=a.length;d<e;d++)b=a.charCodeAt(d),b<128?c+=String.fromCharCode(b):b>127&&b<2048?(c+=String.fromCharCode(b>>6|192),c+=String.fromCharCode(63&b|128)):(c+=String.fromCharCode(b>>12|224),c+=String.fromCharCode(b>>6&63|128),c+=String.fromCharCode(63&b|128));return c},this._utf8_decode=function(a){for(var b="",c=0,d=a.length,e=0,f=0,g=0;c<d;)e=a.charCodeAt(c),e<128?(b+=String.fromCharCode(e),c+=1):e>191&&e<224?(f=a.charCodeAt(c+1),b+=String.fromCharCode((31&e)<<6|63&f),c+=2):(f=a.charCodeAt(c+1),g=a.charCodeAt(c+2),b+=String.fromCharCode((15&e)<<12|(63&f)<<6|63&g),c+=3);return b},this.evercookie_history=function(a,b){var c,d,e=(q+"-").split(""),f="http://www.google.com/evercookie/cache/"+this.getHost()+"/"+a,g="",h="",i=1;if(void 0!==b){if(this.hasVisited(f))return;for(this.createIframe(f,"if"),f+="/",d=this.encode(b).split(""),c=0;c<d.length;c++)f+=d[c],this.createIframe(f,"if"+c);f+="-",this.createIframe(f,"if_")}else if(this.hasVisited(f)){for(f+="/";"-"!==g&&1===i;)for(i=0,c=0;c<e.length;c++)if(this.hasVisited(f+e[c])){g=e[c],"-"!==g&&(h+=g),f+=g,i=1;break}return this.decode(h)}},this.createElem=function(a,b,c){var d;return d=void 0!==b&&h.getElementById(b)?h.getElementById(b):h.createElement(a),d.style.visibility="hidden",d.style.position="absolute",b&&d.setAttribute("id",b),c&&h.body.appendChild(d),d},this.createIframe=function(a,b){var c=this.createElem("iframe",b,1);return c.setAttribute("src",a),c};var F=this.waitForSwf=function(a){void 0===a?a=0:a++,a<v&&void 0===k&&setTimeout(function(){F(a)},300)};this.evercookie_cookie=function(a,b){if(void 0===b)return this.getFromStr(a,h.cookie);h.cookie=a+"=; expires=Mon, 20 Sep 2010 00:00:00 UTC; path=/; domain="+z,h.cookie=a+"="+b+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; domain="+z},this.getFromStr=function(a,b){if("string"==typeof b){var c,d,e=a+"=",f=b.split(/[;&]/);for(c=0;c<f.length;c++){for(d=f[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(e))return d.substring(e.length,d.length)}}},this.getHost=function(){return a.location.host.replace(/:\d+/,"")},this.toHex=function(a){for(var b,c="",d=a.length,e=0;e<d;){for(b=a.charCodeAt(e++).toString(16);b.length<2;)b="0"+b;c+=b}return c},this.fromHex=function(a){for(var b,c="",d=a.length;d>=0;)b=d-2,c=String.fromCharCode("0x"+a.substring(b,d))+c,d=b;return c},this.hasVisited=function(a){if(-1===this.no_color){-1===this._getRGB("http://samy-was-here-this-should-never-be-visited.com",-1)&&(this.no_color=this._getRGB("http://samy-was-here-"+Math.floor(9999999*Math.random())+"rand.com"))}return 0===a.indexOf("https:")||0===a.indexOf("http:")?this._testURL(a,this.no_color):this._testURL("http://"+a,this.no_color)||this._testURL("https://"+a,this.no_color)||this._testURL("http://www."+a,this.no_color)||this._testURL("https://www."+a,this.no_color)};var G,H,I=this.createElem("a","_ec_rgb_link"),J="#_ec_rgb_link:visited{display:none;color:#FF0000}";try{G=1,H=h.createElement("style"),H.styleSheet?H.styleSheet.innerHTML=J:H.innerHTML?H.innerHTML=J:H.appendChild(h.createTextNode(J))}catch(a){G=0}this._getRGB=function(a,b){if(b&&0===G)return-1;I.href=a,I.innerHTML=a,h.body.appendChild(H),h.body.appendChild(I);var c;if(h.defaultView){if(null==h.defaultView.getComputedStyle(I,null))return-1;c=h.defaultView.getComputedStyle(I,null).getPropertyValue("color")}else c=I.currentStyle.color;return c},this._testURL=function(a,b){var c=this._getRGB(a);return"rgb(255, 0, 0)"===c||"#ff0000"===c?1:b&&c!==b?1:0}}var h=a.document,i=a.Image,j=a.globalStorage,k=a.swfobject;try{var l=a.localStorage}catch(a){}try{var m=a.sessionStorage}catch(a){}var n,o,p={history:!0,java:!0,tests:10,silverlight:!0,lso:!0,domain:"."+a.location.host.replace(/:\d+/,""),baseurl:"",asseturi:"/assets",phpuri:"/php",authPath:!1,swfFileName:"/evercookie.swf",xapFileName:"/evercookie.xap",jnlpFileName:"/evercookie.jnlp",pngCookieName:"evercookie_png",pngPath:"/evercookie_png.php",etagCookieName:"evercookie_etag",etagPath:"/evercookie_etag.php",cacheCookieName:"evercookie_cache",cachePath:"/evercookie_cache.php",hsts:!1,hsts_domains:[],db:!0,idb:!0},q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a._evercookie_flash_var=e,a.evercookie=a.Evercookie=g}(window)}catch(a){}}),define("common/js/channel/ab-test",["jquery"],function(a,b,c){function d(){f.ajax({type:"GET",url:g,headers:{Authorization:"Bearer "+e("authkey")||""},success:function(a){200==a.status&&f.cookie("udid",a.result.udid,{domain:".kmf.com",expires:30,path:"/"})},error:function(a){console.log(a)}})}function e(a){var b=a+"=",c="";if(document.cookie.length>0){var d=document.cookie.indexOf(b);if(-1!=d){d+=b.length;var e=document.cookie.indexOf(";",d);-1==e&&(e=document.cookie.length),c=unescape(document.cookie.substring(d,e))}}return c}var f=a("jquery"),g=window.kmfGlobalConf.prefix+"api.kmf.com/app-manage/device/udid";if(f.cookie("udid"))return!1;d()}),define("common/js/channel/qa-access",["jquery","common/js/channel/qa","common/js/util/transform-time","common/js/util/api","common/js/channel/qa-evaluate","common/js/util/ws","common/js/plugin/template.3.0","common/js/channel/detail","common/js/channel/feedback"],function(a,b,c){function d(a){i.ajax({type:"GET",url:j,headers:{Authorization:"Bearer "+i.cookie("authkey")},data:{course_id:a},success:function(b){if(200==b.status){if(1==b.result.userAccess){var c={PageSign:b.result.sitePages.pages,Qproject:b.result.sitePages.project,Qsubject:b.result.sitePages.subject,startTime:(new Date).getTime(),CourseId:a};sessionStorage.setItem("qaAccessInfo-"+a,JSON.stringify(c))}else e();f()}},error:function(a){console.log(a)}})}function e(){sessionStorage.setItem("qaAccessInfo-"+l,JSON.stringify({PageSign:"[]",Qproject:"",Qsubject:"",startTime:"",CourseId:l}))}function f(){var b=JSON.parse(sessionStorage.getItem("qaAccessInfo-"+l));if(b.Qproject!=n||b.Qsubject!=o)return!1;var c=b.PageSign;c&&c.length&&c.forEach(function(b,c){if(b==m){a("common/js/channel/qa");var d={};d.prefix=window.kmfGlobalConf.prefix;if(!localStorage.getItem("isShow")){var e=a("common/tpl/qa/guide.tpl"),f=template.compile(e),g=f(d);localStorage.setItem("isShow",!0)}var e=a("common/tpl/qa/index.tpl"),f=template.compile(e),h=f(d);i("body").append(h),i("body .question-feedback").before(g)}})}function g(){var a=window.kmfGlobalConf.prefix+"api.kmf.com/pigai/dayi/stats/newChatNum";i.ajax({type:"GET",url:a,headers:{Authorization:"Bearer "+i.cookie("authkey")},success:function(a){200==a.status&&a.result&&i(".user-navs .dayi-red-point").addClass("red-point-num")},error:function(a){console.log(a)}})}function h(a){var b=decodeURI(location.search),c={};if(-1!=b.indexOf("?"))for(var d=b.substr(1),e=d.split("&"),f=0;f<e.length;f++)c[e[f].split("=")[0]]=e[f].split("=")[1];return c[a]}var i=a("jquery"),j=window.kmfGlobalConf.prefix+"api.kmf.com/kps/dayi/access",k=1==h("dayi"),l=i("#CourseId").val()||h("course_id"),m=i("#PageSign").val(),n=i("#Qproject").val(),o=i("#Qsubject").val();if(l){console.log("存在courseId",l);var p=JSON.parse(sessionStorage.getItem("qaAccessInfo-"+l));if(p){var q=(new Date).getTime()-p.startTime>18e5;l!=p.CourseId||q?d(l):f()}else k&&d(l)}i(".dayi-red-point").length&&g(),i("body").on("click",".guide-close-btn",function(){i(".guide").remove()})}),define("common/js/channel/qa",["jquery","common/js/util/transform-time","common/js/util/api","common/js/channel/qa-evaluate","common/js/util/api","common/js/util/ws","common/js/plugin/template.3.0","common/js/channel/detail","common/js/util/transform-time","common/js/plugin/template.3.0","common/js/channel/feedback"],function(a,b,c){function d(b,c){q(".question,.history").remove();var d=q(".history-main .item").height(),e=a(u?"common/tpl/qa/history.tpl":"common/tpl/qa/new.tpl"),f=template.compile(e),g=f(b);q("body").append(g);var h=q(".history-main .item").height(),i=h-d;C=!0,o(c,A,B,i)}function e(a,b){q(".file").aliFile({space:"kmf-image",subject:"test"==window.kmfGlobalConf.env?"test":"kmf-pigai",product_line:"test"==window.kmfGlobalConf.env?"test":"pigai",authkey:q.cookie("authkey")||"",blob:!0,blobName:md5((new Date).getTime()),blobData:a,success:function(a){a.result&&a.result.full_url&&l(b,a.result)},error:function(){q(".file-items__item").hide()}})}function f(a){for(var b=window.atob(a.split(",")[1]),c=new ArrayBuffer(b.length),d=new Uint8Array(c),e=0;e<b.length;e++)d[e]=b.charCodeAt(e);return new Blob([c],{type:"image/png"})}function g(a,b){q.ajax({type:"GET",url:s.getStudentList,headers:{Authorization:"Bearer "+q.cookie("authkey")},data:{questionId:a,orderGroup:0,page:b},success:function(c){if(200==c.status){var e=c.result.data,f=q(".history-main .item").height();if(y=e,e.length){u=!0,1==b&&(z=[]),z=z.concat(c.result.data.reverse()),A=Math.ceil(c.result.total/c.result.pageSize),B=c.result.page;for(var g=0;g<z.length;g++)z[g].time=z[g].lastChat?r.transformTime(z[g].lastChat.createdAt):r.transformTime(z[g].createdAt),z[g].detailTime=r.transformTime(z[g].createdAt,!0);d({data:z,prefix:window.kmfGlobalConf.prefix},a);var h=q(".history-main .item").height(),i=h-f;i&&f&&q(".history-main").scrollTop(i)}else q(".history").remove(),u=!1,k(a)}},complete:function(){},error:function(a){console.log(a)}})}function h(b){x.init({wsdata:{token:[q.cookie("authkey")],url:b+"?from=student-web"},callback:function(b){console.log(b),sendList=[];var c=b,e=q(".history-main").scrollTop();if(q(".detail").length){sessionStorage.setItem("detailList",JSON.stringify(c));var f=a("common/js/channel/detail");if(c.content&&c.content.chat&&(f.appendMsg(q(".detail").attr("data-id")),q(".detail").attr("data-id")==c.content.chat.orderId&&(i(c.content.chat.id),24==c.content.chat.type||25==c.content.chat.type))){var g=a("common/tpl/qa/qa-evaluate.tpl"),h=template.compile(g);eHtml=h(),q(".detail-bot .detail-replay").append(eHtml)}}else if("chat"==c.type&&"chat"==c.subType||"push"==c.type){z.forEach(function(a,b){a.id==c.content.chat.orderId&&(a.lastChat.isStudentSend=c.content.chat.isStudentSend,a.lastChat.content=c.content.chat.content,a.lastChat.hasRead=!1,a.lastChat.talker=c.content.chat.talker,a.lastChat.isStudentSend||(a.unreadChatNum+=1),a.time=r.transformTime(c.content.chat.createdAt))}),console.log(z);var j=q("#target_id").val();d({data:z,prefix:window.kmfGlobalConf.prefix},j),q(".history-main").scrollTop(e)}}}),window.addEventListener("beforeunload",function(){x.close()})}function i(a){var b={forward:"/pigai/dayi/chat/read",chatId:a,orderId:q(".detail").attr("data-id"),from:"student-web"};x.ws.send(JSON.stringify(b))}function j(){var a={forward:"/pigai/dayi/chat/batchRead",isTeacher:0,orderId:q(".detail").attr("data-id")};x.ws.send(JSON.stringify(a))}function k(a){html2canvas(document.body,{ignoreElements:function(a){if("question-feedback"==a.id)return!0}}).then(function(b){var c=b.toDataURL();JSON.parse(localStorage.getItem("qa-info"));e(f(c),a)})}function l(a,b){q.ajax({type:"GET",url:s.getQustionInfo+"/"+a,headers:{Authorization:"Bearer "+q.cookie("authkey")},success:function(a){if(200==a.status){var c=a.result;c.url=b.domain+"/"+b.full_url,c.sourceName=b.source_name,c.file=b.full_url,c.prefix=window.kmfGlobalConf.prefix,d(c),n()}},error:function(a){console.log(a)}})}function m(b){var c=[],d=q(".new-question .tag");v.forEach(function(a,b){for(var e=0;e<d.length;e++){var f=q(d[e]);if(f.attr("data-id")==a){var g={};g.id=a,g.name=f.html(),c.push(g)}}}),q.ajax({url:s.createOrder+"/"+q(".new-question").attr("data-id"),data:{tags:v.length?v:[],subject:q(".new-question").attr("data-subject"),product_line:q(".new-question").attr("data-line"),img_name:q(".new-question").attr("data-source"),img_url_name:q(".new-question").attr("data-file"),desc:q(".new-question .qa-textarea").val()},type:"POST",dataType:"json",beforeSend:function(a){a.setRequestHeader("Authorization","Bearer "+q.cookie("authkey"))},success:function(b){if(200==b.status){var d=b.result;b.result.order;d.tags=v,d.title=q(".new-question .item-title").attr("data-title"),d.imgUrl=q(".new-question").attr("data-url"),d.desc=q(".new-question .qa-textarea").val(),d.time=r.transformTime((new Date).getTime()),d.tagList=c,d.prefix=window.kmfGlobalConf.prefix,v=[],q(".new-question .qa-textarea").val(""),w="",q("body").remove(".new-question");var e=a("common/tpl/qa/detail.tpl"),f=template.compile(e),g=f(d);console.log(d),q("body").append(g);a("common/js/channel/detail").bindEvent()}},complete:function(){self.placeNum=!1}})}function n(){var a=q(".new-question .tag");v.forEach(function(b,c){for(var d=0;d<a.length;d++){var e=q(a[d]);e.attr("data-id")==b&&e.addClass("active")}}),w&&(q(".qa-textarea").val(w),q(".js-submit-btn").addClass("active"))}function o(a,b,c,d){q(".history-main").scroll(function(){var d=q(".history-main").height(),e=q(".history-main .item").height(),f=q(".history-main").scrollTop();f+d>=e&&++c<=b&&C&&(C=!1,g(a,c))})}function p(){h(s.wsurl)}var q=a("jquery"),r=a("common/js/util/transform-time"),s=a("common/js/util/api");a("common/js/channel/qa-evaluate");var t=!0,u=!0,v=[],w="",x=a("common/js/util/ws"),y=(q(".js-question-feedback-btn"),[]),z=[],A=0,B=1,C=!1;window.template=a("common/js/plugin/template.3.0"),q("body").on("click",".master_title",function(){q(".mask").removeClass("hide");var a=q(this).attr("src");q(".mask img").attr("src",a);var b=q(".mask img").height()/2;q(".mask img").css("marginTop",-b+"px")}),q("body").on("click",".mask",function(){q(".mask").addClass("hide")}),q("body").on("click",".detail-img-con",function(){q(".mask").removeClass("hide");var a=q(".mask img").height()/2;q(".mask img").css("marginTop",-a+"px")}),q("body").on("click",".mask",function(){q(".mask").addClass("hide")}),q("body").on("click",".history .history-new-btn",function(){q(".history").remove(),q(".qa-textarea").val("");var a=q("#target_id").val();u=!1,k(a)}),q("body").on("click",".history .js-close-btn",function(){q(".history").remove()}),q("body").on("click",".js-question-feedback-btn",function(){g(q("#target_id").val(),1)}),q("body").on("click",".js-q-cancel",function(){q(".question").remove()}),q("body").on("click",".js-new-cancel",function(){v=[],q(".qa-textarea").val(""),w="",q(".new-question").remove()}),q("body").on("click",".js-new-btn",function(){q(".new-question").remove()}),q("body").on("click",".new-question .js-close-btn",function(){q(".question,.history,.detail").remove()}),q("body").on("click",".tag",function(){var a=q(this).attr("data-id");q(this).hasClass("active")?(q(this).removeClass("active"),v.forEach(function(b,c){b==a&&v.splice(c,1)})):(q(this).addClass("active"),v.push(a))}),q("body").on("click",".js-submit-btn",function(){if(!q(".qa-textarea").val)return!1;m(q(".new-question").attr("data-id"))}),q("body").on("click",".detail .detail-arrow, .detail .js-close-btn",function(){g(q("#target_id").val(),1),q(".detail").remove()}),q("body").on("click",".item-list",function(){q(".qustion").remove(),q(".history").remove();var b=q(this).attr("data-id"),c={};z.forEach(function(a,d){a.id==b&&(c=a),c.prefix=window.kmfGlobalConf.prefix,localStorage.setItem("detailInfo",JSON.stringify(c))});var d=a("common/tpl/qa/detail.tpl"),e=template.compile(d);html=e(c),q("body").append(html);var f=a("common/js/channel/detail");if(f.chatList(1,!0),f.bindEvent(),j(),c.isClosed&&!c.isCommented){var g=a("common/tpl/qa/qa-evaluate.tpl"),h=template.compile(g);eHtml=h(),q(".detail-bot .detail-replay").append(eHtml)}}),q("body").on("keyup",".detail .detail-ask-input",function(a){if(13==a.keyCode){stuContent=q(this).val();var b={forward:"/pigai/dayi/chat/send",content:stuContent,orderId:q(".detail").attr("data-id")};x.ws.send(JSON.stringify(b))}}),q("body").on("keyup",".qa-textarea",function(){q(this).val()?(t=!1,q(".js-submit-btn").addClass("active"),w=q(".qa-textarea").val()):(t=!0,q(".js-submit-btn").removeClass("active"))}),p()}),define("common/js/util/transform-time",["jquery"],function(a,b,c){var d=(a("jquery"),{transformTime:function(a,b){10==(a+"").length&&(a*=1e3);var c=(new Date).getTime(),d=new Date(c),e=new Date(a),f=this.transformDate(d),g=this.transformDate(e);return f.Y==g.Y&&f.M==g.M&&f.D==g.D?g.h+g.m:f.Y==g.Y?f.D-g.D==1?b?"昨天"+g.h+g.m:"昨天":b?g.M+g.D+g.h+g.m:g.M+g.D:b?g.Y+g.M+g.D+g.h+g.m:g.Y+g.M+g.D},transformDate:function(a){return Y=a.getFullYear()+"-",M=(a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1)+"-",D=a.getDate()+" ",h=a.getHours()+":",m=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes(),{Y:Y,M:M,D:D,h:h,m:m}}});c.exports=d}),define("common/js/util/api",[],function(a,b,c){var d=window.kmfGlobalConf.prefix+"api.kmf.com",e={getStudentList:d+"/pigai/dayi/order/student/list",getQustionInfo:d+"/pigai/dayi/order/question",createOrder:d+"/pigai/dayi/order/create",getChatList:d+"/pigai/dayi/chat/list",saveFeedBack:d+"/api-feedback/ticket",wsurl:"wss:"+window.kmfGlobalConf.prefix+"api-ws.kmf.com/socket",getCommentTags:d+"/pigai/dayi/order/comment-tags/",comment:d+"/pigai/dayi/order/comment/"};c.exports=e}),define("common/js/channel/qa-evaluate",["jquery","common/js/util/api"],function(a,b,c){var d=a("jquery"),e=a("common/js/util/api");d(document).on("click",".bq",function(){d(".submit-textArea").show(),d(".bq").each(function(a){d(this).find(".bq-font").hasClass("fontactive")&&(d(this).find(".bq-bg").removeClass("bg"+(a+1)+"active"),d(this).find(".bq-font").removeClass("fontactive"))}),d(this).find(".bq-bg").addClass("bg"+(d(this).index()+1)+"active"),d(this).find(".bq-font").addClass("fontactive"),rate=d(this).index()+1,d.ajax({type:"GET",url:e.getCommentTags+(d(this).index()+1),headers:{Authorization:"Bearer "+d.cookie("authkey")},data:{},success:function(a){var b=a.result;if(200==a.status){var c="";b.forEach(function(a){c+='<div class="btn tagBtn" data-id="'+a.id+'">'+a.name+"</div>"}),d(".comment-tags").html(c)}},error:function(a){console.log(a)}})}),d(document).on("click",".tagBtn",function(){d(this).hasClass("active")?d(this).removeClass("active"):d(this).addClass("active")}),d(document).on("click",".submit-button",function(){var a=d(".textcontent").val(),b=[];if(d(".tagBtn").each(function(a){d(this).hasClass("active")&&b.push(d(this).data("id"))}),!b.length)return alert("请选择标签"),!1;d.ajax({type:"POST",url:e.comment+JSON.parse(localStorage.getItem("detailInfo")).id,headers:{Authorization:"Bearer "+d.cookie("authkey")},data:{rate:rate,content:a,tags:b},success:function(a){200==a.status&&(d(".evaluate").hide(),rate<3?d(".result1").show():d(".result2").show())},error:function(a){console.log(a)}})})}),define("common/js/util/ws",[],function(a,b,c){var d={init:function(a){var b={wsdata:{heartCheck:!1,max_number:100,re_number:0,closedBySelf:0}};this.options=Object.assign(b,a),this.createWebSocket()},createWebSocket:function(){var a=this;this.options.wsdata.re_number++,(window.WebSocket||window.MozWebSocket)&&(a.ws=d=new WebSocket(this.options.wsdata.url,this.options.wsdata.token),d.onopen=function(a){console.log(a)},d.onmessage=function(b){var c=JSON.parse(b.data),f=c.cmd;if("login"==f){c.fd}else if("ping"==f){var g={cmd:"pong"};d.send(JSON.stringify(g))}else"-999"==c.status?(d.close(),a.options.wsdata.heartCheck=!0):a.options.callback&&a.options.callback(c);e.reset().start()},d.onclose=function(b){console.log(a.closedBySelf),a.closedBySelf||(console.log("非手动关闭链接，正在建立重连"),a.reconnect())},d.onerror=function(b){console.log(b),d.close(),a.reconnect()})},reconnect:function(){var a=this;this.options.wsdata.heartCheck||this.options.wsdata.re_number>=this.options.wsdata.max_number||(this.options.wsdata.heartCheck=!0,setTimeout(function(){a.createWebSocket(),a.options.wsdata.heartCheck=!1},2e3))},close:function(){console.log("手动关闭链接"),this.closedBySelf=1,this.ws.close()}},e={timeout:3e4,timeoutObj:null,serverTimeoutObj:null,reset:function(){return clearTimeout(this.timeoutObj),clearTimeout(this.serverTimeoutObj),this},start:function(){var a=this;this.timeoutObj=setTimeout(function(){var b={cmd:"ping"};d.send(JSON.stringify(b)),a.serverTimeoutObj=setTimeout(function(){d.close()},a.timeout)},this.timeout)}};c.exports=d}),define("common/tpl/qa/history.tpl",[],'<div class="history history-list">\n    <div style="width: 100%;height:100%;">\n        <div class="q-title">\n            <span class="my-ask">我的提问</span>\n            <a class="check" href="{{prefix}}business.kmf.com/qa/studentmanage/0" target="_blank">查看我的全部提问 ></a>\n            <div class="js-close-btn" id="js-close-btn"></div>\n        </div>\n         <div class="history-main">\n            <div class="item">\n                {{each data}}\n                    <div class="item-list" data-id="{{ $value.id }}">\n                        <div class="item-list-title">\n                            {{ $value.title }}\n                            <span class="item-time">{{ $value.time }}</span>\n                        </div>\n                        <div class="item-img-con">\n                            <img id="js-detail-btn" class="item-img" src="{{ $value.attachment.uri }}" />\n                        </div>\n                        <div class="item-tag-list">\n                            {{each $value.tags}}\n                            <span class="item-tag" data-id="{{ $value.id }}">{{$value.name}}</span>\n                            {{/each}}\n                        </div>\n                        <div class="item-replay">\n                            {{if $value.lastChat}}\n                                {{if $value.lastChat.isStudentSend}}\n                                    <span>{{ $value.lastChat.content }}</span>\n                                {{else}}\n                                        {{if !$value.lastChat.hasRead}} <span class="list-red">[新回复]</span>\n                                        {{/if}}\n                                        <span>{{ $value.lastChat.talker.realName }}老师:{{$value.lastChat.content}}</span>\n                                {{/if}}\n                            {{else}}\n                                {{ $value.describe }}\n                            {{/if}}\n                            {{if $value.unreadChatNum}}\n                                <span class="list-num">{{$value.unreadChatNum}}</span>\n                            {{/if}}\n                        </div>\n                    </div>\n                {{/each}}\n            </div>\n            <span class="ask-new-btn history-new-btn" id="js-ask-btn">+新提问</span>\n        </div>\n    </div>\n    <div class="mask hide">\n        <img />\n    </div>\n</div>\n<style>\n    .history {\n        position: fixed;\n        bottom: 20px;\n        right: 30px;\n        width: 348px;\n        height: 529px;\n        background: rgba(255, 255, 255, 1);\n        box-shadow: 0px 6px 16px 0px rgba(26, 27, 48, 0.2);\n        border-radius: 4px;\n    }\n\n    .hide {\n        display: none;\n    }\n\n    .mask img {\n        position: absolute;\n        top: 50%;\n    }\n\n    .q-title {\n        width: 100%;\n        height: 40px;\n        background: linear-gradient( 300deg, rgba(50, 51, 61, 1) 0%, rgba(66, 67, 79, 1) 100%);\n        position: relative;\n        font-size: 16px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        color: rgba(255, 255, 255, 1);\n        padding: 0 8px 0 20px;\n        box-sizing: border-box;\n        line-height: 40px;\n        position: absolute;\n        left: 0;\n        top: 0;\n    }\n\n    .check {\n        font-size: 12px;\n        text-decoration: underline;\n        font-family: MicrosoftYaHei;\n        font-weight: 200;\n        padding-left: 12px;\n        box-sizing: border-box;\n        cursor: pointer;\n        color: #fff;\n    }\n\n    .js-q-cancel {\n        position: absolute;\n        left: 20px;\n        top: 8px;\n        width: 25px;\n        height: 24px;\n        font-size: 12px;\n        font-family: MicrosoftYaHei;\n        color: rgba(255, 255, 255, 1);\n        line-height: 24px;\n        cursor: pointer;\n    }\n\n    .js-close-btn {\n        position: absolute;\n        right: 8px;\n        top: 12px;\n        width: 16px;\n        height: 16px;\n        background-image: url({{prefix}}code.kmf.com/dist/common/css/img/icon.png);\n        background-repeat: no-repeat;\n        background-size: 445px 340px;\n        background-position: -284px -10px;\n        display: inline-block;\n        cursor: pointer;\n    }\n\n    .history-main {\n        width: 100%;\n        height: 489px;\n        margin-top: 40px;\n        overflow-y: scroll;\n    }\n\n    .item {\n        width: 100%;\n        box-sizing: border-box;\n    }\n\n    .item-list-title {\n        height: 24px;\n        font-size: 14px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(51, 51, 51, 1);\n        line-height: 24px;\n        margin: 16px 20px 0 16px;\n        box-sizing: border-box;\n    }\n\n    .item-time {\n        color: #1a1b30;\n        font-size: 12px;\n        float: right;\n        color: #999;\n        font-size: 12px;\n        font-weight: 300;\n    }\n\n    .item-img-con {\n        width: 308px;\n        height: 91px;\n        background: rgba(235, 235, 235, 1);\n        border-radius: 2px;\n        border: 1px solid rgba(236, 236, 236, 1);\n        margin: 12px 20px 13px 16px;\n    }\n\n    .item-img {\n        width: 100%;\n        height: 100%;\n    }\n\n    .item-tag-list {\n        padding: 0 20px 0 16px;\n        box-sizing: border-box;\n    }\n\n    .item-tag {\n        height: 24px;\n        font-size: 12px;\n        font-family: MicrosoftYaHei;\n        line-height: 24px;\n        padding: 2px 7px;\n        float: left;\n        min-width: 55px;\n        margin-right: 8px;\n        margin-bottom: 5px;\n        border-radius: 2px;\n        background: rgba(249, 249, 249, 1);\n        color: rgba(102, 102, 102, 1);\n        border: 1px solid rgba(226, 226, 226, 1);\n    }\n\n    .tag.active {\n        color: rgba(76, 145, 255, 1);\n        border: 1px solid rgba(194, 218, 255, 1);\n    }\n\n    .item-replay {\n        font-size: 14px;\n        color: #666;\n        line-height: 24px;\n        width: 100%;\n        padding: 0 20px 20px 16px;\n        margin-top: 14px;\n        box-sizing: border-box;\n        word-break: keep-all;\n        /* 不换行 */\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        border-bottom: 1px solid #efefef;\n        position:relative;\n    }\n     .item-replay .list-num {\n        width: 16px;\n        height: 16px;\n        background: #e84441;\n        text-align: center;\n        color: #fff;\n        line-height: 16px;\n        border-radius: 16px;\n        position: absolute;\n        right: 5px;\n        top: 5px;\n    }\n\n    .ask-new-btn {\n        width: 98px;\n        height: 36px;\n        background: linear-gradient( 216deg, rgba(76, 145, 255, 1) 0%, rgba(37, 121, 255, 1) 100%);\n        box-shadow: 0px 4px 6px 0px rgba(76, 145, 255, 0.28);\n        border-radius: 32px;\n        line-height: 36px;\n        font-size: 14px;\n        cursor: pointer;\n        text-align: center;\n        color: #fff;\n        position: absolute;\n        bottom: 20px;\n        left: 50%;\n        margin-left: -49px;\n    }\n\n    .qa-textarea {\n        outline: none;\n        resize: none;\n        width: 100%;\n        border: none;\n        height: 112px;\n        font-size: 14px;\n        font-family: MicrosoftYaHei;\n        color: rgba(51, 51, 51, 1);\n    }\n\n    .js-submit-btn {\n        position: absolute;\n        right: 20px;\n        bottom: 16px;\n        width: 98px;\n        height: 36px;\n        background: rgba(0, 0, 0, 0.1);\n        border-radius: 32px;\n        font-size: 14px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(153, 153, 153, 1);\n        line-height: 24px;\n        border: none;\n        cursor: pointer;\n    }\n\n    .js-submit-btn.active {\n        background: linear-gradient( 216deg, rgba(76, 145, 255, 1) 0%, rgba(37, 121, 255, 1) 100%);\n        box-shadow: 0px 4px 6px 0px rgba(76, 145, 255, 0.28);\n        color: rgba(255, 255, 255, 1);\n    }\n\n    .js-submit-btn.active:hover,\n    .js-submit-btn.active:focus {\n        background: linear-gradient( 223deg, rgba(76, 145, 255, 1) 0%, rgba(54, 112, 255, 1) 100%);\n        box-shadow: 0px 4px 6px 0px rgba(76, 145, 255, 0.28);\n        color: rgba(255, 255, 255, 1);\n    }\n    .list-red {\n        color: #e84441;\n    }\n\n</style>'),define("common/tpl/qa/new.tpl",[],'<div class="question new-question" data-id="{{ question.id }}" data-subject="{{ question.subject }}" data-line="{{ question.project }}" data-source="{{ sourceName }}" data-url="{{url}}" data-file="{{ file }}">\n    <div style="width: 100%;height:100%;overflow-y: auto;">\n        <div class="q-title">\n            <span class="my-ask">新提问</span>\n            <div class="js-q-cancel js-new-cancel">取消提问</div>\n            <div class="js-close-btn js-new-btn"></div>\n        </div>\n        <div class="item">\n            <div class="item-title" data-title="{{ question.title }}">\n                {{ question.title }}\n            </div>\n            <img class="master_title" src="{{ url }}" />\n            <div class="tag-list">\n                {{each tags}}\n                <span class="tag" data-id="{{ $value.id }}">{{ $value.name }}</span> {{/each}}\n            </div>\n            <textarea class="qa-textarea" autofocus placeholder="描述你的具体问题，让老师能有针对性的为你解答"></textarea>\n            <input class="js-submit-btn" type="button" value="提交问题" />\n        </div>\n    </div>\n    <div class="mask hide">\n        <img src="{{ url }}" />\n    </div>\n</div>\n<style>\n    .question {\n        position: fixed;\n        bottom: 20px;\n        right: 30px;\n        width: 348px;\n        height: 450px;\n        background: rgba(255, 255, 255, 1);\n        box-shadow: 0px 6px 16px 0px rgba(26, 27, 48, 0.2);\n        border-radius: 4px;\n    }\n    \n    .new-question .my-ask {\n        text-align: center;\n        width: 100px;\n        margin-left: 124px;\n    }\n    \n    .q-title {\n        width: 100%;\n        height: 40px;\n        background: linear-gradient( 300deg, rgba(50, 51, 61, 1) 0%, rgba(66, 67, 79, 1) 100%);\n        position: relative;\n        font-size: 16px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(255, 255, 255, 1);\n        line-height: 40px;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n    \n    .mask {\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.6);\n        position: fixed;\n        top: 0;\n        left: 0;\n        overflow-y: auto;\n    }\n    \n    .hide {\n        display: none;\n    }\n    \n    .mask img {\n        position: absolute;\n        top: 10%;\n        bottom: 10%;\n        left: 50%;\n        width: 80%;\n        margin-left: -40%;\n        margin-top: 0!important;\n    }\n    \n    .item-title {\n        margin-top: 40px;\n    }\n    \n    .js-q-cancel {\n        position: absolute;\n        left: 20px;\n        top: 8px;\n        width: 50px;\n        height: 24px;\n        font-size: 12px;\n        font-family: MicrosoftYaHei;\n        color: rgba(255, 255, 255, 1);\n        line-height: 24px;\n        cursor: pointer;\n    }\n    \n    .js-close-btn {\n        position: absolute;\n        right: 8px;\n        top: 12px;\n        width: 16px;\n        height: 16px;\n        background-image: url({{prefix}}code.kmf.com/dist/common/css/img/icon.png);\n        background-repeat: no-repeat;\n        background-size: 445px 340px;\n        background-position: -284px -10px;\n        display: inline-block;\n        cursor: pointer;\n    }\n    \n    .new-question .item {\n        padding: 16px 20px;\n        width: 100%;\n        box-sizing: border-box;\n    }\n    \n    .item-title {\n        height: 24px;\n        font-size: 14px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(51, 51, 51, 1);\n        line-height: 24px;\n        margin-bottom: 12px;\n    }\n    \n    .master_title {\n        width: 100%;\n        height: 140px;\n        background: rgba(235, 235, 235, 1);\n        border-radius: 2px;\n        border: 1px solid rgba(236, 236, 236, 1);\n    }\n    \n    .tag-list {\n        margin: 4px 0;\n    }\n    \n    .tag {\n        min-width: 40px;\n        float: left;\n        height: 24px;\n        font-size: 12px;\n        font-family: MicrosoftYaHei;\n        line-height: 24px;\n        padding: 2px 7px;\n        margin-right: 12px;\n        margin-bottom: 10px;\n        border-radius: 2px;\n        color: rgba(102, 102, 102, 1);\n        border: 1px solid rgba(226, 226, 226, 1);\n        cursor: pointer;\n    }\n    \n    .tag.active {\n        color: rgba(76, 145, 255, 1);\n        border: 1px solid rgba(194, 218, 255, 1);\n    }\n    \n    .qa-textarea {\n        outline: none;\n        resize: none;\n        width: 100%;\n        border: none;\n        min-height: 48px;\n        height: 67px;\n        font-size: 14px;\n        font-family: MicrosoftYaHei;\n        color: rgba(51, 51, 51, 1);\n    }\n    \n    .js-submit-btn {\n        position: absolute;\n        right: 20px;\n        bottom: 16px;\n        width: 98px;\n        height: 36px;\n        background: rgba(0, 0, 0, 0.1);\n        border-radius: 32px;\n        font-size: 14px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(153, 153, 153, 1);\n        line-height: 24px;\n        border: none;\n        cursor: pointer;\n    }\n    \n    .js-submit-btn.active {\n        background: linear-gradient( 216deg, rgba(76, 145, 255, 1) 0%, rgba(37, 121, 255, 1) 100%);\n        box-shadow: 0px 4px 6px 0px rgba(76, 145, 255, 0.28);\n        color: rgba(255, 255, 255, 1);\n    }\n    \n    .js-submit-btn.active:hover,\n    .js-submit-btn.active:focus {\n        background: linear-gradient( 223deg, rgba(76, 145, 255, 1) 0%, rgba(54, 112, 255, 1) 100%);\n        box-shadow: 0px 4px 6px 0px rgba(76, 145, 255, 0.28);\n        color: rgba(255, 255, 255, 1);\n    }\n</style>'),define("common/js/channel/detail",["jquery","common/js/util/api","common/js/util/ws","common/js/util/transform-time","common/js/plugin/template.3.0","common/js/channel/feedback","common/js/util/api"],function(a,b,c){var d=a("jquery"),e=a("common/js/util/api"),f=(a("common/js/util/ws"),a("common/js/util/transform-time")),g="",h=0,i=1,j=!1;window.template=a("common/js/plugin/template.3.0");var k={init:function(){},chatList:function(a){var b=this;d.ajax({type:"GET",url:e.getChatList,headers:{Authorization:"Bearer "+d.cookie("authkey")},data:{orderId:d(".detail").attr("data-id"),isTeacher:0,lastChatId:g},success:function(c){if(200==c.status){var e=c.result.data.reverse(),f=d(".detail-main-list").height();if(h=Math.ceil(c.result.total/c.result.pageSize),i=c.result.page,e&&e.length){g=e[0].id;for(var j=0;j<e.length;j++)1==e[j].type?d(".detail-ask-input").show():25!=e[j].type&&24!=e[j].type||d(".detail-ask-input").hide();var k=b.loadHtml(e);d(".detail-replay").prepend(k);var l=d(".detail-main-list").height();d(".detail").attr("data-id");a&&b.scrollBot();var m=l-f;d(".detail-main").scrollTop(m)}}},error:function(a){console.log(a)}})},scrollBot:function(){var a=d(".detail-main-list").height()-d(".detail-main").height();d(".detail-main").scrollTop(a)},isFloor:function(a){var b=this;if(a.length<10)return d(".detail-main").unbind("scroll"),!1;d(".detail-main").scroll(function(){0==d(".detail-main").scrollTop()&&1==j&&(j=!1,b.chatList(!1))})},loadHtml:function(a){for(var b=this,c="",d=0;d<a.length;d++)a[d].time=f.transformTime(a[d].createdAt,!0),20==a[d].type||24==a[d].type||25==a[d].type?(c+='<div class="detail-replay-new">'+b.htmlEncodeJQ(a[d].content),25==a[d].type&&(c+='<span class="question-icon"></span>'),c+="</div>"):22==a[d].type||21==a[d].type||23==a[d].type||26==a[d].type||27==a[d].type?(c+='<div class="detail-replay-time">'+a[d].time+"</div>",c+='<div class="detail-replay-tip">'+b.htmlEncodeJQ(a[d].content),c+="</div>"):1==a[d].type&&(c+='<div class="detail-replay-list">',a[d].isStudentSend?(c+='<div class="detail-ask-student"><span class="detail-student-pic"><img src="'+a[d].talker.avatar+'" /></span><span class="detail-student-txt">'+b.htmlEncodeJQ(a[d].content)+"</span>",2==a[d].time.split(" ").length&&(c+='<span class="time-student-an">'+a[d].time.split(" ")[1]+"</span>"),c+='<span class="time-student">'+a[d].time.split(" ")[0]+"</span></div></div>"):(c+='<div class="detail-replay-teacher"><span class="detail-teacher-pic"><img src="'+a[d].talker.avatar+'" /></span><span class="detail-teacher-txt">'+b.htmlEncodeJQ(a[d].content)+'</span><span class="time-teacher">'+a[d].time.split(" ")[0]+"</span>",2==a[d].time.split(" ").length&&(c+='<span class="time-teacher-an">'+a[d].time.split(" ")[1]+"</span>"),c+="</div></div>"));return j=!0,b.isFloor(a),c},htmlEncodeJQ:function(a){return d("<span/>").text(a).html()},appendMsg:function(a){var b=[],c=this,e={},f=JSON.parse(sessionStorage.getItem("detailList"));if(f&&f.content&&f.content.chat&&a==f.content.chat.orderId&&(d(".detail-ask-input").val(""),1==f.content.chat.type?d(".detail-ask-input").show():25!=f.content.chat.type&&24!=f.content.chat.type||d(".detail-ask-input").hide(),f.content.chat.content&&"chat"==f.subType)){e.type=f.content.chat.type,e.talker=f.content.chat.talker,e.isStudentSend=f.content.chat.isStudentSend,e.createdAt=f.content.chat.createdAt,e.content=f.content.chat.content,b.push(e);var g=c.loadHtml(b);d(".detail-replay").append(g),c.scrollBot()}},bindEvent:function(){d("body").on("click",".detail .detail-arrow",function(){d(".detail").remove(),g=""}),d("body").on("click",".detail-img-con",function(){d(".mask").removeClass("hide");var a=d(".mask img").height()/2;d(".mask img").css("marginTop",-a+"px")}),d("body").on("click",".mask",function(){d(".mask").addClass("hide")}),d("body").on("click",".js-close-btn",function(){d(".question,.history,.detail").remove()}),d("body").on("keyup",".qa-textarea",function(){d(this).val()?(disabled=!1,d(".js-submit-btn").addClass("active"),newDesc=d(".qa-textarea").val()):(disabled=!0,d(".js-submit-btn").removeClass("active"))}),d(".detail-feedback").on("click",function(){var b={prefix:window.kmfGlobalConf.prefix},c=a("common/tpl/qa/feedback.tpl"),e=template.compile(c),f=e(b);d("body").append(f);var g=a("common/js/channel/feedback");g.bindEvent(),g.uploadImg()}),d("body").on("click",".question-icon",function(){var b={prefix:window.kmfGlobalConf.prefix},c=a("common/tpl/qa/statement-of-account.tpl"),e=template.compile(c),f=e(b);d(".detail-main").append(f)}),d("body").on("click",".shade-mask",function(){d(".statement-of-account").remove()}),d("body").on("click",".shade-ask",function(){d(".detail-feedback").click()})}};c.exports=k}),define("common/tpl/qa/feedback.tpl",[],'<div class="qa-mask">\n    <div class="qa-feedback-list">\n        \x3c!--头部--\x3e\n        <div class="feedback-top">\n            <h3 class="feedback-title">\n                问题反馈\n            </h3>\n            <span class="feedback-close-btn"> </span>\n        </div>\n        <div class="feedback-doing">\n            <div class="tag-list-con">\n                <ul class="tag-list">\n                    <li class="item-tag item-active" data-id="3">\n                        服务和人员\n                    </li>\n                    <li class="item-tag" data-id="2">\n                        系统bug\n                    </li>\n                    <li class="item-tag" data-id="1">\n                        功能建议\n                    </li>\n                    <li class="item-tag" data-id="4">\n                        使用疑问\n                    </li>\n                    <li class="item-tag" data-id="5">\n                        其他\n                    </li>\n                </ul>\n            </div>\n            <div class="feedback-content">\n                <textarea class="feedback-content-txt" placeholder="老师没有解决问题？回复太慢？告诉我们你遇到的问题，我们会尽快为你解决"></textarea\n        >\n      </div>\n      \x3c!--添加图片--\x3e\n      <div class="upload-con">\n        <div class="upload-img"></div>\n        <span class="upload-launch">\n          <i>添加图片</i>\n        </span>\n        <input\n          type="file"\n          name="file"\n          style="display: none;"\n          class="file-input"\n          multiple\n        />\n      </div>\n      <div class="feedback-submit-btn">\n        <div class="submit-btn">提交问题</div>\n      </div>\n    </div>\n    \x3c!--反馈结果页--\x3e\n    <div class="feedback-result">\n       <span class="feedback-close-btn"> </span>\n      <span class="feedback-result-icon"></span>\n      <div class="feedback-result-txt">\n        <p class="feedback-big-txt">提交成功</p>\n        <p class="feedback-small-txt">感谢你的反馈，我们会尽快处理你的问题</p>\n      </div>\n    </div>\n  </div>\n</div>\n<style>\n  .qa-mask {\n    width: 100%;\n    height: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background: rgba(0, 0, 0, 0.5);\n    box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.5);\n    z-index: 100;\n  }\n  .qa-feedback-list {\n    width: 560px;\n    height: 500px;\n    background: rgba(255, 255, 255, 1);\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -280px;\n    margin-top: -250px;\n    box-shadow: 0px 6px 16px 0px rgba(26, 27, 48, 0.2);\n    box-sizing: border-box;\n    z-index: 101;\n  }\n  .feedback-top {\n    width: 100%;\n    height: 64px;\n    line-height: 64px;\n    padding: 0 16px 0 40px;\n    box-sizing: border-box;\n    border:1px solid #F0F0F0;\n  }\n  .feedback-close-btn {\n    position: absolute;\n    right: 16px;\n    top: 12px;\n    width: 16px;\n    height: 16px;\n    background-image: url({{prefix}}code.kmf.com/dist/common/images/qa-feedback-icon.png);\n    background-repeat: no-repeat;\n    background-size: 245px 140px;\n    background-position: -208px -10px;\n    display: inline-block;\n    cursor: pointer;\n  }\n  .feedback-title {\n    width: 72px;\n    height: 28px;\n    color: #333;\n    font-size: 18px;\n    font-weight: bold;\n    float: left;\n  }\n  .feedback-doing {\n    padding:20px 40px 40px;\n    box-sizing: border-box;\n  }\n  .tag-list-con {\n    width: 100%;\n    box-sizing: border-box;\n  }\n  .tag-list {\n    width: 100%;\n    height: auto;\n    overflow: hidden;\n    padding-bottom: 10px;\n    box-sizing: border-box;\n  }\n  .item-tag {\n    min-width:52px;\n    height: 32px;\n    border: 1px dashed #dbdbdb;\n    line-height: 32px;\n    text-align: center;\n    float: left;\n    border-radius: 2px;\n    margin-right: 12px;\n    margin-bottom: 10px;\n    font-size: 14px;\n    color:#717171;\n    cursor: pointer;\n  }\n  .item-active {\n    background:rgba(76,145,255,0.08);\nborder:1px solid rgba(76,145,255,1);\n    color: #4c91ff;\n  }\n  .feedback-content {\n    width: 100%;\n    box-sizing: border-box;\n    height: 132px;\n  }\n  .feedback-content-txt {\n    color: #333;\n    width: 100%;\n    height: 100%;\n    border: none;\n    border-bottom: 1px solid #dbdbdb;\n  }\n  .feedback-content-txt::-webkit-input-placeholder{color: #a5a5a5;}\n  .upload-con {\n    margin-top:16px;\n    width: 100%;\n    height: auto;\n    box-sizing: border-box;\n    overflow: hidden;\n  }\n  .upload-launch {\n    width: 62px;\n    height: 62px;\n    border: 1px dashed #dbdbdb;\n    display: inline-block;\n    position: relative;\n  }\n  .upload-launch i {\n    width: 62px;\n    height: 20px;\n    text-align: center;\n    margin: 0 auto;\n    line-height: 90px;\n    position: absolute;\n    font-size: 12px;\n    color: #919191;\n    float: left;\n  }\n  .upload-launch i::before {\n    content: "";\n    position: absolute;\n    left: 18px;\n    top: 12px;\n    width: 24px;\n    height: 24px;\n    background-image: url({{prefix}}code.kmf.com/dist/common/images/qa-feedback-icon.png);\n    background-repeat: no-repeat;\n    background-size: 245px 140px;\n    background-position: -140px -10px;\n  }\n  .upload-launch i:hover::before{\n    content: "";\n    position: absolute;\n    left: 18px;\n    top: 12px;\n    width: 24px;\n    height: 24px;\n    background-image: url({{prefix}}code.kmf.com/dist/common/images/qa-feedback-icon.png);\n    background-repeat: no-repeat;\n    background-size: 245px 140px;\n    background-position: -174px -10px;\n  }\n  .feedback-submit-btn {\n    width: 128px;\n    height:40px;\n    position:absolute;\n    bottom:0;\n    left:50%;\n    margin-left:-64px;\n  }\n  .submit-btn {\n    width: 94%;\n    height: 40px;\n    text-align: center;\n    line-height: 40px;\n    border-radius: 4px;\n    background: #dbdbdb;\n    color: rgba(0, 0, 0, 0.4);\n    position: absolute;\n    bottom: 50px;\n    cursor: pointer;\n  }\n  .submit-btn:hover {\n    background: #4c91ff;\n    color: #fff;\n  }\n  .submit-active {\n    background: #4c91ff;\n    color: #fff;\n  }\n  .feedback-result {\n    width: 100%;\n    height:498px;\n    box-sizing: border-box;\n    margin-top: 40px;\n    display: none;;\n  }\n  .feedback-result-icon {\n    width: 92px;\n    height: 92px;\n    background-image: url({{prefix}}code.kmf.com/dist/common/images/qa-feedback-icon.png);\n    background-repeat: no-repeat;\n    background-size: 245px 140px;\n    background-position: -20px -20px;\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    margin-left: -46px;\n    margin-top: -90px;\n  }\n  .image-con {\n    width: 62px;\n    height: 62px;\n    float: left;\n    border: 1px solid #ccc;\n    margin-right: 5px;\n    position: relative;\n  }\n  .image-con img {\n    width: 100%;\n    height: 100%;\n    display: block;\n  }\n  .image-con .del-image {\n    width: 20px;\n    height: 20px;\n    background: url({{prefix}}code.kmf.com/dist/common/images/close-btn.png)\n      no-repeat;\n    background-size: 100% 100%;\n    position: absolute;\n    right: 0;\n    top: 0;\n    z-index: 2;\n    cursor: pointer;\n  }\n  .feedback-result-txt {\n    width: 100%;\n    text-align: center;\n    color: #717171;\n    position: absolute;\n    top: 50%;\n    margin-top: 30px;\n  }\n  .feedback-big-txt {\n    color: #666;\n    font-size: 24px;\n  }\n  .feedback-small-txt {\n    margin-top: 20px;\n  }\n</style>'),define("common/js/channel/feedback",["common/js/util/api"],function(a,b,c){var d=a("common/js/util/api"),e=[],f={saveFeedBack:function(a){var b=this,c={channel_id:"8001",question_type:$(".item-active").attr("data-id"),request_source:"答疑系统，题目ID"+a,question_images:e,question_content:$(".feedback-content-txt").val()};$.ajax({url:d.saveFeedBack,data:JSON.stringify(c),type:"POST",dataType:"json",beforeSend:function(a){a.setRequestHeader("Authorization","Bearer "+$.cookie("authkey"))},success:function(a){200==a.status?($(".feedback-doing").hide(),$(".feedback-top").hide(),$(".feedback-result").show(),b.isSuccess=!0):alert(a.message)},complete:function(){}})},bindEvent:function(){var a=this;$(".feedback-content-txt").on("keyup",function(){$(".item-active").length&&$(".submit-btn").addClass("submit-active")}),$(".feedback-close-btn").on("click",function(){a.isSuccess?($(".feedback-result").hide(),$(".feedback-doing").hide(),$(".feedback-top").hide(),$(".qa-mask").remove(),a.isSuccess=!1):$(".qa-mask").remove()}),$(".tag-list li").on("click",function(){$(this).addClass("item-active").siblings().removeClass("item-active")}),$(".submit-btn").on("click",function(){if(!$(".item-active").length)return alert("请选择反馈类型"),!1;var b=$("#target_id").val();a.saveFeedBack(b)}),$("body").on("click",".del-image",function(){var a=$(this).parent().index();console.log(a),$(this).parent().remove(),e.splice(a,1)})},uploadImg:function(){$(".file-input").length&&$(".file-input").aliFile({space:"kmf-image",subject:"test"==window.kmfGlobalConf.env?"test":"feedback",product_line:"test"==window.kmfGlobalConf.env?"test":"feedback-web",authkey:$.cookie("authkey"),multiple:!0,maxLength:5,fileRemove:function(a){console.log(a)},success:function(a){e.push(a.result.file);var b="http:"+a.result.domain+"/"+a.result.full_url,c='<div class="image-con"><img class="image-avatar" src="'+b+'" alt=""><span class="del-image file-items__delete"></span></div>';$(".upload-img").append(c)},error:function(a){console.log(a)}})}};c.exports=f}),define("common/tpl/qa/statement-of-account.tpl",[],'\x3c!-- 追问和结束规则 --\x3e\n<div class="statement-of-account">\n    <div\n      class="shade-mask"\n    ></div>\n    <div class="shade">\n      <div class="shade-title">追问和结束规则</div>\n      <div class="shade-content">\n        <span class="shade-name">追问：</span>老师回复后，学生可以在 48\n        小时内进行追问。\n      </div>\n      <div class="shade-content">\n        <span class="shade-name">结束：</span\n        >老师回复后，和学生确认已解决问题，达成一致后，可以直接结束答疑，并发送评价表，学生可对该次答疑服务进行打分；若学生\n        48 小时内未进行追问或回复，则系统自动结束该次答疑，并发送评价表。\n      </div>\n      <div class="shade-ask">\n        <div class="ask-icon"></div>\n        <div class="ask-text">问题反馈</div>\n      </div>\n    </div>\n    </div>\n<style>\n    /* 追问和结束规则 */\n\n.shade {\n  height: 400px;\n  background: rgba(255, 255, 255, 1);\n  border-radius: 15px 15px 0px 0px;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  padding: 32px 24px 0;\n  box-sizing: border-box;\n  z-index: 10000;\n}\n\n.shade-mask {\n  background: rgba(0, 0, 0, 0.5);\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  opacity: 0.5;\n}\n\n.shade .shade-title {\n  height: 30px;\n  font-size: 20px;\n  font-family: PingFangSC-Medium, PingFang SC;\n  font-weight: 500;\n  color: rgba(51, 51, 51, 1);\n  line-height: 30px;\n}\n\n.shade-content {\n  margin-top: 20px;\n  font-size: 16px;\n  color: rgba(51, 51, 51, 1);\n  line-height: 24px;\n}\n\n.shade-name {\n  font-weight: bold;\n}\n\n.shade .ask-icon {\n  padding: 3px 0;\n  width: 24px;\n  height: 24px;\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 9px;\n  background: url({{prefix}}code.kmf.com/dist/common/css/img/iconxcx.png);\n  background-repeat: no-repeat;\n  background-position: -118px -5px;\n  background-size: 237px 288px;\n}\n\n.shade .ask-text {\n  height: 27px;\n  font-size: 16px;\n  font-family: PingFangSC;\n  color: rgba(76, 145, 255, 1);\n  line-height: 27px;\n  display: inline-block;\n}\n\n.shade-ask {\n  margin-top: 26px;\n  display: inline-block;\n  cursor:pointer;\n}\n\n/* 追问和结束规则结束 */\n</style>'),define("common/tpl/qa/qa-evaluate.tpl",[],'\x3c!-- 答疑评价 --\x3e\n  <div\n    class="qa-evaluate"\n  >\n    <div class="qa-hr"></div>\n    <div class="qa-hr-content">\n      <p>请为本次答疑服务做出评价</p>\n    </div>\n    <div>\n      <div class="evaluate">\n        <div class="click-evaluate">\n          <div class="bq">\n            <div class="bq-bg bg1"></div>\n            <div class="bq-font">\n              不满意\n            </div>\n          </div>\n          <div class="bq">\n            <div class="bq-bg bg2"></div>\n            <div class="bq-font">一般</div>\n          </div>\n          <div class="bq">\n            <div class="bq-bg bg3"></div>\n            <div class="bq-font">可</div>\n          </div>\n          <div class="bq">\n            <div class="bq-bg bg4"></div>\n            <div class="bq-font">很棒</div>\n          </div>\n          <div class="bq">\n            <div class="bq-bg bg5"></div>\n            <div class="bq-font">超爱</div>\n          </div>\n        </div>\n        <div class="comment-tags">\n\n        </div>\n        <div class="submit-textArea">\n          <textarea\n            class="textcontent"\n            placeholder="描述你遇到的详细问题，我们会尽快帮你解决"\n            style="height: 100%;width: 100%;  font-size: 14px;border:none"\n          />\n        </div>\n        <button\n          class="submit-button"\n        >\n          提交\n        </button>\n      </div>\n    </div>\n    <div class="evaluate-result result1">\n      <div class="seccess-icon">\n        <div class="icon"></div>\n        <span class="font">提交成功</span>\n      </div>\n      <div class="feedback-content">抱歉给你带来了不好的体验</div>\n      <div class="feedback-content">问题我们会尽快处理</div>\n    </div>\n\n    <div class="evaluate-result result2">\n      <div class="seccess-icon">\n        <div class="icon"></div>\n        <span class="font">提交成功</span>\n      </div>\n      <div class="feedback-content">感谢你的反馈，我们会努力做的更好~</div>\n    </div>\n  </div>\n\n\n<style>\n/* 答疑评价开始 */\n\n.qa-evaluate {\n  margin: 20px 0;\n}\n\n.qa-hr {\n  width: 100%;\n}\n\n.qa-hr-content {\n  height: 13px;\n  font-size: 12px;\n  font-family: PingFangSC;\n  color: rgba(153, 153, 153, 1);\n  line-height: 13px;\n  text-align: center;\n}\n\n.qa-hr-content p {\n  display: inline-block;\n  padding: 0 6px;\n  position: relative;\n  top: -7px;\n  background: rgba(238, 240, 243, 1);\n}\n\n.evaluate {\n  margin: 20px 0;\n  background: rgba(255, 255, 255, 1);\n  border-radius: 4px;\n  padding: 12px 28px;\n  box-sizing: border-box;\n}\n\n.click-evaluate {\n  display: flex;\n  justify-content: space-between;\n}\n\n.click-evaluate .bq {\n  flex: 1;\n  text-align: center;\n}\n\n.bq .bq-bg {\n  margin: 0 auto;\n  width: 40px;\n  height: 40px;\n  background-image: url("https://doc.kmf.com/kmf-pigai/55/ee/55eea0db4ba84a19de2e17a4d3dd9a6d.png");\n  background-repeat: no-repeat;\n  background-size: 237px 288px;\n}\n\n.bq .bq-bg.bg1 {\n  background-position: -5px -37px;\n}\n\n.bq .bq-bg.bg1active {\n  background-position: -5px -82px;\n}\n\n.bq .bq-bg.bg2 {\n  background-position: -50px -37px;\n}\n\n.bq .bq-bg.bg2active {\n  background-position: -50px -82px;\n}\n\n.bq .bq-bg.bg3 {\n  background-position: -95px -37px;\n}\n\n.bq .bq-bg.bg3active {\n  background-position: -95px -82px;\n}\n\n.bq .bq-bg.bg4 {\n  background-position: -140px -37px;\n}\n\n.bq .bq-bg.bg4active {\n  background-position: -140px -82px;\n}\n\n.bq .bq-bg.bg5 {\n  background-position: -185px -37px;\n}\n\n.bq .bq-bg.bg5active {\n  background-position: -185px -82px;\n}\n\n.bq .bq-font {\n  height: 21px;\n  font-size: 14px;\n  font-family: PingFangSC;\n  color: rgba(153, 153, 153, 1);\n  line-height: 21px;\n  text-align: center;\n}\n\n.bq .fontactive {\n  color: rgba(51, 51, 51, 1);\n}\n\n.evaluate-result {\n  margin: 20px 0;\n  background: rgba(255, 255, 255, 1);\n  border-radius: 4px;\n  padding: 30px 0;\n  display:none\n}\n\n.seccess-icon {\n  text-align: center;\n  margin-bottom: 13px;\n}\n\n.seccess-icon .icon {\n  width: 24px;\n  height: 24px;\n  background-image: url("https://doc.kmf.com/kmf-pigai/55/ee/55eea0db4ba84a19de2e17a4d3dd9a6d.png");\n  background-repeat: no-repeat;\n  background-size: 237px 288px;\n  background-position: -89px -5px;\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.seccess-icon .font {\n  height: 24px;\n  font-size: 16px;\n  font-family: PingFangSC-Medium, PingFangSC;\n  font-weight: 500;\n  color: rgba(51, 51, 51, 1);\n  line-height: 24px;\n  position: relative;\n  left: 4px;\n  top: 2px;\n}\n\n.feedback-content {\n  text-align: center;\n  height: 21px;\n  font-size: 14px;\n  font-family: PingFangSC;\n  color: rgba(102, 102, 102, 1);\n  line-height: 21px;\n}\n\n.comment-tags {\n  margin-top: 20px;\n  margin-bottom: 6px;\n}\n\n.comment-tags .btn {\n  padding:0 10px;\n  margin-right: 6px;\n  cursor: pointer;\n  height: 30px;\n  border-radius: 2px;\n  border: 1px solid rgba(220, 220, 220, 1);\n  text-align: center;\n  font-size: 12px;\n  font-family: PingFangSC;\n  color: rgba(153, 153, 153, 1);\n  line-height: 30px;\n  display: inline-block;\n  margin-bottom: 10px;\n}\n\n.comment-tags .btn.active {\n  background: rgba(76, 145, 255, 0.05);\n  border: 1px solid rgba(76, 145, 255, 1);\n  color: rgba(76, 145, 255, 1);\n}\n\n.submit-textArea {\n  height: 110px;\n  border: 1px solid rgba(220, 220, 220, 1);\n  width: 94%;\n  padding: 5px;\n  display:none;\n}\n\n.submit-button {\n  width: 100%;\n  height: 44px;\n  background: rgba(76, 145, 255, 1);\n  border-radius: 22px;\n  margin-top: 16px;\n  margin-bottom: 10px;\n  color: rgba(255, 255, 255, 1);\n}\n\n/* 答疑评价结束 */\n</style>\n'),define("common/tpl/qa/detail.tpl",[],'<div class="detail" data-id="{{ id ? id : order }}">\n    <div style="width: 100%;height:100%;">\n        <div class="q-title">\n            <span class="detail-arrow"></span>\n            <span class="detail-title">提问详情</span>\n            <div class="js-close-btn" id="js-close-btn"></div>\n        </div>\n        <div class="detail-main">\n            <div class="detail-main-list">\n                <div class="detail-top">\n                    <div class="detail-main-title">\n                        <span class="detail-title-fl">{{ title }}</span> {{if time}}\n                        <span class="detail-time-fr">{{ detailTime }}</span> {{else}}\n                        <span class="detail-time-fr">{{ transform }}</span> {{/if}}\n                    </div>\n                    <div class="detail-img-con">\n                        {{if imgUrl}}\n                        <img src="{{ imgUrl }}" /> {{else if attachment}}\n                        <img src="{{ attachment.uri }}" /> {{/if}}\n                    </div>\n                    {{if tagList}}\n                    <div class="detail-tag-list">\n                        {{each tagList}}\n                        <span class="detail-tag" data-id="{{ $value.id }}">{{\n              $value.name\n            }}</span> {{/each}}\n                    </div>\n                    {{else}}\n                    <div class="detail-tag-list">\n                        {{each tags}}\n                        <span class="detail-tag" data-id="{{ $value.id }}">{{\n              $value.name\n            }}</span> {{/each}}\n                    </div>\n                    {{/if}}\n                    <div class="detail-desc">\n                        {{if desc}} {{ desc }} {{else}} {{ describe }} {{/if}}\n                    </div>\n                </div>\n                <div class="detail-bot">\n                    <div class="detail-replay"></div>\n                    <div class="detail-feedback">\n                        <i class="feed-back-icon"></i>\n                        <span>问题反馈</span>\n                    </div>\n                    <div class="detail-bottom">\n                        <div class="detail-ask-con">\n                            <input type="text" placeholder="没看懂可以继续追问哦" class="detail-ask-input" />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    \x3c!--遮照--\x3e\n    <div class="mask hide">\n        {{if imgUrl}}\n        <img src="{{ imgUrl }}" /> {{else if attachment}}\n        <img src="{{ attachment.uri }}" /> {{/if}}\n    </div>\n</div>\n<style>\n    .detail {\n        width: 348px;\n        height: 643px;\n        background: rgba(255, 255, 255, 1);\n        position: fixed;\n        bottom: 20px;\n        right: 30px;\n        box-shadow: 0px 6px 16px 0px rgba(26, 27, 48, 0.2);\n        border-radius: 4px;\n        box-sizing: border-box;\n    }\n\n    .mask {\n        width: 100%;\n        height: 100%;\n        background: rgba(0, 0, 0, 0.6);\n        position: fixed;\n        top: 0;\n        left: 0;\n        z-index: 5;\n        overflow-y: auto;\n    }\n\n    .hide {\n        display: none;\n    }\n\n    .mask img {\n        position: absolute;\n        width: 80%;\n        left: 50%;\n        top: 10%;\n        bottom: 10%;\n        margin-left: -40%;\n    }\n\n    .detail-feedback {\n        width: 92px;\n        height: 32px;\n        background: linear-gradient( 300deg, rgba(50, 51, 61, 1) 0%, rgba(66, 67, 79, 1) 100%);\n        box-shadow: 0px 2px 6px 0px rgba(0, 0, 0, 0.15);\n        border-radius: 24px 0px 0px 24px;\n        opacity: 0.6;\n        position: absolute;\n        right: 0;\n        bottom: 68px;\n        padding: 0 5px;\n        box-sizing: border-box;\n        cursor: pointer;\n    }\n\n    .detail-feedback span {\n        height: 24px;\n        font-size: 12px;\n        color: rgba(255, 255, 255, 1);\n        line-height: 24px;\n        margin-top: 4px;\n        float: left;\n    }\n\n    .detail-feedback .feed-back-icon {\n        width: 20px;\n        height: 20px;\n        background-image: url({{prefix}}code.kmf.com/dist/common/css/img/icon.png);\n        background-repeat: no-repeat;\n        background-size: 445px 340px;\n        background-position: -310px -10px;\n        float: left;\n        margin-top: 6px;\n        margin-right: 5px;\n    }\n\n    .detail-feedback:hover {\n        opacity: 0.8;\n    }\n\n    .q-title {\n        width: 100%;\n        height: 40px;\n        background: linear-gradient( 300deg, rgba(50, 51, 61, 1) 0%, rgba(66, 67, 79, 1) 100%);\n        font-size: 16px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        color: rgba(255, 255, 255, 1);\n        padding: 0 8px 0 20px;\n        box-sizing: border-box;\n        line-height: 40px;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n    .detail-top {\n        height: auto;\n        width: 100%;\n        background: #fff;\n    }\n\n    .detail-bot {\n        width: 100%;\n        height: auto;\n        min-height: 375px;\n        overflow: hidden;\n        background: rgba(238, 240, 243, 1);\n    }\n\n    .detail-arrow {\n        width: 20px;\n        height: 20px;\n        position: absolute;\n        left: 20px;\n        top: 50%;\n        margin-top: -10px;\n        background-image: url({{prefix}}code.kmf.com/dist/common/css/img/icon.png);\n        background-repeat: no-repeat;\n        background-size: 445px 340px;\n        background-position: -336px -56px;\n    }\n\n    .detail-title {\n        width: 66px;\n        height: 28px;\n        font-size: 16px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(255, 255, 255, 1);\n        line-height: 28px;\n        position: absolute;\n        left: 50%;\n        top: 50%;\n        margin-top: -14px;\n        box-sizing: border-box;\n        margin-left: -33px;\n    }\n\n    .time-student,\n    .time-teacher {\n        color: #999;\n        font-size: 12px;\n        margin-left: 10px;\n        display: inline-block;\n        margin-top: 10px;\n    }\n    .time-student-an,\n    .time-teacher-an{\n        color: #999;\n        font-size: 12px;\n        margin-left: 10px;\n        margin-top: 10px;\n    }\n\n    .time-student, .time-student-an {\n        float: right;\n    }\n\n    .time-teacher {\n        margin-left: 10px;\n    }\n\n    .detail-main {\n        height: 600px;\n        margin-top: 40px;\n        overflow-y: auto;\n    }\n\n    .detail-main-list {\n        width: 100%;\n        overflow-y: auto;\n    }\n\n    .detail-main-title {\n        width: 100%;\n        height: 28px;\n        line-height: 28px;\n        box-sizing: border-box;\n        padding: 0 20px;\n        margin: 16px 0 12px 0;\n    }\n\n    .detail-title-fl {\n        width: 190px;\n        height: 28px;\n        box-sizing: border-box;\n        word-break: keep-all;\n        /* 不换行 */\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        float: left;\n        font-size: 14px;\n    }\n\n    .detail-time-fr {\n        float: right;\n        font-weight: 300;\n        color: #999;\n        font-size: 12px;\n    }\n\n    .detail-img-con {\n        box-sizing: border-box;\n        width: 308px;\n        height: 91px;\n        border-radius: 3px;\n        border: 1px solid rgba(236, 236, 236, 1);\n        margin: 0 auto;\n    }\n\n    .detail-img-con img {\n        width: 100%;\n        height: 100%;\n        display: block;\n    }\n\n    .detail-tag-list {\n        padding: 0 20px;\n        box-sizing: border-box;\n        margin-top: 13px;\n    }\n\n    .detail-tag {\n        height: 24px;\n        min-width: 55px;\n        float: left;\n        font-size: 12px;\n        font-family: MicrosoftYaHei;\n        line-height: 24px;\n        padding: 2px 7px;\n        margin-right: 8px;\n        margin-bottom: 8px;\n        border-radius: 2px;\n        background: rgba(249, 249, 249, 1);\n        color: rgba(102, 102, 102, 1);\n        border: 1px solid rgba(226, 226, 226, 1);\n    }\n\n    .detail-desc {\n        width: 100%;\n        padding: 0 20px 12px;\n        box-sizing: border-box;\n        word-break: keep-all;\n        /* 不换行 */\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        overflow: hidden;\n        color: #333;\n        font-size: 14px;\n        margin-top: 14px;\n    }\n\n    .detail-replay {\n        width: 100%;\n        padding: 20px 20px 16px;\n        box-sizing: border-box;\n        margin-bottom: 100px;\n        height: auto;\n        text-align:center\n    }\n\n    .detail-replay-time,\n    .detail-replay-tip {\n        font-size: 12px;\n        color: #999;\n    }\n\n    .detail-replay-time {\n        min-width: 50px;\n        max-width: 150px;\n        margin: 0 auto;\n        color: #999;\n        height: 20px;\n        line-height: 20px;\n        text-align: center;\n    }\n\n    .detail-replay-tip {\n        width: 280;\n        margin: 0 auto;\n        margin-top: 4px;\n        height: auto;\n        line-height: 20px;\n        color: #666;\n        text-align: center;\n    }\n\n    .detail-replay-list {\n        font-size: 14px;\n        clear: both;\n        overflow: hidden;\n        margin-bottom: 10px;\n    }\n\n    .detail-replay-list img {\n        width: 100%;\n        height: 100%;\n        display: block;\n    }\n\n    .detail-replay-new {\n        width: auto;\n        padding: 5px 18px;\n        display:inline-block;\n        max-width: 280px;\n        line-height: 20px;\n        font-size: 12px;\n        color: #fff;\n        height: 20px;\n        margin: 0 auto;\n        background: rgba(0, 0, 0, 0.15);\n        border-radius: 8px;\n        margin-top: 10px;\n    }\n\n    .detail-replay-teacher {\n        width: 100%;\n        height: auto;\n        margin-top: 8px;\n        clear: both;\n    }\n\n    .detail-teacher-pic,\n    .detail-student-pic {\n        width: 32px;\n        height: 32px;\n        border-radius: 32px;\n        box-sizing: border-box;\n        float: left;\n        overflow:hidden;\n    }\n\n    .detail-teacher-txt {\n        float: left;\n    }\n\n    .detail-student-txt {\n        float: right;\n    }\n\n    .detail-teacher-txt,\n    .detail-student-txt {\n        width: auto;\n        padding: 8px 12px;\n        box-sizing: border-box;\n        height: auto;\n        line-height: 24px;\n        border-radius: 0 4px 4px 4px;\n        background: #fff;\n        display: inline-block;\n        margin-left: 8px;\n        max-width: 170px;\n    }\n\n    .detail-bottom {\n        width: 335px;\n        margin: 0 auto;\n        box-sizing: border-box;\n        background: rgba(238, 240, 243, 1);\n        position: absolute;\n        bottom: 0;\n        height: 60px;\n        z-index: 3;\n    }\n\n    .detail-ask-con {\n        width: 308px;\n        height: 40px;\n        margin: 0 auto;\n    }\n\n    .detail-ask-input {\n        appearance: none;\n        width: 308px;\n        height: 40px;\n        background: rgba(255, 255, 255, 1);\n        border-radius: 4px;\n        border: 1px solid rgba(228, 228, 228, 1);\n        padding-left: 12px;\n        box-sizing: border-box;\n        display: none;\n    }\n\n    .detail-teacher-tip {\n        clear: both;\n    }\n\n    .detail-ask-student {\n        width: 100%;\n        height: auto;\n        margin-top: 8px;\n        min-height: 40px;\n    }\n\n    .detail-student-pic {\n        float: right;\n        margin-left: 8px;\n    }\n\n    .detail-student-txt {\n        float: right;\n        background: #4c91ff;\n        color: #fff;\n    }\n\n    .js-close-btn {\n        position: absolute;\n        right: 8px;\n        top: 12px;\n        width: 16px;\n        height: 16px;\n        background-image: url({{prefix}}code.kmf.com/dist/common/css/img/icon.png);\n        background-repeat: no-repeat;\n        background-size: 445px 340px;\n        background-position: -284px -10px;\n        display: inline-block;\n        cursor: pointer;\n    }\n    .question-icon {\n        display: inline-block;\n        width: 18px;\n        height: 18px;\n        background: url({{prefix}}code.kmf.com/dist/common/css/img/iconxcx.png);\n        background-repeat: no-repeat;\n        background-position: -66px -5px;\n        background-size: 237px 288px;\n        vertical-align: middle;\n        cursor:pointer;\n    }\n</style>'),define("common/tpl/qa/guide.tpl",[],'<div class="guide">\n    <i class="guide-close-btn js-close-btn"></i>\n    <h3 class="guide-title">新答疑系统上线啦！</h3>\n    <div class="guide-con">\n        <ul class="guide-con-left">\n            <li>• 全体主讲老师一同上阵</li>\n            <li>• 当日提问当日答</li>\n            <li>• 微信小程序及时查看，随时追问</li>\n        </ul>\n        <div class="guide-con-right">\n            <span class="guide-code"></span>\n            <div class="guide-right-con">\n                <p class="guide-right-txt">关注微信公众号</p>\n                <p class="guide-right-txt">获取答疑小程序</p>\n            </div>\n        </div>\n    </div>\n    <p class="guide-detail">查看详情<i></i></p>\n    <div class="guide-bot-title">课内题目一键提问</div>\n    <div class="guide-bot-tip">\n        <i class="guide-bot-icon"></i>\n        <span class="guide-tip-txt">点击提问老师</span>\n    </div>\n</div>\n<style>\n    .guide {\n        width: 488px;\n        height: 292px;\n        background: url({{prefix}}code.kmf.com/dist/common/images/guide-icon.png) no-repeat;\n        background-size: 708px 333px;\n        background-position: -200px -20px;\n        position: fixed;\n        bottom: 79px;\n        font-family: MicrosoftYaHei;\n        right: 32px;\n        font-size: 14px;\n        padding: 24px 32px 40px;\n        box-sizing: border-box;\n        color: #fff;\n        cursor: pointer;\n    }\n    \n    .guide-close-btn {\n        width: 20px;\n        height: 20px;\n        background: url({{prefix}}code.kmf.com/dist/common/images/guide-icon.png) no-repeat;\n        background-size: 708px 333px;\n        background-position: -20px -20px;\n        position: absolute;\n        right: 20px;\n        top: 20px;\n        cursor: pointer;\n    }\n    \n    .guide-title {\n        width: 220px;\n        height: 36px;\n        font-size: 24px;\n        font-family: MicrosoftYaHei;\n        color: rgba(254, 219, 175, 1);\n        line-height: 36px;\n    }\n    \n    .guide-con {\n        width: 100%;\n        height: 72px;\n        margin: 16px 0 12px;\n    }\n    \n    .guide-con-left {\n        width: 220px;\n        float: left;\n    }\n    \n    .guide-con-left li {\n        height: 24px;\n        line-height: 24px;\n    }\n    \n    .guide-con-right {\n        width: 170px;\n        height: 72px;\n        float: right;\n    }\n    \n    .guide-code {\n        width: 60px;\n        height: 60px;\n        background: url({{prefix}}code.kmf.com/dist/common/images/guide-icon.png) no-repeat;\n        background-size: 708px 333px;\n        background-position: -120px -20px;\n        float: left;\n        margin-right: 12px;\n    }\n    \n    .guide-right-con {\n        float: right;\n        height: 40px;\n        line-height: 20px;\n        margin-top: 10px;\n    }\n    \n    .guide-detail {\n        height: 30px;\n        line-height: 30px;\n        cursor: pointer;\n    }\n    \n    .guide-detail i {\n        width: 16px;\n        height: 16px;\n        background: url({{prefix}}code.kmf.com/dist/common/images/guide-icon.png) no-repeat;\n        background-size: 708px 333px;\n        background-position: -84px -20px;\n        display: inline-block;\n        position: relative;\n        top: 3px;\n        left: 3px;\n    }\n    \n    .guide-bot-title {\n        width: 192px;\n        height: 36px;\n        font-size: 24px;\n        font-family: MicrosoftYaHei;\n        color: rgba(254, 219, 175, 1);\n        line-height: 36px;\n        position: absolute;\n        right: 32px;\n        bottom: 68px;\n    }\n    \n    .guide-bot-icon {\n        width: 24px;\n        height: 24px;\n        background: url({{prefix}}code.kmf.com/dist/common/images/guide.gif) no-repeat;\n        background-size: 100% 100%;\n        display: inline-block;\n    }\n    \n    .guide-bot-tip {\n        height: 24px;\n        line-height: 24px;\n        position: absolute;\n        right: 32px;\n        bottom: 40px;\n    }\n</style>'),define("common/tpl/qa/index.tpl",[],'<div class="question-feedback" id="question-feedback" bindtap="gotoQuestionFeedback">\n    <div class="question-feedback-btn js-question-feedback-btn">\n        \x3c!-- <div class="feedback-icon"></div> --\x3e\n        <div class="feedback-text">\n            <span class="feedback-icon-teacher"></span> 提问老师\n        </div>\n        <input size="100" type="file" name="fileimage" style=\'display: none;\' class="upfileImage" id="upfileimage">\n    </div>\n</div>\n\n<style>\n    .question-feedback {\n        position: fixed;\n        bottom: 24px;\n        right: 32px;\n    }\n\n    .question-feedback-btn {\n        width: 132px;\n        height: 48px;\n        box-sizing: border-box;\n        background: linear-gradient(90deg, rgba(103, 104, 119, 1) 0%, rgba(50, 51, 61, 1) 100%);\n        box-shadow: 0px 5px 12px 0px rgba(34, 37, 52, 0.31);\n        border-radius: 32px;\n        display: inline-block;\n        cursor: pointer;\n    }\n\n    .question-feedback-btn .feedback-icon {\n        width: 36px;\n        height: 36px;\n        vertical-align: middle;\n        /* background-image: url(/dist/common/css/img/icon.png); */\n        background-repeat: no-repeat;\n        background-size: 445px 340px;\n        background-position: -10px -10px;\n        display: inline-block;\n    }\n\n    .question-feedback .feedback-icon-teacher {\n        width: 36px;\n        height: 36px;\n        background: url({{prefix}}code.kmf.com/dist/common/images/feedback-teacher-icon.png) no-repeat;\n        display: inline-block;\n        position: absolute;\n        left: 6px;\n        top: 6px;\n        background-size: 100% 100%;\n        margin-right: 8px;\n    }\n\n    .question-feedback-btn .feedback-text {\n        width: 132px;\n        height: 48px;\n        font-size: 16px;\n        font-family: MicrosoftYaHei-Bold, MicrosoftYaHei;\n        font-weight: bold;\n        color: rgba(255, 255, 255, 1);\n        line-height: 48px;\n        background: linear-gradient(83deg, rgba(238, 200, 161, 1) 0%, rgba(255, 236, 218, 1) 100%);\n        -webkit-background-clip: text;\n        -webkit-text-fill-color: transparent;\n        display: inline-block;\n        text-align: center;\n        padding-left: 15px;\n        position: relative;\n    }\n</style>'),define("common/js/mod/toefl-k",["jquery"],function(a,b,c){var d=a("jquery"),e=-1==window.location.href.indexOf("test-")?"https://api.kmf.com":"https://test-api.kmf.com";({init:function(){var a=this,b=b||{},c={select:{kwrap:"#toefl-openk-wrap",closeBtn:".js-toefl-openk-close",current:"#is_current"}};return a.select=d.extend(c.select,b.select||{}),a.opt=d.extend(c,b||{}),a.ajaxUrl().getDom().bindEvent(),a},ajaxUrl:function(){var a=this;return a.getCourseonline=e+"/yunying/course-public/living/4",a},getDom:function(){var a=this;return a.$kwrap=d(a.select.kwrap),a.$closeBtn=d(a.select.closeBtn),a.$current=d(a.select.current),a},bindEvent:function(){var a=this;return a.getCourse(),a.getclose(),a},getCourse:function(){var a=this;d.ajax({type:"get",url:a.getCourseonline,success:function(b){b.result.constructor===Array?d.cookie("toefl-k-isclick",null):0==a.$current.val()?(d.cookie("toefl-k-isclick",null),a.$kwrap.fadeIn(),a.$closeBtn.fadeIn()):1==a.$current.val()&&(d.cookie("toefl-k-isclick")?(a.$closeBtn.fadeOut(),a.$kwrap.fadeOut()):(a.$kwrap.fadeIn(),a.$closeBtn.fadeIn()))},error:function(a){console.log(a)}})},getclose:function(){var a=this;return a.$closeBtn.on("click",function(b){b.preventDefault(),d(this).fadeOut(),a.$kwrap.fadeOut(),d.cookie("toefl-k-isclick","true",{domain:".kmf.com"})}),a}}).init()});